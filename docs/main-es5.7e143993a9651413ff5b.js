!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function a(t,e,n){return(a=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",y="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",w="[object Symbol]",_="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",I="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",x="[object Uint8Array]",O="[object Uint16Array]",N="[object Uint32Array]",P=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,j=RegExp(L.source),V=RegExp(M.source),F=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,K=RegExp(G.source),W=/^\s+|\s+$/g,Q=/^\s+/,Y=/\s+$/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="["+ft+"]",pt="["+ht+"]",vt="\\d+",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",gt="[^\\ud800-\\udfff"+ft+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",mt="\\ud83c[\\udffb-\\udfff]",bt="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Et="(?:"+yt+"|"+gt+")",It="(?:"+kt+"|"+gt+")",St="(?:"+pt+"|"+mt+")?",Tt="[\\ufe0e\\ufe0f]?"+St+"(?:\\u200d(?:"+[bt,wt,_t].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*",Ct="(?:"+["[\\u2700-\\u27bf]",wt,_t].join("|")+")"+Tt,At="(?:"+[bt+pt+"?",pt,wt,_t,"[\\ud800-\\udfff]"].join("|")+")",xt=RegExp("['\u2019]","g"),Ot=RegExp(pt,"g"),Nt=RegExp(mt+"(?="+mt+")|"+At+Tt,"g"),Pt=RegExp([kt+"?"+yt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[dt,kt,"$"].join("|")+")",It+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[dt,kt+Et,"$"].join("|")+")",kt+"?"+Et+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Ct].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mt=-1,jt={};jt[I]=jt[S]=jt[T]=jt[C]=jt[A]=jt[x]=jt["[object Uint8ClampedArray]"]=jt[O]=jt[N]=!0,jt[s]=jt[u]=jt[k]=jt[c]=jt[E]=jt[l]=jt[h]=jt[f]=jt[p]=jt[v]=jt[y]=jt[g]=jt[m]=jt[b]=jt[_]=!1;var Vt={};Vt[s]=Vt[u]=Vt[k]=Vt[E]=Vt[c]=Vt[l]=Vt[I]=Vt[S]=Vt[T]=Vt[C]=Vt[A]=Vt[p]=Vt[v]=Vt[y]=Vt[g]=Vt[m]=Vt[b]=Vt[w]=Vt[x]=Vt["[object Uint8ClampedArray]"]=Vt[O]=Vt[N]=!0,Vt[h]=Vt[f]=Vt[_]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=parseFloat,qt=parseInt,Bt="object"==typeof global&&global&&global.Object===Object&&global,Ht="object"==typeof self&&self&&self.Object===Object&&self,zt=Bt||Ht||Function("return this")(),Gt=e&&!e.nodeType&&e,Kt=Gt&&"object"==typeof t&&t&&!t.nodeType&&t,Wt=Kt&&Kt.exports===Gt,Qt=Wt&&Bt.process,Yt=function(){try{return Kt&&Kt.require&&Kt.require("util").types||Qt&&Qt.binding&&Qt.binding("util")}catch(t){}}(),Xt=Yt&&Yt.isArrayBuffer,$t=Yt&&Yt.isDate,Zt=Yt&&Yt.isMap,Jt=Yt&&Yt.isRegExp,te=Yt&&Yt.isSet,ee=Yt&&Yt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function ue(t,e){return!(null==t||!t.length)&&me(t,e,0)>-1}function ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function de(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ve=ke("length");function ye(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function ge(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function me(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ge(t,we,n)}function be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function we(t){return t!=t}function _e(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function Ee(t){return function(e){return null==t?void 0:t[e]}}function Ie(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Se(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Te(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ce(t){return function(e){return t(e)}}function Ae(t,e){return le(e,function(e){return t[e]})}function xe(t,e){return t.has(e)}function Oe(t,e){for(var n=-1,r=t.length;++n<r&&me(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length;n--&&me(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var De=Ee({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Re=Ee({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Ft[t]}function Me(t){return Dt.test(t)}function je(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Ve(t,e){return function(n){return t(e(n))}}function Fe(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[i++]=n)}return a}function Ue(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Be(t){return Me(t)?function(t){for(var e=Nt.lastIndex=0;Nt.test(t);)++e;return e}(t):ve(t)}function He(t){return Me(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.split("")}(t)}var ze=Ee({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ge=function t(e){var n,r=(e=null==e?zt:Ge.defaults(zt.Object(),e,Ge.pick(zt,Lt))).Array,ht=e.Date,ft=e.Error,dt=e.Function,pt=e.Math,vt=e.Object,yt=e.RegExp,gt=e.String,mt=e.TypeError,bt=r.prototype,wt=vt.prototype,_t=e["__core-js_shared__"],kt=dt.prototype.toString,Et=wt.hasOwnProperty,It=0,St=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=wt.toString,Ct=kt.call(vt),At=zt._,Nt=yt("^"+kt.call(Et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Wt?e.Buffer:void 0,Ft=e.Symbol,Bt=e.Uint8Array,Ht=Dt?Dt.allocUnsafe:void 0,Gt=Ve(vt.getPrototypeOf,vt),Kt=vt.create,Qt=wt.propertyIsEnumerable,Yt=bt.splice,ve=Ft?Ft.isConcatSpreadable:void 0,Ee=Ft?Ft.iterator:void 0,Ke=Ft?Ft.toStringTag:void 0,We=function(){try{var t=$i(vt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Qe=e.clearTimeout!==zt.clearTimeout&&e.clearTimeout,Ye=ht&&ht.now!==zt.Date.now&&ht.now,Xe=e.setTimeout!==zt.setTimeout&&e.setTimeout,$e=pt.ceil,Ze=pt.floor,Je=vt.getOwnPropertySymbols,tn=Dt?Dt.isBuffer:void 0,en=e.isFinite,nn=bt.join,rn=Ve(vt.keys,vt),on=pt.max,an=pt.min,sn=ht.now,un=e.parseInt,cn=pt.random,ln=bt.reverse,hn=$i(e,"DataView"),fn=$i(e,"Map"),dn=$i(e,"Promise"),pn=$i(e,"Set"),vn=$i(e,"WeakMap"),yn=$i(vt,"create"),gn=vn&&new vn,mn={},bn=Co(hn),wn=Co(fn),_n=Co(dn),kn=Co(pn),En=Co(vn),In=Ft?Ft.prototype:void 0,Sn=In?In.valueOf:void 0,Tn=In?In.toString:void 0;function Cn(t){if(za(t)&&!Da(t)&&!(t instanceof Nn)){if(t instanceof On)return t;if(Et.call(t,"__wrapped__"))return Ao(t)}return new On(t)}var An=function(){function t(){}return function(e){if(!Ha(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function xn(){}function On(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Nn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function Mn(t){var e=this.__data__=new Dn(t);this.size=e.size}function jn(t,e){var n=Da(t),r=!n&&Pa(t),i=!n&&!r&&ja(t),o=!n&&!r&&!i&&Za(t),a=n||r||i||o,s=a?Te(t.length,gt):[],u=s.length;for(var c in t)!e&&!Et.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||io(c,u))||s.push(c);return s}function Vn(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function Fn(t,e){return ko(vi(t),Qn(e,0,t.length))}function Un(t){return ko(vi(t))}function qn(t,e,n){(void 0!==n&&!xa(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Bn(t,e,n){var r=t[e];Et.call(t,e)&&xa(r,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(xa(t[n][0],e))return n;return-1}function zn(t,e,n,r){return Jn(t,function(t,i,o){e(r,t,n(t),o)}),r}function Gn(t,e){return t&&yi(e,ws(e),t)}function Kn(t,e,n){"__proto__"==e&&We?We(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:vs(t,e[n]);return o}function Qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Yn(t,e,n,r,i,o){var a,u=1&e,h=2&e,_=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ha(t))return t;var P=Da(t);if(P){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return vi(t,a)}else{var D=to(t),R=D==f||D==d;if(ja(t))return ci(t,u);if(D==y||D==s||R&&!i){if(a=h||R?{}:no(t),!u)return h?function(t,e){return yi(t,Ji(t),e)}(t,function(t,e){return t&&yi(e,_s(e),t)}(a,t)):function(t,e){return yi(t,Zi(t),e)}(t,Gn(a,t))}else{if(!Vt[D])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case k:return li(t);case c:case l:return new r(+t);case E:return function(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case S:case T:case C:case A:case x:case"[object Uint8ClampedArray]":case O:case N:return hi(t,n);case p:return new r;case v:case b:return new r(t);case g:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return new r;case w:return Sn?vt(Sn.call(t)):{}}}(t,D,u)}}o||(o=new Mn);var L=o.get(t);if(L)return L;o.set(t,a),Ya(t)?t.forEach(function(r){a.add(Yn(r,e,n,r,t,o))}):Ga(t)&&t.forEach(function(r,i){a.set(i,Yn(r,e,n,i,t,o))});var M=P?void 0:(_?h?zi:Hi:h?_s:ws)(t);return ie(M||t,function(r,i){M&&(r=t[i=r]),Bn(a,i,Yn(r,e,n,i,t,o))}),a}function Xn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new mt(i);return mo(function(){t.apply(void 0,n)},e)}function Zn(t,e,n,r){var i=-1,o=ue,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=le(e,Ce(n))),r?(o=ce,a=!1):e.length>=200&&(o=xe,a=!1,e=new Ln(e));t:for(;++i<s;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Cn.templateSettings={escape:F,evaluate:U,interpolate:q,variable:"",imports:{_:Cn}},(Cn.prototype=xn.prototype).constructor=Cn,(On.prototype=An(xn.prototype)).constructor=On,(Nn.prototype=An(xn.prototype)).constructor=Nn,Pn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Pn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Pn.prototype.get=function(t){var e=this.__data__;if(yn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},Pn.prototype.has=function(t){var e=this.__data__;return yn?void 0!==e[t]:Et.call(e,t)},Pn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(fn||Dn),string:new Pn}},Rn.prototype.delete=function(t){var e=Yi(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Yi(this,t).get(t)},Rn.prototype.has=function(t){return Yi(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Yi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mn.prototype.get=function(t){return this.__data__.get(t)},Mn.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(t,e),this.size=n.size,this};var Jn=bi(sr),tr=bi(ur,!0);function er(t,e){var n=!0;return Jn(t,function(t,r,i){return n=!!e(t,r,i)}),n}function nr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!$a(a):n(a,s)))var s=a,u=o}return u}function rr(t,e){var n=[];return Jn(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function ir(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ro),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ir(s,e-1,n,r,i):he(i,s):r||(i[i.length]=s)}return i}var or=wi(),ar=wi(!0);function sr(t,e){return t&&or(t,e,ws)}function ur(t,e){return t&&ar(t,e,ws)}function cr(t,e){return se(e,function(e){return Ua(t[e])})}function lr(t,e){for(var n=0,r=(e=oi(e,t)).length;null!=t&&n<r;)t=t[To(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Da(t)?r:he(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ke&&Ke in vt(t)?function(t){var e=Et.call(t,Ke),n=t[Ke];try{t[Ke]=void 0;var r=!0}catch(o){}var i=Tt.call(t);return r&&(e?t[Ke]=n:delete t[Ke]),i}(t):function(t){return Tt.call(t)}(t)}function dr(t,e){return t>e}function pr(t,e){return null!=t&&Et.call(t,e)}function vr(t,e){return null!=t&&e in vt(t)}function yr(t,e,n){for(var i=n?ce:ue,o=t[0].length,a=t.length,s=a,u=r(a),c=1/0,l=[];s--;){var h=t[s];s&&e&&(h=le(h,Ce(e))),c=an(h.length,c),u[s]=!n&&(e||o>=120&&h.length>=120)?new Ln(s&&h):void 0}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?xe(d,v):i(l,v,n))){for(s=a;--s;){var y=u[s];if(!(y?xe(y,v):i(t[s],v,n)))continue t}d&&d.push(v),l.push(p)}}return l}function gr(t,e,n){var r=null==(t=po(t,e=oi(e,t)))?t:t[To(Fo(e))];return null==r?void 0:ne(r,t,n)}function mr(t){return za(t)&&fr(t)==s}function br(t,e,n,r,i){return t===e||(null==t||null==e||!za(t)&&!za(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Da(t),f=Da(e),d=a?u:to(t),_=f?u:to(e),I=(d=d==s?y:d)==y,S=(_=_==s?y:_)==y,T=d==_;if(T&&ja(t)){if(!ja(e))return!1;a=!0,I=!1}if(T&&!I)return o||(o=new Mn),a||Za(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case c:case l:case v:return xa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case p:var s=je;case m:if(s||(s=Ue),t.size!=e.size&&!(1&r))return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var f=qi(s(t),s(e),r,i,o,a);return a.delete(t),f;case w:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var C=I&&Et.call(t,"__wrapped__"),A=S&&Et.call(e,"__wrapped__");if(C||A){var x=C?t.value():t,O=A?e.value():e;return o||(o=new Mn),i(x,O,n,r,o)}}return!!T&&(o||(o=new Mn),function(t,e,n,r,i,o){var a=1&n,s=Hi(t),u=s.length;if(u!=Hi(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:Et.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){var v=t[l=s[c]],y=e[l];if(r)var g=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===g?v===y||i(v,y,n,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,br,i))}function wr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Mn;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?br(l,c,3,r,h):f))return!1}}return!0}function _r(t){return!(!Ha(t)||(e=t,St&&St in e))&&(Ua(t)?Nt:ot).test(Co(t));var e}function kr(t){return"function"==typeof t?t:null==t?Ks:"object"==typeof t?Da(t)?Cr(t[0],t[1]):Tr(t):eu(t)}function Er(t){if(!co(t))return rn(t);var e=[];for(var n in vt(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ir(t,e){return t<e}function Sr(t,e){var n=-1,i=La(t)?r(t.length):[];return Jn(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Tr(t){var e=Xi(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Cr(t,e){return ao(t)&&lo(e)?ho(To(t),e):function(n){var r=vs(n,t);return void 0===r&&r===e?ys(n,t):br(e,r,3)}}function Ar(t,e,n,r,i){t!==e&&or(e,function(o,a){if(i||(i=new Mn),Ha(o))!function(t,e,n,r,i,o,a){var s=yo(t,n),u=yo(e,n),c=a.get(u);if(c)qn(t,n,c);else{var l=o?o(s,u,n+"",t,e,a):void 0,h=void 0===l;if(h){var f=Da(u),d=!f&&ja(u),p=!f&&!d&&Za(u);l=u,f||d||p?Da(s)?l=s:Ma(s)?l=vi(s):d?(h=!1,l=ci(u,!0)):p?(h=!1,l=hi(u,!0)):l=[]:Wa(u)||Pa(u)?(l=s,Pa(s)?l=as(s):Ha(s)&&!Ua(s)||(l=no(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),qn(t,n,l)}}(t,e,a,n,Ar,r,i);else{var s=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),qn(t,a,s)}},_s)}function xr(t,e){var n=t.length;if(n)return io(e+=e<0?n:0,n)?t[e]:void 0}function Or(t,e,n){e=e.length?le(e,function(t){return Da(t)?function(e){return lr(e,1===t.length?t[0]:t)}:t}):[Ks];var r=-1;return e=le(e,Ce(Qi())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=fi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(Sr(t,function(t,n,i){return{criteria:le(e,function(e){return e(t)}),index:++r,value:t}}))}function Nr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=lr(t,a);n(s,a)&&Fr(o,oi(a,t),s)}return o}function Pr(t,e,n,r){var i=r?be:me,o=-1,a=e.length,s=t;for(t===e&&(e=vi(e)),n&&(s=le(t,Ce(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Yt.call(s,u,1),Yt.call(t,u,1);return t}function Dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;io(i)?Yt.call(t,i,1):$r(t,i)}}return t}function Rr(t,e){return t+Ze(cn()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Mr(t,e){return bo(fo(t,e,Ks),t+"")}function jr(t){return Vn(xs(t))}function Vr(t,e){var n=xs(t);return ko(n,Qn(e,0,n.length))}function Fr(t,e,n,r){if(!Ha(t))return t;for(var i=-1,o=(e=oi(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=To(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Ha(l)?l:io(e[i+1])?[]:{})}Bn(s,u,c),s=s[u]}return t}var Ur=gn?function(t,e){return gn.set(t,e),t}:Ks,qr=We?function(t,e){return We(t,"toString",{configurable:!0,enumerable:!1,value:Hs(e),writable:!0})}:Ks;function Br(t){return ko(xs(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function zr(t,e){var n;return Jn(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Gr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!$a(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Kr(t,e,Ks,n)}function Kr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=$a(e),c=void 0===e;i<o;){var l=Ze((i+o)/2),h=n(t[l]),f=void 0!==h,d=null===h,p=h==h,v=$a(h);if(a)var y=r||p;else y=c?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);y?i=l+1:o=l}return an(o,4294967294)}function Wr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!xa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Qr(t){return"number"==typeof t?t:$a(t)?NaN:+t}function Yr(t){if("string"==typeof t)return t;if(Da(t))return le(t,Yr)+"";if($a(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Xr(t,e,n){var r=-1,i=ue,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=ce;else if(o>=200){var c=e?null:Li(t);if(c)return Ue(c);a=!1,i=xe,u=new Ln}else u=e?[]:s;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function $r(t,e){return null==(t=po(t,e=oi(e,t)))||delete t[To(Fo(e))]}function Zr(t,e,n,r){return Fr(t,e,n(lr(t,e)),r)}function Jr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ti(t,e){var n=t;return n instanceof Nn&&(n=n.value()),fe(e,function(t,e){return e.func.apply(e.thisArg,he([t],e.args))},n)}function ei(t,e,n){var i=t.length;if(i<2)return i?Xr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Zn(a[o]||s,t[u],e,n));return Xr(ir(a,1),e,n)}function ni(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;)n(a,t[r],r<o?e[r]:void 0);return a}function ri(t){return Ma(t)?t:[]}function ii(t){return"function"==typeof t?t:Ks}function oi(t,e){return Da(t)?t:ao(t,e)?[t]:So(ss(t))}var ai=Mr;function si(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ui=Qe||function(t){return zt.clearTimeout(t)};function ci(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function li(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function hi(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=$a(t),a=void 0!==e,s=null===e,u=e==e,c=$a(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function di(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=on(a-s,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function pi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,h=on(a-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++s<u;)(d||o<a)&&(f[p+n[s]]=t[o++]);return f}function vi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Kn(n,s,u):Bn(n,s,u)}return n}function gi(t,e){return function(n,r){var i=Da(n)?re:zn,o=e?e():{};return i(n,t,Qi(r,2),o)}}function mi(t){return Mr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&oo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function bi(t,e){return function(n,r){if(null==n)return n;if(!La(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=vt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=vt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function _i(t){return function(e){var n=Me(e=ss(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?si(n,1).join(""):e.slice(1);return r[t]()+i}}function ki(t){return function(e){return fe(Us(Ps(e).replace(xt,"")),t,"")}}function Ei(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),r=t.apply(n,e);return Ha(r)?r:n}}function Ii(t){return function(e,n,r){var i=vt(e);if(!La(e)){var o=Qi(n,3);e=ws(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Si(t){return Bi(function(e){var n=e.length,r=n,o=On.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new mt(i);if(o&&!s&&"wrapper"==Ki(a))var s=new On([],!0)}for(r=s?r:n;++r<n;){var u=Ki(a=e[r]),c="wrapper"==u?Gi(a):void 0;s=c&&so(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Ki(c[0])].apply(s,c[3]):1==a.length&&so(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Da(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ti(t,e,n,i,o,a,s,u,c,l){var h=128&e,f=1&e,d=2&e,p=24&e,v=512&e,y=d?void 0:Ei(t);return function g(){for(var m=arguments.length,b=r(m),w=m;w--;)b[w]=arguments[w];if(p)var _=Wi(g),k=Pe(b,_);if(i&&(b=di(b,i,o,p)),a&&(b=pi(b,a,s,p)),m-=k,p&&m<l){var E=Fe(b,_);return Di(t,e,Ti,g.placeholder,n,b,E,u,c,l-m)}var I=f?n:this,S=d?I[t]:t;return m=b.length,u?b=vo(b,u):v&&m>1&&b.reverse(),h&&c<m&&(b.length=c),this&&this!==zt&&this instanceof g&&(S=y||Ei(S)),S.apply(I,b)}}function Ci(t,e){return function(n,r){return function(t,e,n,r){return sr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function Ai(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Yr(n),r=Yr(r)):(n=Qr(n),r=Qr(r)),i=t(n,r)}return i}}function xi(t){return Bi(function(e){return e=le(e,Ce(Qi())),Mr(function(n){var r=this;return t(e,function(t){return ne(t,r,n)})})})}function Oi(t,e){var n=(e=void 0===e?" ":Yr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,$e(t/Be(e)));return Me(e)?si(He(r),0,t).join(""):r.slice(0,t)}function Ni(t){return function(e,n,i){return i&&"number"!=typeof i&&oo(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=on($e((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Pi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Di(t,e,n,r,i,o,a,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],f=n.apply(void 0,h);return so(t)&&go(f,h),f.placeholder=r,wo(f,t,e)}function Ri(t){var e=pt[t];return function(t,n){if(t=os(t),(n=null==n?0:an(rs(n),292))&&en(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=pn&&1/Ue(new pn([,-0]))[1]==1/0?function(t){return new pn(t)}:$s;function Mi(t){return function(e){var n=to(e);return n==p?je(e):n==m?qe(e):function(t,e){return le(e,function(e){return[e,t[e]]})}(e,t(e))}}function ji(t,e,n,a,s,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new mt(i);var f=a?a.length:0;if(f||(e&=-97,a=s=void 0),c=void 0===c?c:on(rs(c),0),l=void 0===l?l:rs(l),f-=s?s.length:0,64&e){var d=a,p=s;a=s=void 0}var v=h?void 0:Gi(t),y=[t,e,n,a,s,d,p,u,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?di(s,a,e[4]):a,t[4]=s?Fe(t[3],o):e[4]}(a=e[5])&&(t[5]=(s=t[5])?pi(s,a,e[6]):a,t[6]=s?Fe(t[5],o):e[6]),(a=e[7])&&(t[7]=a),128&r&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],n=y[2],a=y[3],s=y[4],!(l=y[9]=void 0===y[9]?h?0:t.length:on(y[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=Ei(t);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Wi(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Fe(s,c);return(a-=l.length)<n?Di(t,e,Ti,o.placeholder,void 0,s,l,void 0,void 0,n-a):ne(this&&this!==zt&&this instanceof o?i:t,this,s)}}(t,e,l):32!=e&&33!=e||s.length?Ti.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Ei(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==zt&&this instanceof e?a:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++s];return ne(f,o?n:this,h)}}(t,e,n,a);else var g=function(t,e,n){var r=1&e,i=Ei(t);return function e(){return(this&&this!==zt&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return wo((v?Ur:go)(g,y),t,e)}function Vi(t,e,n,r){return void 0===t||xa(t,wt[n])&&!Et.call(r,n)?e:t}function Fi(t,e,n,r,i,o){return Ha(t)&&Ha(e)&&(o.set(e,t),Ar(t,e,void 0,Fi,o),o.delete(e)),t}function Ui(t){return Wa(t)?void 0:t}function qi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var h=-1,f=!0,d=2&n?new Ln:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],v=e[h];if(r)var y=a?r(v,p,h,e,t,o):r(p,v,h,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!pe(e,function(t,e){if(!xe(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)})){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Bi(t){return bo(fo(t,void 0,Ro),t+"")}function Hi(t){return hr(t,ws,Zi)}function zi(t){return hr(t,_s,Ji)}var Gi=gn?function(t){return gn.get(t)}:$s;function Ki(t){for(var e=t.name+"",n=mn[e],r=Et.call(mn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Wi(t){return(Et.call(Cn,"placeholder")?Cn:t).placeholder}function Qi(){var t=Cn.iteratee||Ws;return t=t===Ws?kr:t,arguments.length?t(arguments[0],arguments[1]):t}function Yi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Xi(t){for(var e=ws(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lo(i)]}return e}function $i(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _r(n)?n:void 0}var Zi=Je?function(t){return null==t?[]:(t=vt(t),se(Je(t),function(e){return Qt.call(t,e)}))}:iu,Ji=Je?function(t){for(var e=[];t;)he(e,Zi(t)),t=Gt(t);return e}:iu,to=fr;function eo(t,e,n){for(var r=-1,i=(e=oi(e,t)).length,o=!1;++r<i;){var a=To(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ba(i)&&io(a,i)&&(Da(t)||Pa(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:An(Gt(t))}function ro(t){return Da(t)||Pa(t)||!!(ve&&t&&t[ve])}function io(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Ha(n))return!1;var r=typeof e;return!!("number"==r?La(n)&&io(e,n.length):"string"==r&&e in n)&&xa(n[e],t)}function ao(t,e){if(Da(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$a(t))||H.test(t)||!B.test(t)||null!=e&&t in vt(e)}function so(t){var e=Ki(t),n=Cn[e];if("function"!=typeof n||!(e in Nn.prototype))return!1;if(t===n)return!0;var r=Gi(n);return!!r&&t===r[0]}(hn&&to(new hn(new ArrayBuffer(1)))!=E||fn&&to(new fn)!=p||dn&&"[object Promise]"!=to(dn.resolve())||pn&&to(new pn)!=m||vn&&to(new vn)!=_)&&(to=function(t){var e=fr(t),n=e==y?t.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case bn:return E;case wn:return p;case _n:return"[object Promise]";case kn:return m;case En:return _}return e});var uo=_t?Ua:ou;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function lo(t){return t==t&&!Ha(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in vt(n))}}function fo(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=on(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),ne(t,this,u)}}function po(t,e){return e.length<2?t:lr(t,Hr(e,0,-1))}function vo(t,e){for(var n=t.length,r=an(e.length,n),i=vi(t);r--;){var o=e[r];t[r]=io(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var go=_o(Ur),mo=Xe||function(t,e){return zt.setTimeout(t,e)},bo=_o(qr);function wo(t,e,n){var r=e+"";return bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(X,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(a,function(n){var r="_."+n[0];e&n[1]&&!ue(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match($);return e?e[1].split(Z):[]}(r),n)))}function _o(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ko(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Eo,Io,So=(Eo=Ea(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)}),e},function(t){return 500===Io.size&&Io.clear(),t}),Io=Eo.cache,Eo);function To(t){if("string"==typeof t||$a(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Co(t){if(null!=t){try{return kt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ao(t){if(t instanceof Nn)return t.clone();var e=new On(t.__wrapped__,t.__chain__);return e.__actions__=vi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var xo=Mr(function(t,e){return Ma(t)?Zn(t,ir(e,1,Ma,!0)):[]}),Oo=Mr(function(t,e){var n=Fo(e);return Ma(n)&&(n=void 0),Ma(t)?Zn(t,ir(e,1,Ma,!0),Qi(n,2)):[]}),No=Mr(function(t,e){var n=Fo(e);return Ma(n)&&(n=void 0),Ma(t)?Zn(t,ir(e,1,Ma,!0),void 0,n):[]});function Po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),ge(t,Qi(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):an(i,r-1)),ge(t,Qi(e,3),i,!0)}function Ro(t){return null!=t&&t.length?ir(t,1):[]}function Lo(t){return t&&t.length?t[0]:void 0}var Mo=Mr(function(t){var e=le(t,ri);return e.length&&e[0]===t[0]?yr(e):[]}),jo=Mr(function(t){var e=Fo(t),n=le(t,ri);return e===Fo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?yr(n,Qi(e,2)):[]}),Vo=Mr(function(t){var e=Fo(t),n=le(t,ri);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?yr(n,void 0,e):[]});function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Uo=Mr(qo);function qo(t,e){return t&&t.length&&e&&e.length?Pr(t,e):t}var Bo=Bi(function(t,e){var n=null==t?0:t.length,r=Wn(t,e);return Dr(t,le(e,function(t){return io(t,n)?+t:t}).sort(fi)),r});function Ho(t){return null==t?t:ln.call(t)}var zo=Mr(function(t){return Xr(ir(t,1,Ma,!0))}),Go=Mr(function(t){var e=Fo(t);return Ma(e)&&(e=void 0),Xr(ir(t,1,Ma,!0),Qi(e,2))}),Ko=Mr(function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,Xr(ir(t,1,Ma,!0),void 0,e)});function Wo(t){if(!t||!t.length)return[];var e=0;return t=se(t,function(t){if(Ma(t))return e=on(t.length,e),!0}),Te(e,function(e){return le(t,ke(e))})}function Qo(t,e){if(!t||!t.length)return[];var n=Wo(t);return null==e?n:le(n,function(t){return ne(e,void 0,t)})}var Yo=Mr(function(t,e){return Ma(t)?Zn(t,e):[]}),Xo=Mr(function(t){return ei(se(t,Ma))}),$o=Mr(function(t){var e=Fo(t);return Ma(e)&&(e=void 0),ei(se(t,Ma),Qi(e,2))}),Zo=Mr(function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,ei(se(t,Ma),void 0,e)}),Jo=Mr(Wo),ta=Mr(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Qo(t,n)});function ea(t){var e=Cn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Bi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Wn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Nn&&io(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(i)}),ia=gi(function(t,e,n){Et.call(t,n)?++t[n]:Kn(t,n,1)}),oa=Ii(Po),aa=Ii(Do);function sa(t,e){return(Da(t)?ie:Jn)(t,Qi(e,3))}function ua(t,e){return(Da(t)?oe:tr)(t,Qi(e,3))}var ca=gi(function(t,e,n){Et.call(t,n)?t[n].push(e):Kn(t,n,[e])}),la=Mr(function(t,e,n){var i=-1,o="function"==typeof e,a=La(t)?r(t.length):[];return Jn(t,function(t){a[++i]=o?ne(e,t,n):gr(t,e,n)}),a}),ha=gi(function(t,e,n){Kn(t,n,e)});function fa(t,e){return(Da(t)?le:Sr)(t,Qi(e,3))}var da=gi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),pa=Mr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Or(t,ir(e,1),[])}),va=Ye||function(){return zt.Date.now()};function ya(t,e,n){return e=n?void 0:e,ji(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ga(t,e){var n;if("function"!=typeof e)throw new mt(i);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ma=Mr(function(t,e,n){var r=1;if(n.length){var i=Fe(n,Wi(ma));r|=32}return ji(t,r,e,n,i)}),ba=Mr(function(t,e,n){var r=3;if(n.length){var i=Fe(n,Wi(ba));r|=32}return ji(e,r,t,n,i)});function wa(t,e,n){var r,o,a,s,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new mt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,s=t.apply(i,n)}function v(t){return l=t,u=mo(g,e),h?p(t):s}function y(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=a}function g(){var t=va();if(y(t))return m(t);u=mo(g,function(t){var n=e-(t-c);return f?an(n,a-(t-l)):n}(t))}function m(t){return u=void 0,d&&r?p(t):(r=o=void 0,s)}function b(){var t=va(),n=y(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return v(c);if(f)return ui(u),u=mo(g,e),p(c)}return void 0===u&&(u=mo(g,e)),s}return e=os(e)||0,Ha(n)&&(h=!!n.leading,a=(f="maxWait"in n)?on(os(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ui(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?s:m(va())},b}var _a=Mr(function(t,e){return $n(t,1,e)}),ka=Mr(function(t,e,n){return $n(t,os(e)||0,n)});function Ea(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ea.Cache||Rn),n}function Ia(t){if("function"!=typeof t)throw new mt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ea.Cache=Rn;var Sa=ai(function(t,e){var n=(e=1==e.length&&Da(e[0])?le(e[0],Ce(Qi())):le(ir(e,1),Ce(Qi()))).length;return Mr(function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)})}),Ta=Mr(function(t,e){return ji(t,32,void 0,e,Fe(e,Wi(Ta)))}),Ca=Mr(function(t,e){return ji(t,64,void 0,e,Fe(e,Wi(Ca)))}),Aa=Bi(function(t,e){return ji(t,256,void 0,void 0,void 0,e)});function xa(t,e){return t===e||t!=t&&e!=e}var Oa=Pi(dr),Na=Pi(function(t,e){return t>=e}),Pa=mr(function(){return arguments}())?mr:function(t){return za(t)&&Et.call(t,"callee")&&!Qt.call(t,"callee")},Da=r.isArray,Ra=Xt?Ce(Xt):function(t){return za(t)&&fr(t)==k};function La(t){return null!=t&&Ba(t.length)&&!Ua(t)}function Ma(t){return za(t)&&La(t)}var ja=tn||ou,Va=$t?Ce($t):function(t){return za(t)&&fr(t)==l};function Fa(t){if(!za(t))return!1;var e=fr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Wa(t)}function Ua(t){if(!Ha(t))return!1;var e=fr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qa(t){return"number"==typeof t&&t==rs(t)}function Ba(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function za(t){return null!=t&&"object"==typeof t}var Ga=Zt?Ce(Zt):function(t){return za(t)&&to(t)==p};function Ka(t){return"number"==typeof t||za(t)&&fr(t)==v}function Wa(t){if(!za(t)||fr(t)!=y)return!1;var e=Gt(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==Ct}var Qa=Jt?Ce(Jt):function(t){return za(t)&&fr(t)==g},Ya=te?Ce(te):function(t){return za(t)&&to(t)==m};function Xa(t){return"string"==typeof t||!Da(t)&&za(t)&&fr(t)==b}function $a(t){return"symbol"==typeof t||za(t)&&fr(t)==w}var Za=ee?Ce(ee):function(t){return za(t)&&Ba(t.length)&&!!jt[fr(t)]},Ja=Pi(Ir),ts=Pi(function(t,e){return t<=e});function es(t){if(!t)return[];if(La(t))return Xa(t)?He(t):vi(t);if(Ee&&t[Ee])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ee]());var e=to(t);return(e==p?je:e==m?Ue:xs)(t)}function ns(t){return t?1/0===(t=os(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Qn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if($a(t))return NaN;if(Ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(W,"");var n=it.test(t);return n||at.test(t)?qt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function as(t){return yi(t,_s(t))}function ss(t){return null==t?"":Yr(t)}var us=mi(function(t,e){if(co(e)||La(e))yi(e,ws(e),t);else for(var n in e)Et.call(e,n)&&Bn(t,n,e[n])}),cs=mi(function(t,e){yi(e,_s(e),t)}),ls=mi(function(t,e,n,r){yi(e,_s(e),t,r)}),hs=mi(function(t,e,n,r){yi(e,ws(e),t,r)}),fs=Bi(Wn),ds=Mr(function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&oo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=_s(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(void 0===l||xa(l,wt[c])&&!Et.call(t,c))&&(t[c]=o[c])}return t}),ps=Mr(function(t){return t.push(void 0,Fi),ne(Es,void 0,t)});function vs(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function ys(t,e){return null!=t&&eo(t,e,vr)}var gs=Ci(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n},Hs(Ks)),ms=Ci(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]},Qi),bs=Mr(gr);function ws(t){return La(t)?jn(t):Er(t)}function _s(t){return La(t)?jn(t,!0):function(t){if(!Ha(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}(t)}var ks=mi(function(t,e,n){Ar(t,e,n)}),Es=mi(function(t,e,n,r){Ar(t,e,n,r)}),Is=Bi(function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,function(e){return e=oi(e,t),r||(r=e.length>1),e}),yi(t,zi(t),n),r&&(n=Yn(n,7,Ui));for(var i=e.length;i--;)$r(n,e[i]);return n}),Ss=Bi(function(t,e){return null==t?{}:function(t,e){return Nr(t,e,function(e,n){return ys(t,n)})}(t,e)});function Ts(t,e){if(null==t)return{};var n=le(zi(t),function(t){return[t]});return e=Qi(e),Nr(t,n,function(t,n){return e(t,n[0])})}var Cs=Mi(ws),As=Mi(_s);function xs(t){return null==t?[]:Ae(t,ws(t))}var Os=ki(function(t,e,n){return e=e.toLowerCase(),t+(n?Ns(e):e)});function Ns(t){return Fs(ss(t).toLowerCase())}function Ps(t){return(t=ss(t))&&t.replace(ut,De).replace(Ot,"")}var Ds=ki(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Rs=ki(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Ls=_i("toLowerCase"),Ms=ki(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),js=ki(function(t,e,n){return t+(n?" ":"")+Fs(e)}),Vs=ki(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Fs=_i("toUpperCase");function Us(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(J)||[]}(t):t.match(e)||[]}var qs=Mr(function(t,e){try{return ne(t,void 0,e)}catch(n){return Fa(n)?n:new ft(n)}}),Bs=Bi(function(t,e){return ie(e,function(e){e=To(e),Kn(t,e,ma(t[e],t))}),t});function Hs(t){return function(){return t}}var zs=Si(),Gs=Si(!0);function Ks(t){return t}function Ws(t){return kr("function"==typeof t?t:Yn(t,1))}var Qs=Mr(function(t,e){return function(n){return gr(n,t,e)}}),Ys=Mr(function(t,e){return function(n){return gr(t,n,e)}});function Xs(t,e,n){var r=ws(e),i=cr(e,r);null!=n||Ha(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,ws(e)));var o=!(Ha(n)&&"chain"in n&&!n.chain),a=Ua(t);return ie(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})}),t}function $s(){}var Zs=xi(le),Js=xi(ae),tu=xi(pe);function eu(t){return ao(t)?ke(To(t)):function(t){return function(e){return lr(e,t)}}(t)}var nu=Ni(),ru=Ni(!0);function iu(){return[]}function ou(){return!1}var au,su=Ai(function(t,e){return t+e},0),uu=Ri("ceil"),cu=Ai(function(t,e){return t/e},1),lu=Ri("floor"),hu=Ai(function(t,e){return t*e},1),fu=Ri("round"),du=Ai(function(t,e){return t-e},0);return Cn.after=function(t,e){if("function"!=typeof e)throw new mt(i);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},Cn.ary=ya,Cn.assign=us,Cn.assignIn=cs,Cn.assignInWith=ls,Cn.assignWith=hs,Cn.at=fs,Cn.before=ga,Cn.bind=ma,Cn.bindAll=Bs,Cn.bindKey=ba,Cn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},Cn.chain=ea,Cn.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r($e(i/e));o<i;)s[a++]=Hr(t,o,o+=e);return s},Cn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Cn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(Da(n)?vi(n):[n],ir(e,1))},Cn.cond=function(t){var e=null==t?0:t.length,n=Qi();return t=e?le(t,function(t){if("function"!=typeof t[1])throw new mt(i);return[n(t[0]),t[1]]}):[],Mr(function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}})},Cn.conforms=function(t){return function(t){var e=ws(t);return function(n){return Xn(n,t,e)}}(Yn(t,1))},Cn.constant=Hs,Cn.countBy=ia,Cn.create=function(t,e){var n=An(t);return null==e?n:Gn(n,e)},Cn.curry=function t(e,n,r){var i=ji(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.curryRight=function t(e,n,r){var i=ji(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.debounce=wa,Cn.defaults=ds,Cn.defaultsDeep=ps,Cn.defer=_a,Cn.delay=ka,Cn.difference=xo,Cn.differenceBy=Oo,Cn.differenceWith=No,Cn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},Cn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},Cn.dropRightWhile=function(t,e){return t&&t.length?Jr(t,Qi(e,3),!0,!0):[]},Cn.dropWhile=function(t,e){return t&&t.length?Jr(t,Qi(e,3),!0):[]},Cn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Cn.filter=function(t,e){return(Da(t)?se:rr)(t,Qi(e,3))},Cn.flatMap=function(t,e){return ir(fa(t,e),1)},Cn.flatMapDeep=function(t,e){return ir(fa(t,e),1/0)},Cn.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),ir(fa(t,e),n)},Cn.flatten=Ro,Cn.flattenDeep=function(t){return null!=t&&t.length?ir(t,1/0):[]},Cn.flattenDepth=function(t,e){return null!=t&&t.length?ir(t,e=void 0===e?1:rs(e)):[]},Cn.flip=function(t){return ji(t,512)},Cn.flow=zs,Cn.flowRight=Gs,Cn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Cn.functions=function(t){return null==t?[]:cr(t,ws(t))},Cn.functionsIn=function(t){return null==t?[]:cr(t,_s(t))},Cn.groupBy=ca,Cn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},Cn.intersection=Mo,Cn.intersectionBy=jo,Cn.intersectionWith=Vo,Cn.invert=gs,Cn.invertBy=ms,Cn.invokeMap=la,Cn.iteratee=Ws,Cn.keyBy=ha,Cn.keys=ws,Cn.keysIn=_s,Cn.map=fa,Cn.mapKeys=function(t,e){var n={};return e=Qi(e,3),sr(t,function(t,r,i){Kn(n,e(t,r,i),t)}),n},Cn.mapValues=function(t,e){var n={};return e=Qi(e,3),sr(t,function(t,r,i){Kn(n,r,e(t,r,i))}),n},Cn.matches=function(t){return Tr(Yn(t,1))},Cn.matchesProperty=function(t,e){return Cr(t,Yn(e,1))},Cn.memoize=Ea,Cn.merge=ks,Cn.mergeWith=Es,Cn.method=Qs,Cn.methodOf=Ys,Cn.mixin=Xs,Cn.negate=Ia,Cn.nthArg=function(t){return t=rs(t),Mr(function(e){return xr(e,t)})},Cn.omit=Is,Cn.omitBy=function(t,e){return Ts(t,Ia(Qi(e)))},Cn.once=function(t){return ga(2,t)},Cn.orderBy=function(t,e,n,r){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(n=r?void 0:n)||(n=null==n?[]:[n]),Or(t,e,n))},Cn.over=Zs,Cn.overArgs=Sa,Cn.overEvery=Js,Cn.overSome=tu,Cn.partial=Ta,Cn.partialRight=Ca,Cn.partition=da,Cn.pick=Ss,Cn.pickBy=Ts,Cn.property=eu,Cn.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},Cn.pull=Uo,Cn.pullAll=qo,Cn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,Qi(n,2)):t},Cn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,void 0,n):t},Cn.pullAt=Bo,Cn.range=nu,Cn.rangeRight=ru,Cn.rearg=Aa,Cn.reject=function(t,e){return(Da(t)?se:rr)(t,Ia(Qi(e,3)))},Cn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Qi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Dr(t,i),n},Cn.rest=function(t,e){if("function"!=typeof t)throw new mt(i);return Mr(t,e=void 0===e?e:rs(e))},Cn.reverse=Ho,Cn.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:rs(e),(Da(t)?Fn:Vr)(t,e)},Cn.set=function(t,e,n){return null==t?t:Fr(t,e,n)},Cn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Fr(t,e,n,r)},Cn.shuffle=function(t){return(Da(t)?Un:Br)(t)},Cn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),Hr(t,e,n)):[]},Cn.sortBy=pa,Cn.sortedUniq=function(t){return t&&t.length?Wr(t):[]},Cn.sortedUniqBy=function(t,e){return t&&t.length?Wr(t,Qi(e,2)):[]},Cn.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Qa(e))&&!(e=Yr(e))&&Me(t)?si(He(t),0,n):t.split(e,n):[]},Cn.spread=function(t,e){if("function"!=typeof t)throw new mt(i);return e=null==e?0:on(rs(e),0),Mr(function(n){var r=n[e],i=si(n,0,e);return r&&he(i,r),ne(t,this,i)})},Cn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},Cn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},Cn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},Cn.takeRightWhile=function(t,e){return t&&t.length?Jr(t,Qi(e,3),!1,!0):[]},Cn.takeWhile=function(t,e){return t&&t.length?Jr(t,Qi(e,3)):[]},Cn.tap=function(t,e){return e(t),t},Cn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new mt(i);return Ha(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),wa(t,e,{leading:r,maxWait:e,trailing:o})},Cn.thru=na,Cn.toArray=es,Cn.toPairs=Cs,Cn.toPairsIn=As,Cn.toPath=function(t){return Da(t)?le(t,To):$a(t)?[t]:vi(So(ss(t)))},Cn.toPlainObject=as,Cn.transform=function(t,e,n){var r=Da(t),i=r||ja(t)||Za(t);if(e=Qi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ha(t)&&Ua(o)?An(Gt(t)):{}}return(i?ie:sr)(t,function(t,r,i){return e(n,t,r,i)}),n},Cn.unary=function(t){return ya(t,1)},Cn.union=zo,Cn.unionBy=Go,Cn.unionWith=Ko,Cn.uniq=function(t){return t&&t.length?Xr(t):[]},Cn.uniqBy=function(t,e){return t&&t.length?Xr(t,Qi(e,2)):[]},Cn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Xr(t,void 0,e):[]},Cn.unset=function(t,e){return null==t||$r(t,e)},Cn.unzip=Wo,Cn.unzipWith=Qo,Cn.update=function(t,e,n){return null==t?t:Zr(t,e,ii(n))},Cn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Zr(t,e,ii(n),r)},Cn.values=xs,Cn.valuesIn=function(t){return null==t?[]:Ae(t,_s(t))},Cn.without=Yo,Cn.words=Us,Cn.wrap=function(t,e){return Ta(ii(e),t)},Cn.xor=Xo,Cn.xorBy=$o,Cn.xorWith=Zo,Cn.zip=Jo,Cn.zipObject=function(t,e){return ni(t||[],e||[],Bn)},Cn.zipObjectDeep=function(t,e){return ni(t||[],e||[],Fr)},Cn.zipWith=ta,Cn.entries=Cs,Cn.entriesIn=As,Cn.extend=cs,Cn.extendWith=ls,Xs(Cn,Cn),Cn.add=su,Cn.attempt=qs,Cn.camelCase=Os,Cn.capitalize=Ns,Cn.ceil=uu,Cn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Qn(os(t),e,n)},Cn.clone=function(t){return Yn(t,4)},Cn.cloneDeep=function(t){return Yn(t,5)},Cn.cloneDeepWith=function(t,e){return Yn(t,5,e="function"==typeof e?e:void 0)},Cn.cloneWith=function(t,e){return Yn(t,4,e="function"==typeof e?e:void 0)},Cn.conformsTo=function(t,e){return null==e||Xn(t,e,ws(e))},Cn.deburr=Ps,Cn.defaultTo=function(t,e){return null==t||t!=t?e:t},Cn.divide=cu,Cn.endsWith=function(t,e,n){t=ss(t),e=Yr(e);var r=t.length,i=n=void 0===n?r:Qn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Cn.eq=xa,Cn.escape=function(t){return(t=ss(t))&&V.test(t)?t.replace(M,Re):t},Cn.escapeRegExp=function(t){return(t=ss(t))&&K.test(t)?t.replace(G,"\\$&"):t},Cn.every=function(t,e,n){var r=Da(t)?ae:er;return n&&oo(t,e,n)&&(e=void 0),r(t,Qi(e,3))},Cn.find=oa,Cn.findIndex=Po,Cn.findKey=function(t,e){return ye(t,Qi(e,3),sr)},Cn.findLast=aa,Cn.findLastIndex=Do,Cn.findLastKey=function(t,e){return ye(t,Qi(e,3),ur)},Cn.floor=lu,Cn.forEach=sa,Cn.forEachRight=ua,Cn.forIn=function(t,e){return null==t?t:or(t,Qi(e,3),_s)},Cn.forInRight=function(t,e){return null==t?t:ar(t,Qi(e,3),_s)},Cn.forOwn=function(t,e){return t&&sr(t,Qi(e,3))},Cn.forOwnRight=function(t,e){return t&&ur(t,Qi(e,3))},Cn.get=vs,Cn.gt=Oa,Cn.gte=Na,Cn.has=function(t,e){return null!=t&&eo(t,e,pr)},Cn.hasIn=ys,Cn.head=Lo,Cn.identity=Ks,Cn.includes=function(t,e,n,r){t=La(t)?t:xs(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=on(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&me(t,e,n)>-1},Cn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),me(t,e,i)},Cn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=os(t),e,n)},Cn.invoke=bs,Cn.isArguments=Pa,Cn.isArray=Da,Cn.isArrayBuffer=Ra,Cn.isArrayLike=La,Cn.isArrayLikeObject=Ma,Cn.isBoolean=function(t){return!0===t||!1===t||za(t)&&fr(t)==c},Cn.isBuffer=ja,Cn.isDate=Va,Cn.isElement=function(t){return za(t)&&1===t.nodeType&&!Wa(t)},Cn.isEmpty=function(t){if(null==t)return!0;if(La(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||ja(t)||Za(t)||Pa(t)))return!t.length;var e=to(t);if(e==p||e==m)return!t.size;if(co(t))return!Er(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},Cn.isEqual=function(t,e){return br(t,e)},Cn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},Cn.isError=Fa,Cn.isFinite=function(t){return"number"==typeof t&&en(t)},Cn.isFunction=Ua,Cn.isInteger=qa,Cn.isLength=Ba,Cn.isMap=Ga,Cn.isMatch=function(t,e){return t===e||wr(t,e,Xi(e))},Cn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Xi(e),n)},Cn.isNaN=function(t){return Ka(t)&&t!=+t},Cn.isNative=function(t){if(uo(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(t)},Cn.isNil=function(t){return null==t},Cn.isNull=function(t){return null===t},Cn.isNumber=Ka,Cn.isObject=Ha,Cn.isObjectLike=za,Cn.isPlainObject=Wa,Cn.isRegExp=Qa,Cn.isSafeInteger=function(t){return qa(t)&&t>=-9007199254740991&&t<=9007199254740991},Cn.isSet=Ya,Cn.isString=Xa,Cn.isSymbol=$a,Cn.isTypedArray=Za,Cn.isUndefined=function(t){return void 0===t},Cn.isWeakMap=function(t){return za(t)&&to(t)==_},Cn.isWeakSet=function(t){return za(t)&&"[object WeakSet]"==fr(t)},Cn.join=function(t,e){return null==t?"":nn.call(t,e)},Cn.kebabCase=Ds,Cn.last=Fo,Cn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):an(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):ge(t,we,i,!0)},Cn.lowerCase=Rs,Cn.lowerFirst=Ls,Cn.lt=Ja,Cn.lte=ts,Cn.max=function(t){return t&&t.length?nr(t,Ks,dr):void 0},Cn.maxBy=function(t,e){return t&&t.length?nr(t,Qi(e,2),dr):void 0},Cn.mean=function(t){return _e(t,Ks)},Cn.meanBy=function(t,e){return _e(t,Qi(e,2))},Cn.min=function(t){return t&&t.length?nr(t,Ks,Ir):void 0},Cn.minBy=function(t,e){return t&&t.length?nr(t,Qi(e,2),Ir):void 0},Cn.stubArray=iu,Cn.stubFalse=ou,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=hu,Cn.nth=function(t,e){return t&&t.length?xr(t,rs(e)):void 0},Cn.noConflict=function(){return zt._===this&&(zt._=At),this},Cn.noop=$s,Cn.now=va,Cn.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?Be(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Oi(Ze(i),n)+t+Oi($e(i),n)},Cn.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?Be(t):0;return e&&r<e?t+Oi(e-r,n):t},Cn.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?Be(t):0;return e&&r<e?Oi(e-r,n)+t:t},Cn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(ss(t).replace(Q,""),e||0)},Cn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return an(t+i*(e-t+Ut("1e-"+((i+"").length-1))),e)}return Rr(t,e)},Cn.reduce=function(t,e,n){var r=Da(t)?fe:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,Jn)},Cn.reduceRight=function(t,e,n){var r=Da(t)?de:Ie,i=arguments.length<3;return r(t,Qi(e,4),n,i,tr)},Cn.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:rs(e),Lr(ss(t),e)},Cn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Cn.result=function(t,e,n){var r=-1,i=(e=oi(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(e[r])];void 0===o&&(r=i,o=n),t=Ua(o)?o.call(t):o}return t},Cn.round=fu,Cn.runInContext=t,Cn.sample=function(t){return(Da(t)?Vn:jr)(t)},Cn.size=function(t){if(null==t)return 0;if(La(t))return Xa(t)?Be(t):t.length;var e=to(t);return e==p||e==m?t.size:Er(t).length},Cn.snakeCase=Ms,Cn.some=function(t,e,n){var r=Da(t)?pe:zr;return n&&oo(t,e,n)&&(e=void 0),r(t,Qi(e,3))},Cn.sortedIndex=function(t,e){return Gr(t,e)},Cn.sortedIndexBy=function(t,e,n){return Kr(t,e,Qi(n,2))},Cn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Gr(t,e);if(r<n&&xa(t[r],e))return r}return-1},Cn.sortedLastIndex=function(t,e){return Gr(t,e,!0)},Cn.sortedLastIndexBy=function(t,e,n){return Kr(t,e,Qi(n,2),!0)},Cn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Gr(t,e,!0)-1;if(xa(t[n],e))return n}return-1},Cn.startCase=js,Cn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Qn(rs(n),0,t.length),e=Yr(e),t.slice(n,n+e.length)==e},Cn.subtract=du,Cn.sum=function(t){return t&&t.length?Se(t,Ks):0},Cn.sumBy=function(t,e){return t&&t.length?Se(t,Qi(e,2)):0},Cn.template=function(t,e,n){var r=Cn.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=ss(t),e=ls({},e,r,Vi);var i,o,a=ls({},e.imports,r.imports,Vi),s=ws(a),u=Ae(a,s),c=0,l=e.interpolate||ct,h="__p += '",f=yt((e.escape||ct).source+"|"+l.source+"|"+(l===q?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mt+"]")+"\n";t.replace(f,function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(c,u).replace(lt,Le),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var p=Et.call(e,"variable")&&e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(P,""):h).replace(D,"$1").replace(R,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=qs(function(){return dt(s,d+"return "+h).apply(void 0,u)});if(v.source=h,Fa(v))throw v;return v},Cn.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=an(t,4294967295);t-=4294967295;for(var i=Te(r,e=Qi(e));++n<t;)e(n);return i},Cn.toFinite=ns,Cn.toInteger=rs,Cn.toLength=is,Cn.toLower=function(t){return ss(t).toLowerCase()},Cn.toNumber=os,Cn.toSafeInteger=function(t){return t?Qn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},Cn.toString=ss,Cn.toUpper=function(t){return ss(t).toUpperCase()},Cn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Yr(e)))return t;var r=He(t),i=He(e);return si(r,Oe(r,i),Ne(r,i)+1).join("")},Cn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Yr(e)))return t;var r=He(t);return si(r,0,Ne(r,He(e))+1).join("")},Cn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Q,"");if(!t||!(e=Yr(e)))return t;var r=He(t);return si(r,Oe(r,He(e))).join("")},Cn.truncate=function(t,e){var n=30,r="...";if(Ha(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Yr(e.omission):r}var o=(t=ss(t)).length;if(Me(t)){var a=He(t);o=a.length}if(n>=o)return t;var s=n-Be(r);if(s<1)return r;var u=a?si(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Qa(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=yt(i.source,ss(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?s:h)}}else if(t.indexOf(Yr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},Cn.unescape=function(t){return(t=ss(t))&&j.test(t)?t.replace(L,ze):t},Cn.uniqueId=function(t){var e=++It;return ss(t)+e},Cn.upperCase=Vs,Cn.upperFirst=Fs,Cn.each=sa,Cn.eachRight=ua,Cn.first=Lo,Xs(Cn,(au={},sr(Cn,function(t,e){Et.call(Cn.prototype,e)||(au[e]=t)}),au),{chain:!1}),Cn.VERSION="4.17.20",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Cn[t].placeholder=Cn}),ie(["drop","take"],function(t,e){Nn.prototype[t]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!e?new Nn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Nn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ie(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Nn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),ie(["head","last"],function(t,e){var n="take"+(e?"Right":"");Nn.prototype[t]=function(){return this[n](1).value()[0]}}),ie(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Nn.prototype[t]=function(){return this.__filtered__?new Nn(this):this[n](1)}}),Nn.prototype.compact=function(){return this.filter(Ks)},Nn.prototype.find=function(t){return this.filter(t).head()},Nn.prototype.findLast=function(t){return this.reverse().find(t)},Nn.prototype.invokeMap=Mr(function(t,e){return"function"==typeof t?new Nn(this):this.map(function(n){return gr(n,t,e)})}),Nn.prototype.reject=function(t){return this.filter(Ia(Qi(t)))},Nn.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Nn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Nn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Nn.prototype.toArray=function(){return this.take(4294967295)},sr(Nn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Cn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Cn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Nn,u=a[0],c=s||Da(e),l=function(t){var e=i.apply(Cn,he([t],a));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=s&&!f;if(!o&&c){e=p?e:new Nn(this);var v=t.apply(e,a);return v.__actions__.push({func:na,args:[l],thisArg:void 0}),new On(v,h)}return d&&p?t.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})}),ie(["pop","push","shift","sort","splice","unshift"],function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Cn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Da(i)?i:[],t)}return this[n](function(n){return e.apply(Da(n)?n:[],t)})}}),sr(Nn.prototype,function(t,e){var n=Cn[e];if(n){var r=n.name+"";Et.call(mn,r)||(mn[r]=[]),mn[r].push({name:e,func:n})}}),mn[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],Nn.prototype.clone=function(){var t=new Nn(this.__wrapped__);return t.__actions__=vi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vi(this.__views__),t},Nn.prototype.reverse=function(){if(this.__filtered__){var t=new Nn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Nn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=an(e,t+a);break;case"takeRight":t=on(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,d=an(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ti(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,y=t[c+=e];++v<h;){var g=l[v],m=g.type,b=(0,g.iteratee)(y);if(2==m)y=b;else if(!b){if(1==m)continue t;break t}}p[f++]=y}return p},Cn.prototype.at=ra,Cn.prototype.chain=function(){return ea(this)},Cn.prototype.commit=function(){return new On(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(t){for(var e,n=this;n instanceof xn;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Cn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Nn){var e=t;return this.__actions__.length&&(e=new Nn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Ho],thisArg:void 0}),new On(e,this.__chain__)}return this.thru(Ho)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Ee&&(Cn.prototype[Ee]=function(){return this}),Cn}();zt._=Ge,void 0===(r=(function(){return Ge}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,a){n(i=t[e].apply(t,r)).then(o,a)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},zUnb:function(r,i,c){"use strict";function d(t){return"function"==typeof t}c.r(i);var y=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=t},get useDeprecatedSynchronousErrorHandling(){return y}};function b(t){setTimeout(function(){throw t},0)}var w={closed:!0,next:function(t){},error:function(t){if(m.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},_=Array.isArray||function(t){return t&&"number"==typeof t.length};function k(t){return null!==t&&"object"==typeof t}var E,I=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),S=((E=function(){function t(e){v(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(d(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(cR){e=cR instanceof I?T(cR.errors):[cR]}}if(_(o))for(var s=-1,u=o.length;++s<u;){var c=o[s];if(k(c))try{c.unsubscribe()}catch(cR){e=e||[],cR instanceof I?e=e.concat(T(cR.errors)):e.push(cR)}}if(e)throw new I(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new E),E);function T(t){return t.reduce(function(t,e){return t.concat(e instanceof I?e.errors:e)},[])}var C="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),A=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;switch(v(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!t){o.destination=w;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(f(o))):(o.syncErrorThrowable=!0,o.destination=new x(f(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new x(f(o),t,r,i)}return o}return g(n,[{key:C,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,s(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(S),x=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a,s;v(this,n),(a=e.call(this))._parentSubscriber=t;var u=f(a);return d(r)?s=r:r&&(s=r.next,i=r.error,o=r.complete,r!==w&&(d((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(f(a)))),a._context=u,a._next=s,a._error=i,a._complete=o,a}return g(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=m.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;b(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return m.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(b(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(A),O="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(t){return t}var P,D=((P=function(){function t(e){v(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return g(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof A)return t;if(t[C])return t[C]()}return t||e||n?new A(t,e,n):new A(w)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||m.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),m.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){m.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof A?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=R(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:O,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?N:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=R(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new P(t)},P);function R(t){if(t||(t=m.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var L,M=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),j=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(S),V=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).destination=t,r}return n}(A),F=((L=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return g(n,[{key:C,value:function(){return new V(this)}},{key:"lift",value:function(t){var e=new U(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new M;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new M;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new M;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new M;return s(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new M;return this.hasError?(t.error(this.thrownError),S.EMPTY):this.isStopped?(t.complete(),S.EMPTY):(this.observers.push(t),new j(this,t))}},{key:"asObservable",value:function(){var t=new D;return t.source=this,t}}]),n}(D)).create=function(t,e){return new U(t,e)},L),U=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).destination=t,i.source=r,i}return g(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):S.EMPTY}}]),n}(F);function q(t){return t&&"function"==typeof t.schedule}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(t,e))}}var H=function(){function t(e,n){v(this,t),this.project=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}]),t}(),z=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||f(o),o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(A),G=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",W=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Y=function(t){if(t&&"function"==typeof t[O])return r=t,function(t){var e=r[O]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(W(t))return G(t);if(Q(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,b),t};if(t&&"function"==typeof t[K])return e=t,function(t){for(var n=e[K]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,r,i=k(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function X(t,e){return new D(function(n){var r=new S,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function $(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[O]}(t))return function(t,e){return new D(function(n){var r=new S;return r.add(e.schedule(function(){var i=t[O]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Q(t))return function(t,e){return new D(function(n){var r=new S;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(W(t))return X(t,e);if(function(t){return t&&"function"==typeof t[K]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new D(function(n){var r,i=new S;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[K](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof D?t:new D(Y(t))}var Z=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).parent=t,r}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(A),J=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(A);function tt(t,e){if(!e.closed)return t instanceof D?t.subscribe(e):Y(t)(e)}function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(et(function(n,r){return $(t(n,r)).pipe(B(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new nt(t,n))})}var nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,t),this.project=e,this.concurrent=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new rt(t,this.project,this.concurrent))}}]),t}(),rt=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return g(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new Z(this),n=this.destination;n.add(e);var r=tt(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(J);function it(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return et(N,t)}function ot(t,e){return e?X(t,e):new D(G(t))}function at(){return function(t){return t.lift(new ut(t))}}var st,ut=function(){function t(e){v(this,t),this.connectable=e}return g(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new ct(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),ct=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(A),lt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(st=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return g(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new S).add(this.source.subscribe(new ht(this.getSubject(),this))),t.closed&&(this._connection=null,t=S.EMPTY)),t}},{key:"refCount",value:function(){return at()(this)}}]),n}(D).prototype)._subscribe},_isComplete:{value:st._isComplete,writable:!0},getSubject:{value:st.getSubject},connect:{value:st.connect},refCount:{value:st.refCount}},ht=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_error",value:function(t){this._unsubscribe(),s(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),s(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(V);function ft(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new dt(r,e));var i=Object.create(n,lt);return i.source=n,i.subjectFactory=r,i}}var dt=function(){function t(e,n){v(this,t),this.subjectFactory=e,this.selector=n}return g(t,[{key:"call",value:function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}]),t}();function pt(){return new F}function vt(t){for(var e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function yt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var bt=vt({__forward_ref__:vt});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return gt(this())},t}function _t(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===wt}function Et(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function St(t){return Tt(t,xt)||Tt(t,Nt)}function Tt(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ct(t){return t&&(t.hasOwnProperty(Ot)||t.hasOwnProperty(Pt))?t[Ot]:null}var At,xt=vt({"\u0275prov":vt}),Ot=vt({"\u0275inj":vt}),Nt=vt({ngInjectableDef:vt}),Pt=vt({ngInjectorDef:vt}),Dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Rt(t){var e=At;return At=t,e}function Lt(t,e,n){var r=St(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Dt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(gt(t),"]"))}function Mt(t){return{toString:t}.toString()}var jt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Ft="undefined"!=typeof globalThis&&globalThis,Ut="undefined"!=typeof window&&window,qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt="undefined"!=typeof global&&global,Ht=Ft||Bt||Ut||qt,zt={},Gt=[],Kt=vt({"\u0275cmp":vt}),Wt=vt({"\u0275dir":vt}),Qt=vt({"\u0275pipe":vt}),Yt=vt({"\u0275mod":vt}),Xt=vt({"\u0275loc":vt}),$t=vt({"\u0275fac":vt}),Zt=vt({__NG_ELEMENT_ID__:vt}),Jt=0;function te(t){return Mt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Gt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,id:"c",styles:t.styles||Gt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Jt++,n.inputs=oe(t.inputs,e),n.outputs=oe(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ee)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ne)}:null,n})}function ee(t){return ue(t)||function(t){return t[Wt]||null}(t)}function ne(t){return function(t){return t[Qt]||null}(t)}var re={};function ie(t){var e={type:t.type,bootstrap:t.bootstrap||Gt,declarations:t.declarations||Gt,imports:t.imports||Gt,exports:t.exports||Gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Mt(function(){re[t.id]=t.type}),e}function oe(t,e){if(null==t)return zt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var ae=te;function se(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ue(t){return t[Kt]||null}function ce(t,e){var n=t[Yt]||null;if(!n&&!0===e)throw new Error("Type ".concat(gt(t)," does not have '\u0275mod' property."));return n}function le(t){return Array.isArray(t)&&"object"==typeof t[1]}function he(t){return Array.isArray(t)&&!0===t[1]}function fe(t){return 0!=(8&t.flags)}function de(t){return 2==(2&t.flags)}function pe(t){return 1==(1&t.flags)}function ve(t){return null!==t.template}function ye(t,e){return t.hasOwnProperty($t)?t[$t]:null}var ge=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(o(Error));function me(t){return"string"==typeof t?t:null==t?"":String(t)}function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}function we(t,e){var n=e?" in ".concat(e):"";throw new ge("201","No provider for ".concat(be(t)," found").concat(n))}var _e,ke=function(){function t(e,n,r){v(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ee(){return Ie}function Ie(t){return t.type.prototype.ngOnChanges&&(t.setInput=Te),Se}function Se(){var t=Ce(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===zt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Te(t,e,n,r){var i=Ce(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:zt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ke(u&&u.currentValue,e,a===zt),t[r]=e}function Ce(t){return t.__ngSimpleChanges__||null}function Ae(t){return!!t.listen}Ee.ngInherit=!0;var xe={createRenderer:function(t,e){return void 0!==_e?_e:"undefined"!=typeof document?document:void 0}};function Oe(t){for(;Array.isArray(t);)t=t[0];return t}function Ne(t,e){return Oe(e[t])}function Pe(t,e){return Oe(e[t.index])}function De(t,e){return t.data[e]}function Re(t,e){return t[e]}function Le(t,e){var n=e[t];return le(n)?n:n[0]}function Me(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function je(t){return 4==(4&t[2])}function Ve(t){return 128==(128&t[2])}function Fe(t,e){return null==e?null:t[e]}function Ue(t){t[18]=0}function qe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Be={lFrame:ln(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function He(){return Be.bindingsEnabled}function ze(){return Be.lFrame.lView}function Ge(){return Be.lFrame.tView}function Ke(t){Be.lFrame.contextLView=t}function We(){for(var t=Qe();null!==t&&64===t.type;)t=t.parent;return t}function Qe(){return Be.lFrame.currentTNode}function Ye(t,e){var n=Be.lFrame;n.currentTNode=t,n.isParent=e}function Xe(){return Be.lFrame.isParent}function $e(){Be.lFrame.isParent=!1}function Ze(){return Be.isInCheckNoChangesMode}function Je(t){Be.isInCheckNoChangesMode=t}function tn(){var t=Be.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function en(){return Be.lFrame.bindingIndex++}function nn(t){Be.lFrame.currentDirectiveIndex=t}function rn(){return Be.lFrame.currentQueryIndex}function on(t){Be.lFrame.currentQueryIndex=t}function an(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function sn(t,e,n){if(n&Dt.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&Dt.Host||(r=an(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Be.lFrame=cn();return o.currentTNode=e,o.lView=t,!0}function un(t){var e=cn(),n=t[1];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cn(){var t=Be.lFrame,e=null===t?null:t.child;return null===e?ln(t):e}function ln(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function hn(){var t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fn=hn;function dn(){var t=hn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pn(){return Be.lFrame.selectedIndex}function vn(t){Be.lFrame.selectedIndex=t}function yn(){var t=Be.lFrame;return De(t.tView,t.selectedIndex)}function gn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function mn(t,e,n){_n(t,e,3,n)}function bn(t,e,n,r){(3&t[2])===n&&_n(t,e,n,r)}function wn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _n(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(kn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function kn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var En=function t(e,n,r){v(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function In(t,e,n){for(var r=Ae(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Tn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Sn(t){return 3===t||4===t||6===t}function Tn(t){return 64===t.charCodeAt(0)}function Cn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||An(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function An(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function xn(t){return-1!==t}function On(t){return 32767&t}function Nn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Pn=!0;function Dn(t){var e=Pn;return Pn=t,e}var Rn=0;function Ln(t,e){var n=jn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Mn(r.data,t),Mn(e,null),Mn(r.blueprint,null));var i=Vn(t,e),o=t.injectorIndex;if(xn(i))for(var a=On(i),s=Nn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Vn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Fn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zt)&&(r=n[Zt]),null==r&&(r=n[Zt]=Rn++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Un(t,e,n){if(n&Dt.Optional)return t;we(e,"NodeInjector")}function qn(t,e,n,r){if(n&Dt.Optional&&void 0===r&&(r=null),0==(n&(Dt.Self|Dt.Host))){var i=t[9],o=Rt(void 0);try{return i?i.get(e,r,n&Dt.Optional):Lt(e,r,n&Dt.Optional)}finally{Rt(o)}}return Un(r,e,n)}function Bn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Zt)?t[Zt]:void 0;return"number"==typeof e?e>=0?255&e:zn:e}(n);if("function"==typeof o){if(!sn(e,t,r))return r&Dt.Host?Un(i,n,r):qn(e,n,r,i);try{var a=o();if(null!=a||r&Dt.Optional)return a;we(n)}finally{fn()}}else if("number"==typeof o){var s=null,u=jn(t,e),c=-1,l=r&Dt.Host?e[16][6]:null;for((-1===u||r&Dt.SkipSelf)&&(-1!==(c=-1===u?Vn(t,e):e[u+8])&&Yn(r,!1)?(s=e[1],u=On(c),e=Nn(c,e)):u=-1);-1!==u;){var h=e[1];if(Qn(o,u,h.data)){var f=Gn(u,e,n,s,r,l);if(f!==Hn)return f}-1!==(c=e[u+8])&&Yn(r,e[1].data[u+8]===l)&&Qn(o,u,e)?(s=h,u=On(c),e=Nn(c,e)):u=-1}}}return qn(e,n,r,i)}var Hn={};function zn(){return new Xn(We(),ze())}function Gn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=Kn(s,a,n,null==r?de(s)&&Pn:r!=a&&0!=(3&s.type),i&Dt.Host&&o===s);return null!==u?Wn(e,a,u,s):Hn}function Kn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&ve(d)&&d.type===n)return u}return null}function Wn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof En){var a=i;a.resolving&&function(t,e){throw new ge("200","Circular dependency in DI detected for ".concat(t))}(be(o[n]));var s=Dn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?Rt(a.injectImpl):null;sn(t,r,Dt.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Ie(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&Rt(u),Dn(s),a.resolving=!1,fn()}}return i}function Qn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Yn(t,e){return!(t&Dt.Self||t&Dt.Host&&e)}var Xn=function(){function t(e,n){v(this,t),this._tNode=e,this._lView=n}return g(t,[{key:"get",value:function(t,e){return Bn(this._tNode,this._lView,t,void 0,e)}}]),t}();function $n(t){var e=t;if(kt(t))return function(){var t=$n(_t(e));return t?t():null};var n=ye(e);if(null===n){var r=Ct(e);n=r&&r.factory}return n||null}function Zn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Sn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(We(),t)}function Jn(t,e,n){return Mt(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=a(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var tr=function(){function t(e,n){v(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Et({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),er=new tr("AnalyzeForEntryComponents"),nr=Function;function rr(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rr(r,e)):e!==t&&e.push(r)}return e}function ir(t,e){t.forEach(function(t){return Array.isArray(t)?ir(t,e):e(t)})}function or(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ar(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sr(t,e){var n=ur(t,e);if(n>=0)return t[1|n]}function ur(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var cr,lr={},hr=/\n/gm,fr=vt({provide:String,useValue:vt});function dr(t){var e=cr;return cr=t,e}function pr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default;if(void 0===cr)throw new Error("inject() must be called from an injection context");return null===cr?Lt(t,void 0,e):cr.get(t,e&Dt.Optional?null:void 0,e)}function vr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default;return(At||pr)(_t(t),e)}function yr(t){for(var e=[],n=0;n<t.length;n++){var r=_t(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Dt.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(vr(i,o))}else e.push(vr(r))}return e}function gr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var mr=gr(Jn("Inject",function(t){return{token:t}}),-1),br=gr(Jn("Optional"),8),wr=gr(Jn("SkipSelf"),4),_r=function(){function t(e){v(this,t),this.changingThisBreaksApplicationSecurity=e}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}();function kr(t){return t instanceof _r?t.changingThisBreaksApplicationSecurity:t}var Er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){var e,n,r=(e=ze())&&e[12];return r?r.sanitize(Sr.URL,t)||"":function(t,e){var n=function(t){return t instanceof _r&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}(t,"URL")?kr(t):(n=me(t),(n=String(n)).match(Er)||n.match(Ir)?n:"unsafe:"+n)}function Cr(t){return t.ngDebugContext}function Ar(t){return t.ngOriginalError}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Or=function(){function t(){v(this,t),this._console=console}return g(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Cr(t)?Cr(t):this._findContext(Ar(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ar(t);e&&Ar(e);)e=Ar(e);return e}}]),t}();function Nr(t,e){t.__ngContext__=e}var Pr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht);function Dr(t){return{name:"document",target:t.ownerDocument}}function Rr(t){return t instanceof Function?t():t}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Mr(t,e){return(void 0)(t,e)}function jr(t){var e=t[3];return he(e)?e[3]:e}function Vr(t){return Ur(t[13])}function Fr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!he(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){var o,a=!1;he(r)?o=r:le(r)&&(a=!0,r=r[0]);var s=Oe(r);0===t&&null!==n?null==i?Qr(e,n,s):Wr(e,n,s,i||null,!0):1===t&&null!==n?Wr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Xr(t,e);r&&function(t,e,n,r){Ae(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Oe(n)&&qr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];ei(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Br(t,e,n){return Ae(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qe(i,-1)),n.splice(r,1)}function zr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Hr(o,i),e>0&&(t[r-1][4]=i[4]);var a=ar(t,10+e);ei(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Gr(t,e){if(!(256&e[2])){var n=e[11];Ae(n)&&n.destroyNode&&ei(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Kr(t[1],t);for(;e;){var n=null;if(le(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)le(e)&&Kr(e[1],e),e=e[3];null===e&&(e=t),le(e)&&Kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof En)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Oe(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Ae(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&he(e[3])){n!==e[3]&&Hr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Wr(t,e,n,r,i){Ae(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qr(t,e,n){Ae(t)?t.appendChild(e,n):e.appendChild(n)}function Yr(t,e,n,r,i){null!==r?Wr(t,e,n,r,i):Qr(t,e,n)}function Xr(t,e){return Ae(t)?t.parentNode(e):e.parentNode}function $r(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Vt.None||i===Vt.Emulated)return null}return Pe(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],a=function(t,e,n){return function(t,e,n){return 40&t.type?Pe(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Yr(o,i,n[s],a,!1);else Yr(o,i,n,a,!1)}function Zr(t,e){if(null!==e){var n=e.type;if(3&n)return Pe(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Zr(t,r);var i=t[e.index];return he(i)?Jr(-1,i):Oe(i)}if(32&n)return Mr(e,t)()||Oe(t[e.index]);var o=t[16],a=o[6],s=jr(o),u=a.projection[e.projection];return null!=u?Zr(s,u):Zr(t,e.next)}return null}function Jr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Zr(r,i)}return e[7]}function ti(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Nr(Oe(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)ti(t,e,n.child,r,i,o,!1),qr(e,t,i,s,o);else if(32&u){for(var c=Mr(n,r),l=void 0;l=c();)qr(e,t,i,l,o);qr(e,t,i,s,o)}else 16&u?ni(t,e,r,n,i,o):qr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function ei(t,e,n,r,i,o){ti(n,r,t.firstChild,e,i,o,!1)}function ni(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)qr(e,t,i,s[u],o);else ti(t,e,s,a[3],i,o,!0)}function ri(t,e,n){Ae(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ii(t,e,n){Ae(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function oi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ai(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==oi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function si(t){return 4===t.type&&"ng-template"!==t.value}function ui(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ci(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Sn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ui(t,u,n)||""===u&&1===e.length){if(li(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ai(t.attrs,c,n)){if(li(r))return!1;a=!0}continue}var l=hi(8&r?"class":u,i,si(t),n);if(-1===l){if(li(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==oi(f,c,0)||2&r&&c!==h){if(li(r))return!1;a=!0}}}}else{if(!a&&!li(r)&&!li(u))return!1;if(a&&li(u))continue;a=!1,r=u|1&r}}return li(r)||a}function li(t){return 0==(1&t)}function hi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ci(t,e[r],n))return!0;return!1}function di(t,e){return t?":not("+e.trim()+")":e}function pi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||li(a)||(e+=di(o,i),i=""),r=a,o=o||!li(r);n++}return""!==i&&(e+=di(o,i)),e}var vi={};function yi(t){gi(Ge(),ze(),pn()+t,Ze())}function gi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&mn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&bn(e,o,0,n)}vn(n)}function mi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function wi(t){return 2|t}function _i(t){return(131068&t)>>2}function ki(t,e){return-131069&t|e<<2}function Ei(t){return 1|t}function Ii(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];on(i),a.contentQueries(2,e[o],o)}}}function Si(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ue(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=Qe(),a=Xe(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Be.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Be.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return Ye(s,!0),s}function Ci(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ai(t,e,n){un(e);try{var r=t.viewQuery;null!==r&&io(1,r,n);var i=t.template;null!==i&&Ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ii(t,e),t.staticViewQueries&&io(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ji(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,dn()}}function xi(t,e,n,r){var i=e[2];if(256!=(256&i)){un(e);var o=Ze();try{Ue(e),Be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ni(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&mn(e,s,null)}else{var u=t.preOrderHooks;null!==u&&bn(e,u,0,null),wn(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=Fr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&qe(o,1),i[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=Fr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Ve(r)&&xi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ii(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&mn(e,c)}else{var l=t.contentHooks;null!==l&&bn(e,l,1),wn(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)vn(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Be.lFrame).bindingIndex=i.bindingRootIndex=n,nn(r),l(2,e[u])}}}finally{vn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)$i(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&io(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&mn(e,d)}else{var p=t.viewHooks;null!==p&&bn(e,p,2),wn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{dn()}}}function Oi(t,e,n,r){var i=e[10],o=!Ze(),a=je(e);try{o&&!a&&i.begin&&i.begin(),a&&Ai(t,e,r),xi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ni(t,e,n,r,i){var o=pn();try{vn(-1),2&r&&e.length>20&&gi(t,e,20,Ze()),n(r,i)}finally{vn(o)}}function Pi(t,e,n){if(fe(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Di(t,e,n){He()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ln(n,e),Nr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=ve(u);c&&Wi(e,n,u);var l=Wn(e,t,s,n);Nr(l,e),null!==a&&Qi(0,s-i,l,u,0,a),c&&(Le(n.index,e)[8]=l)}}(t,e,n,Pe(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Be.lFrame.currentDirectiveIndex;try{vn(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];nn(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Bi(u,c)}}finally{vn(-1),nn(a)}}(t,e,n))}function Ri(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Li(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mi(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:vi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ji(t,e,n,r){var i=ao(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&so(t).push(r,i.length-1))}function Vi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Fi(t,e,n,r,i,o,a,s){var u,c=Pe(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(co(t,n,u,r,i),de(e)&&function(t,e){var n=Le(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,Ae(o)?o.setProperty(c,r,i):Tn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ui(t,e,n,r){var i=!1;if(He()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];fi(n,a.selectors,!1)&&(i||(i=[]),Fn(Ln(n,e),t,a.type),ve(a)?(Hi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Gi(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ci(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Cn(n.mergedAttrs,d.hostAttrs),Ki(t,n,e,h,d),zi(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||si(e)?null:Yi(l,i);o.push(h),a=Vi(l,u,a),s=Vi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new ge("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Cn(n.mergedAttrs,n.attrs),i}function qi(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Bi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function zi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ve(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=ye(i.type)),a=new En(o,ve(i),null);t.blueprint[r]=a,n[r]=a,qi(t,e,0,r,Ci(t,n,i.hostVars,vi),i)}function Wi(t,e,n){var r=Pe(e,t),i=Li(n),o=t[10],a=to(t,Si(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Qi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Yi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Xi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function $i(t,e){var n=Le(e,t);if(Ve(n)){var r=n[1];80&n[2]?xi(r,n,r.template,n[8]):n[5]>0&&Zi(n)}}function Zi(t){for(var e=Vr(t);null!==e;e=Fr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];xi(i,r,i.template,r[8])}else r[5]>0&&Zi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Le(o[a],t);Ve(s)&&s[5]>0&&Zi(s)}}function Ji(t,e){var n=Le(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function to(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function eo(t){for(;t;){t[2]|=64;var e=jr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function no(t,e,n){var r=e[10];r.begin&&r.begin();try{xi(t,e,t.template,n)}catch(i){throw uo(e,i),i}finally{r.end&&r.end()}}function ro(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Me(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function io(t,e,n){on(0),e(t,n)}var oo=Promise.resolve(null);function ao(t){return t[7]||(t[7]=[])}function so(t){return t.cleanup||(t.cleanup=[])}function uo(t,e){var n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function co(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function lo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=mt(i,s):2==o&&(r=mt(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ho,fo=new tr("INJECTOR",-1),po=function(){function t(){v(this,t)}return g(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lr;if(e===lr){var n=new Error("NullInjectorError: No provider for ".concat(gt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),vo=new tr("Set Injector scope."),yo={},go={},mo=[];function bo(){return void 0===ho&&(ho=new po),ho}function wo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new _o(t,n,e||bo(),r)}var _o=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ir(n,function(t){return i.processProvider(t,e,n)}),ir([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(fo,Io(void 0,this));var s=this.records.get(vo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:gt(e))}return g(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.Default;this.assertNotDestroyed();var r,i=dr(this);try{if(!(n&Dt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tr)&&St(t);o=a&&this.injectableDefInScope(a)?Io(ko(t),yo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Dt.Self?bo():this.parent).get(t,e=n&Dt.Optional&&e===lr?null:e)}catch(cR){if("NullInjectorError"===cR.name){if((cR.ngTempTokenPath=cR.ngTempTokenPath||[]).unshift(gt(t)),i)throw cR;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):gt(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(hr,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(cR,t,0,this.source)}throw cR}finally{dr(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(gt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=_t(t)))return!1;var i=Ct(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=Ct(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{ir(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;ir(i,function(t){return r.processProvider(t,n,i||mo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Io(i.factory,yo));var h=i.providers;if(null!=h&&!s){var f=t;ir(h,function(t){return r.processProvider(t,f,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=To(t=_t(t))?t:_t(t&&t.provide),i=function(t,e,n){return So(t)?Io(void 0,t.useValue):Io(Eo(t),yo)}(t);if(To(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Io(void 0,yo,!0)).factory=function(){return yr(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===yo&&(e.value=go,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ko(t){var e=St(t),n=null!==e?e.factory:ye(t);if(null!==n)return n;var r=Ct(t);if(null!==r)return r.factory;if(t instanceof tr)throw new Error("Token ".concat(gt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(gt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[xt]||t[Nt]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Eo(t,e,r){var i,o;if(To(t)){var s=_t(t);return ye(s)||ko(s)}if(So(t))i=function(){return _t(t.useValue)};else if((o=t)&&o.useFactory)i=function(){return t.useFactory.apply(t,n(yr(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return vr(_t(t.useExisting))};else{var u=_t(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ye(u)||ko(u);i=function(){return a(u,n(yr(t.deps)))}}return i}function Io(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function So(t){return null!==t&&"object"==typeof t&&fr in t}function To(t){return"function"==typeof t}var Co=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=wo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Ao=function(){var t=function(){function t(){v(this,t)}return g(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Co(t,e,""):Co(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=lr,t.NULL=new po,t.\u0275prov=Et({token:t,providedIn:"any",factory:function(){return vr(fo)}}),t.__NG_ELEMENT_ID__=-1,t}();function xo(t,e){gn(Me(t)[1],We())}function Oo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(ve(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=No(t.inputs),o.declaredInputs=No(t.declaredInputs),o.outputs=No(t.outputs);var a=i.hostBindings;a&&Ro(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Po(t,s),u&&Do(t,u),yt(t.inputs,i.inputs),yt(t.declaredInputs,i.declaredInputs),yt(t.outputs,i.outputs),ve(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Oo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cn(i.hostAttrs,n=Cn(n,i.hostAttrs))}}(r)}function No(t){return t===zt?{}:t===Gt?[]:t}function Po(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Do(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Ro(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Lo=null;function Mo(){if(!Lo){var t=Ht.Symbol;if(t&&t.iterator)Lo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lo=r)}}return Lo}var jo=function(){function t(e){v(this,t),this.wrapped=e}return g(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Vo(t){return!!Fo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Mo()in t)}function Fo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Uo(t,e,n){return t[e]=n}function qo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bo(t,e,n,r){var i=ze();return qo(i,en(),e)&&(Ge(),function(t,e,n,r,i,o){var a=Pe(t,e);!function(t,e,n,r,i,o,a){if(null==o)Ae(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?me(o):a(o,r||"",i);Ae(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(yn(),i,t,e,n,r)),Bo}function Ho(t,e,n,r,i,o,a,s){var u=ze(),c=Ge(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Ti(e,t,4,a||null,Fe(c,s));Ui(e,n,l,Fe(c,u)),gn(e,l);var h=l.tViews=Mi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];Ye(h,!1);var f=u[11].createComment("");$r(c,u,f,h),Nr(f,u),to(u,u[l]=Xi(f,u,f,h)),pe(h)&&Di(c,u,h),null!=a&&Ri(u,h,s)}function zo(t){return Re(Be.lFrame.contextLView,20+t)}function Go(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.Default,n=ze();return null===n?vr(t,e):Bn(We(),n,_t(t),e)}function Ko(t,e,n){var r=ze();return qo(r,en(),e)&&Fi(Ge(),yn(),r,t,e,r[11],n,!1),Ko}function Wo(t,e,n,r,i){var o=i?"class":"style";co(t,n,e.inputs[o],o,r)}function Qo(t,e,n,r){var i=ze(),o=Ge(),a=20+t,s=i[11],u=i[a]=Br(s,e,Be.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Ti(e,t,2,i,Fe(s,o));return Ui(e,n,u,Fe(s,a)),null!==u.attrs&&lo(u,u.attrs,!1),null!==u.mergedAttrs&&lo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];Ye(c,!0);var l=c.mergedAttrs;null!==l&&In(s,u,l);var h=c.classes;null!==h&&ii(s,u,h);var f=c.styles;null!==f&&ri(s,u,f),64!=(64&c.flags)&&$r(o,i,u,c),0===Be.lFrame.elementDepthCount&&Nr(u,i),Be.lFrame.elementDepthCount++,pe(c)&&(Di(o,i,c),Pi(o,c,i)),null!==r&&Ri(i,c)}function Yo(){var t=We();Xe()?$e():Ye(t=t.parent,!1);var e=t;Be.lFrame.elementDepthCount--;var n=Ge();n.firstCreatePass&&(gn(n,t),fe(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Wo(n,e,ze(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Wo(n,e,ze(),e.stylesWithoutHost,!1)}function Xo(t,e,n,r){Qo(t,e,n,r),Yo()}function $o(t,e,n){var r=ze(),i=Ge(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Fe(o,r),s=Ti(e,t,8,"ng-container",a);return null!==a&&lo(s,a,!0),Ui(e,n,s,Fe(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];Ye(a,!0);var s=r[o]=r[11].createComment("");$r(i,r,s,a),Nr(s,r),pe(a)&&(Di(i,r,a),Pi(i,a,r)),null!=n&&Ri(r,a)}function Zo(){var t=We(),e=Ge();Xe()?$e():Ye(t=t.parent,!1),e.firstCreatePass&&(gn(e,t),fe(t)&&e.queries.elementEnd(t))}function Jo(){return ze()}function ta(t){return!!t&&"function"==typeof t.then}function ea(t){return!!t&&"function"==typeof t.subscribe}var na=ea;function ra(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ze(),o=Ge(),a=We();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=pe(r),c=t.firstCreatePass&&so(t),l=ao(e),h=!0;if(3&r.type){var f=Pe(r,e),d=s?s(f):zt,p=d.target||f,v=l.length,y=s?function(t){return s(Oe(t[r.index])).target}:r.index;if(Ae(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=oa(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=oa(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=oa(r,e,o,!1);var b,w=r.outputs;if(h&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),I=l.length;l.push(o,E),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],a,t,e,n,r),ra}function ia(t,e,n){try{return!1!==e(n)}catch(r){return uo(t,r),!1}}function oa(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Le(t.index,e):e;0==(32&e[2])&&eo(a);for(var s=ia(e,n,o),u=i.__ngNextListenerFn__;u;)s=ia(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function aa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Be.lFrame.contextLView))[8]}(t)}var sa=[];function ua(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?bi(o):_i(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];ca(t[s],e)&&(u=!0,t[s+1]=r?Ei(c):wi(c)),s=r?bi(c):_i(c)}u&&(t[n+1]=r?wi(o):Ei(o))}function ca(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ur(t,e)>=0}function la(t,e){return function(t,e,n,r){var i,o,a=ze(),s=Ge(),u=(i=Be.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);s.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[pn()],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=fa(n=ha(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ha(i,t,e,n,!0),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==_i(r))return t[bi(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[bi(e.classBindings)]=r}(t,e,0,s=fa(s=ha(null,t,e,s[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=fa(r,t[o].hostAttrs,!0);return fa(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,s=bi(a),u=_i(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ur(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=bi(t[s+1]);t[r+1]=mi(f,s),0!==f&&(t[f+1]=ki(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=mi(s,0),0!==s&&(t[s+1]=ki(t[s+1],r)),s=r;else t[r+1]=mi(u,0),0===s?s=r:t[u+1]=ki(t[u+1],r),u=r;l&&(t[r+1]=wi(t[r+1])),ua(t,c,r,!0),ua(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&ur(o,e)>=0&&(n[r+1]=Ei(n[r+1]))}(e,c,t,r),a=mi(s,u),e.classBindings=a}(i,o,e,n,a)}}(s,t,u),e!==vi&&qo(a,u,e)&&function(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];pa(1==(1&c)?da(u,e,n,i,_i(c),!0):void 0)||(pa(o)||2==(2&c)&&(o=da(u,null,n,i,s,!0)),function(t,e,n,r,i){var o=Ae(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Ne(pn(),n),i,o))}}(s,s.data[pn()],a,a[11],t,a[u+1]=function(t,e){return null==t||"object"==typeof t&&(t=gt(kr(t))),t}(e),0,u)}(t,e),la}function ha(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=fa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function fa(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=ur(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function da(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===vi&&(f=h?sa:void 0);var d=h?sr(f,r):l===r?f:void 0;if(c&&!pa(d)&&(d=sr(u,r)),pa(d)&&(a=d,s))return a;var p=t[i+1];i=s?bi(p):_i(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=sr(v,r))}return a}function pa(t){return void 0!==t}function va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ze(),r=Ge(),i=t+20,o=r.firstCreatePass?Ti(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Ae(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,a,o),Ye(o,!1)}function ya(t){return ga("",t,""),ya}function ga(t,e,n){var r=ze(),i=function(t,e,n,r){return qo(t,en(),n)?e+me(n)+r:vi}(r,t,e,n);return i!==vi&&function(t,e,n){var r=Ne(e,t);!function(t,e,n){Ae(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,pn(),i),ga}function ma(t,e,n){var r=ze();return qo(r,en(),e)&&Fi(Ge(),yn(),r,t,e,r[11],n,!0),ma}var ba=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],wa={};function _a(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ka(e);if(n)return n;var r=e.split("-")[0];if(n=ka(r))return n;if("en"===r)return ba;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ka(t){return t in wa||(wa[t]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[t]),wa[t]}var Ea=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Ia(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Sa(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(var o=0;o<t.length;o++)Sa(t[o],e,n,r,i);else{var a=Ge(),s=ze(),u=To(t)?t:_t(t.provide),c=Eo(t),l=We(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(To(t)||!t.multi){var p=new En(c,i,Go),v=Aa(u,e,i?h:h+d,f);-1===v?(Fn(Ln(l,s),a,u),Ta(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Aa(u,e,h+d,f),g=Aa(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){Fn(Ln(l,s),a,u);var w=function(t,e,n,r,i){var o=new En(t,n,Go);return o.multi=[],o.index=e,o.componentProviders=0,Ca(o,i,r&&!n),o}(i?Oa:xa,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),Ta(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else Ta(a,t,y>-1?y:g,Ca(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Ta(t,e,n,r){var i=To(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ca(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Aa(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function xa(t,e,n,r){return Na(this.multi,[])}function Oa(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Wn(n,n[1],this.providerFactory.index,r);Na(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Na(o,i=[]);return i}function Na(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Pa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Ge();if(r.firstCreatePass){var i=ve(t);Sa(n,r.data,r.blueprint,i,!0),Sa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Da=function t(){v(this,t)},Ra=function(){function t(){v(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(gt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),La=function(){var t=function t(){v(this,t)};return t.NULL=new Ra,t}();function Ma(){}function ja(t,e){return new Fa(Pe(t,e))}var Va=function(){return ja(We(),ze())},Fa=function(){var t=function t(e){v(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Va,t}();function Ua(t){return t instanceof Fa?t.nativeElement:t}var qa=function t(){v(this,t)},Ba=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ha()},t}(),Ha=function(){var t=ze(),e=Le(We().index,t);return function(t){return t[11]}(le(e)?e:t)},za=function(){var t=function t(){v(this,t)};return t.\u0275prov=Et({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ga=new function t(e){v(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("11.1.1"),Ka=function(){function t(){v(this,t)}return g(t,[{key:"supports",value:function(t){return Vo(t)}},{key:"create",value:function(t){return new Qa(t)}}]),t}(),Wa=function(t,e){return e},Qa=function(){function t(e){v(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wa}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Za(n,r,i)?e:n,a=Za(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Vo(t))throw new Error("Error trying to diff '".concat(gt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Mo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ya(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $a),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Ya=function t(e,n){v(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Xa=function(){function t(){v(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),$a=function(){function t(){v(this,t),this.map=new Map}return g(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Xa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Za(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ja=function(){function t(){v(this,t)}return g(t,[{key:"supports",value:function(t){return t instanceof Map||Fo(t)}},{key:"create",value:function(){return new ts}}]),t}(),ts=function(){function t(){v(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Fo(t)))throw new Error("Error trying to diff '".concat(gt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new es(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),es=function t(e){v(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function ns(){return new rs([new Ka])}var rs=function(){var t=function(){function t(e){v(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ns())},deps:[[t,new wr,new br]]}}}]),t}();return t.\u0275prov=Et({token:t,providedIn:"root",factory:ns}),t}();function is(){return new os([new Ja])}var os=function(){var t=function(){function t(e){v(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||is())},deps:[[t,new wr,new br]]}}}]),t}();return t.\u0275prov=Et({token:t,providedIn:"root",factory:is}),t}();function as(t,e,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=e[r.index];if(null!==a&&i.push(Oe(a)),he(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&as(u[1],u,c,i)}var l=r.type;if(8&l)as(t,e,r.child,i);else if(32&l)for(var h=Mr(r,e),f=void 0;f=h();)i.push(f);else if(16&l){var d=e[16],p=d[6].projection[r.projection];if(Array.isArray(p))i.push.apply(i,n(p));else{var v=jr(d);as(v[1],v,p,i,!0)}}r=o?r.projectionNext:r.next}return i}var ss=function(){function t(e,n){v(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return g(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return as(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(he(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(zr(t,n),ar(e,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){ji(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){eo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){no(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Je(!0);try{no(t,e,n)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,ei(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),us=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t))._view=t,r}return g(n,[{key:"detectChanges",value:function(){ro(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Je(!0);try{ro(t)}finally{Je(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ss),cs=hs,ls=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=cs,t.__ChangeDetectorRef__=!0,t}();function hs(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&de(t)){var r=Le(t.index,e);return new ss(r,r)}return 47&t.type?new ss(e[16],e):null}(We(),ze(),t)}var fs=[new Ja],ds=new rs([new Ka]),ps=new os(fs),vs=function(){return ms(We(),ze())},ys=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=vs,t}(),gs=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return g(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new ss(n)}}]),n}(ys);function ms(t,e){return 4&t.type?new gs(e,t,ja(t,e)):null}var bs=function t(){v(this,t)},ws=function t(){v(this,t)},_s=function(){return Ts(We(),ze())},ks=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=_s,t}(),Es=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return g(n,[{key:"element",get:function(){return ja(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Xn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Vn(this._hostTNode,this._hostLView);if(xn(t)){var e=Nn(t,this._hostLView),n=On(t);return new Xn(e[1].data[n+8],e)}return new Xn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Is(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(bs,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(he(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],or(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=Jr(u,c),h=r[11],f=Xr(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ei(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),or(Ss(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Is(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(ar(Ss(this._lContainer),e),Gr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=ar(Ss(this._lContainer),e)?new ss(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(ks);function Is(t){return t[8]}function Ss(t){return t[8]||(t[8]=[])}function Ts(t,e){var n,r=e[t.index];if(he(r))n=r;else{var i;if(8&t.type)i=Oe(r);else{var o=e[11];i=o.createComment("");var a=Pe(t,e);Wr(o,Xr(o,a),i,function(t,e){return Ae(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Xi(r,e,i,t),to(e,n)}return new Es(n,t,e)}var Cs={},As=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).ngModule=t,r}return g(n,[{key:"resolveComponentFactory",value:function(t){var e=ue(t);return new Ns(e,this.ngModule)}}]),n}(La);function xs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Os=new tr("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Pr}}),Ns=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(pi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return g(n,[{key:"inputs",get:function(){return xs(this.componentDef.inputs)}},{key:"outputs",get:function(){return xs(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Cs,i);return o!==Cs||r===Cs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(qa,xe),u=a.get(za,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ae(t))return t.selectRootElement(e,n===Vt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Br(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Pr,clean:oo,playerHandler:null,flags:0},p=Mi(0,null,null,1,0,null,null,null,null,null),v=Si(null,p,d,f,null,null,s,c,u,a);un(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Ti(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(lo(s,u,!0),null!==t&&(In(i,t,u),null!==s.classes&&ii(i,t,s.classes),null!==s.styles&&ri(i,t,s.styles)));var c=r.createRenderer(t,e),l=Si(n,Li(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Fn(Ln(s,n),a,e.type),Hi(a,s),Gi(s,n.length,1)),to(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)In(c,h,["ng-version",Ga.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!li(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&In(c,h,m),b&&b.length>0&&ii(c,h,b.join(" "))}if(o=De(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=We();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(t,r,e,Ci(t,e,1,null),n));var i=Wn(e,t,r.directiveStart,r);Nr(i,e);var o=Pe(r,e);return o&&Nr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=We();e.contentQueries(1,a,s.directiveStart)}var u=We();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(vn(u.index),qi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Bi(e,a)),a}(y,this.componentDef,v,d,[xo]),Ai(p,v,null)}finally{dn()}return new Ps(this.componentType,i,ja(o,v),v,o)}}]),n}(Da),Ps=function(t){u(n,t);var e=l(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new us(o),s.componentType=t,s}return g(n,[{key:"injector",get:function(){return new Xn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){v(this,t)}}()),Ds=new Map,Rs=function(t){u(n,t);var e=l(n);function n(t,r){var i;v(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=f(i),i.destroyCbs=[],i.componentFactoryResolver=new As(f(i));var o=ce(t),a=t[Xt]||null;return a&&Ia(a),i._bootstrapComponents=Rr(o.bootstrap),i._r3Injector=wo(t,r,[{provide:bs,useValue:f(i)},{provide:La,useValue:i.componentFactoryResolver}],gt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return g(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.Default;return t===Ao||t===bs||t===fo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(bs),Ls=function(t){u(r,t);var n=l(r);function r(t){var i,o,a;return v(this,r),(i=n.call(this)).moduleType=t,null!==ce(t)&&(o=t,a=new Set,function t(n){var r=ce(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(gt(e)," vs ").concat(gt(e.name)))}(i,Ds.get(i),n),Ds.set(i,n));var o,s=e(Rr(r.imports));try{for(s.s();!(o=s.n()).done;){var u=o.value;a.has(u)||(a.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(o)),i}return g(r,[{key:"create",value:function(t){return new Rs(this.moduleType,t)}}]),r}(ws);function Ms(t,e,n,r){return Fs(ze(),tn(),t,e,n,r)}function js(t,e,n,r,i){return Us(ze(),tn(),t,e,n,r,i)}function Vs(t,e){var n=t[e];return n===vi?void 0:n}function Fs(t,e,n,r,i,o){var a=e+n;return qo(t,a,i)?Uo(t,a+1,o?r.call(o,i):r(i)):Vs(t,a+1)}function Us(t,e,n,r,i,o,a){var s=e+n;return function(t,e,n,r){var i=qo(t,e,n);return qo(t,e+1,r)||i}(t,s,i,o)?Uo(t,s+2,a?r.call(a,i,o):r(i,o)):Vs(t,s+2)}function qs(t,e){var n,r=Ge(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new ge("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=ye(n.type)),a=Rt(Go);try{var s=Dn(!1),u=o();return Dn(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,ze(),i,u),u}finally{Rt(a)}}function Bs(t,e,n){var r=t+20,i=ze(),o=Re(i,r);return zs(i,Hs(i,r)?Fs(i,tn(),e,o.transform,n,o):o.transform(n))}function Hs(t,e){return t[1].data[e].pure}function zs(t,e){return jo.isWrapped(e)&&(e=jo.unwrap(e),t[Be.lFrame.bindingIndex]=vi),e}var Gs=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(t=e.call(this)).__isAsync=r,t}return g(n,[{key:"emit",value:function(t){s(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=s(p(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof S&&t.add(u),u}}]),n}(F);function Ks(){return this._results[Mo()]()}var Ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Mo(),r=t.prototype;r[n]||(r[n]=Ks)}return g(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Gs)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=rr(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Qs=function(){function t(e){v(this,t),this.queryList=e,this.matches=null}return g(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Ys=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return g(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==cu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Xs=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;v(this,t),this.predicate=e,this.flags=n,this.read=r},$s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.queries=e}return g(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Zs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;v(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return g(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Js(e,i)),this.matchTNodeWithReadOption(t,e,Kn(e,t,i,!1,!1))}else n===ys?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Kn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Fa||r===ks||r===ys&&4&e.type)this.addMatch(e.index,-2);else{var i=Kn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Js(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ja(t,e):4&t.type?ms(t,e):null}(e,t):-2===n?function(t,e,n){return n===Fa?ja(e,t):n===ys?ms(e,t):n===ks?Ts(e,t):void 0}(t,e,r):Wn(t,t[1],n,e)}function eu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:tu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function nu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=eu(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&nu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];nu(v[1],v,c,r)}}}return r}function ru(t){var e=ze(),n=Ge(),r=rn();on(r+1);var i=cu(n,r);if(t.dirty&&je(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?nu(n,e,r,[]):eu(n,e,i,r);t.reset(o,Ua),t.notifyOnChanges()}return!0}return!1}function iu(t,e,n){var r=Ge();r.firstCreatePass&&(uu(r,new Xs(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),su(r,ze(),e)}function ou(t,e,n,r){var i=Ge();if(i.firstCreatePass){var o=We();uu(i,new Xs(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}su(i,ze(),n)}function au(){return t=ze(),e=rn(),t[19].queries[e].queryList;var t,e}function su(t,e,n){var r=new Ws(4==(4&n));ji(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ys),e[19].queries.push(new Qs(r))}function uu(t,e,n){null===t.queries&&(t.queries=new $s),t.queries.track(new Zs(e,n))}function cu(t,e){return t.queries.getByIndex(e)}var lu=new tr("Application Initializer"),hu=function(){var t=function(){function t(e){var n=this;v(this,t),this.appInits=e,this.resolve=Ma,this.reject=Ma,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return g(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ta(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vr(lu,8))},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}(),fu=new tr("AppId"),du={provide:fu,useFactory:function(){return"".concat(pu()).concat(pu()).concat(pu())},deps:[]};function pu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var vu=new tr("Platform Initializer"),yu=new tr("Platform ID"),gu=new tr("appBootstrapListener"),mu=function(){var t=function(){function t(){v(this,t)}return g(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}(),bu=new tr("LocaleId"),wu=new tr("DefaultCurrencyCode"),_u=function t(e,n){v(this,t),this.ngModuleFactory=e,this.componentFactories=n},ku=function(t){return new Ls(t)},Eu=ku,Iu=function(t){return Promise.resolve(ku(t))},Su=function(t){var e=ku(t),n=Rr(ce(t).declarations).reduce(function(t,e){var n=ue(e);return n&&t.push(new Ns(n)),t},[]);return new _u(e,n)},Tu=Su,Cu=function(t){return Promise.resolve(Su(t))},Au=function(){var t=function(){function t(){v(this,t),this.compileModuleSync=Eu,this.compileModuleAsync=Iu,this.compileModuleAndAllComponentsSync=Tu,this.compileModuleAndAllComponentsAsync=Cu}return g(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}(),xu=Promise.resolve(0);function Ou(t){"undefined"==typeof Zone?xu.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Nu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(v(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Ht.requestAnimationFrame,e=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ht,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Ru(t),Du(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Ru(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return Lu(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Mu(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return Lu(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Mu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Ru(n),Du(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return g(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Pu,Ma,Ma);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Pu={};function Du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ru(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mu(t){t._nesting--,Du(t)}var ju,Vu=function(){function t(){v(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}return g(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Fu=function(){var t=function(){function t(e){var n=this;v(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Nu.assertNotInAngularZone(),Ou(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ou(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vr(Nu))},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}(),Uu=function(){var t=function(){function t(){v(this,t),this._applications=new Map,qu.addToWindow(this)}return g(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return qu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}(),qu=new(function(){function t(){v(this,t)}return g(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Bu=!0,Hu=!1;function zu(){return Hu=!0,Bu}var Gu=new tr("AllowMultipleToken"),Ku=function t(e,n){v(this,t),this.name=e,this.token=n};function Wu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new tr(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Qu();if(!o||o.injector.get(Gu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:vo,useValue:"platform"});!function(t){if(ju&&!ju.destroyed&&!ju.injector.get(Gu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=t.get(Yu);var e=t.get(vu,null);e&&e.forEach(function(t){return t()})}(Ao.create({providers:a,name:r}))}return function(t){var e=Qu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Qu(){return ju&&!ju.destroyed?ju:null}var Yu=function(){var t=function(){function t(e){v(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Vu:("zone.js"===n?void 0:n)||new Nu({enableLongStackTrace:zu(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Nu,useValue:o}];return o.run(function(){var e=Ao.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Or,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Ju(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(hu)).runInitializers(),a.donePromise.then(function(){return Ia(n.injector.get(bu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return ta(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(cR){throw e.runOutsideAngular(function(){return t.handleError(cR)}),cR}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Xu({},n);return function(t,e,n){var r=new Ls(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(gt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vr(Ao))},t.\u0275prov=Et({token:t,factory:t.\u0275fac}),t}();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}var $u,Zu=(($u=function(){function t(e,n,r,i,o,a){var s=this;v(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new D(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),c=new D(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Nu.assertNotInAngularZone(),Ou(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Nu.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return q(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof D?e[0]:it(r)(ot(e,i))}(u,c.pipe(function(t){return at()(ft(pt)(t))}))}return g(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Da?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(bs),o=n.create(Ao.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Fu,null),u=s&&o.injector.get(Uu);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Ju(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),zu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var n,r=e(this._views);try{for(r.s();!(n=r.n()).done;)n.value.detectChanges()}catch(i){r.e(i)}finally{r.f()}}catch(cR){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(cR)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ju(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gu,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||$u)(vr(Nu),vr(mu),vr(Ao),vr(Or),vr(La),vr(hu))},$u.\u0275prov=Et({token:$u,factory:$u.\u0275fac}),$u);function Ju(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var tc=function t(){v(this,t)},ec=function t(){v(this,t)},nc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},rc=function(){var e=function(){function e(t,n){v(this,e),this._compiler=t,this._config=n||nc}return g(e,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(e){var n=this,r=t(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),c("zn8P")(i).then(function(t){return t[o]}).then(function(t){return ic(t,i,o)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),c("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return ic(t,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(vr(Au),vr(ec,8))},e.\u0275prov=Et({token:e,factory:e.\u0275fac}),e}();function ic(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var oc=Wu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Yu,deps:[Ao]},{provide:Uu,deps:[]},{provide:mu,deps:[]}]),ac=[{provide:Zu,useClass:Zu,deps:[Nu,mu,Ao,Or,La,hu]},{provide:Os,deps:[Nu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hu,useClass:hu,deps:[[new br,lu]]},{provide:Au,useClass:Au,deps:[]},du,{provide:rs,useFactory:function(){return ds},deps:[]},{provide:os,useFactory:function(){return ps},deps:[]},{provide:bu,useFactory:function(t){return Ia(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new mr(bu),new br,new wr]]},{provide:wu,useValue:"USD"}],sc=function(){var t=function t(e){v(this,t)};return t.\u0275mod=ie({type:t}),t.\u0275inj=It({factory:function(e){return new(e||t)(vr(Zu))},providers:ac}),t}(),uc=null;function cc(){return uc}var lc,hc=new tr("DocumentToken"),fc=((lc=function t(){v(this,t)}).\u0275fac=function(t){return new(t||lc)},lc.\u0275prov=Et({factory:dc,token:lc,providedIn:"platform"}),lc);function dc(){return vr(yc)}var pc,vc=new tr("Location Initialized"),yc=((pc=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._init(),r}return g(n,[{key:"_init",value:function(){this.location=cc().getLocation(),this._history=cc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return cc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){cc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){cc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){gc()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){gc()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(fc)).\u0275fac=function(t){return new(t||pc)(vr(hc))},pc.\u0275prov=Et({factory:mc,token:pc,providedIn:"platform"}),pc);function gc(){return!!window.history.pushState}function mc(){return new yc(vr(hc))}function bc(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wc(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _c(t){return t&&"?"!==t[0]?"?"+t:t}var kc,Ec=((kc=function t(){v(this,t)}).\u0275fac=function(t){return new(t||kc)},kc.\u0275prov=Et({factory:Ic,token:kc,providedIn:"root"}),kc);function Ic(t){var e=vr(hc).location;return new xc(vr(fc),e&&e.origin||"")}var Sc,Tc,Cc,Ac=new tr("appBaseHref"),xc=((Cc=function(t){u(n,t);var e=l(n);function n(t,r){var i;if(v(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return bc(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+_c(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+_c(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+_c(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Ec)).\u0275fac=function(t){return new(t||Cc)(vr(fc),vr(Ac,8))},Cc.\u0275prov=Et({token:Cc,factory:Cc.\u0275fac}),Cc),Oc=((Tc=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=bc(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+_c(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+_c(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Ec)).\u0275fac=function(t){return new(t||Tc)(vr(fc),vr(Ac,8))},Tc.\u0275prov=Et({token:Tc,factory:Tc.\u0275fac}),Tc),Nc=((Sc=function(){function t(e,n){var r=this;v(this,t),this._subject=new Gs,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=wc(Dc(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return g(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+_c(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Dc(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_c(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_c(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||Sc)(vr(Ec),vr(fc))},Sc.normalizeQueryParams=_c,Sc.joinWithSlash=bc,Sc.stripTrailingSlash=wc,Sc.\u0275prov=Et({factory:Pc,token:Sc,providedIn:"root"}),Sc);function Pc(){return new Nc(vr(Ec),vr(fc))}function Dc(t){return t.replace(/\/index.html$/,"")}var Rc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Lc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Mc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),jc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Vc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Fc(t,e){return zc(_a(t)[Ea.DateFormat],e)}function Uc(t,e){return zc(_a(t)[Ea.TimeFormat],e)}function qc(t,e){return zc(_a(t)[Ea.DateTimeFormat],e)}function Bc(t,e){var n=_a(t),r=n[Ea.NumberSymbols][e];if(void 0===r){if(e===Vc.CurrencyDecimal)return n[Ea.NumberSymbols][Vc.Decimal];if(e===Vc.CurrencyGroup)return n[Ea.NumberSymbols][Vc.Group]}return r}function Hc(t){if(!t[Ea.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[Ea.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function zc(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Gc(e){var n=t(e.split(":"),2);return{hours:+n[0],minutes:+n[1]}}var Kc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wc={},Qc=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Yc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Xc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$c=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Zc(e,n,r,i){var o=function(e){if(ll(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var n,r=parseFloat(e);if(!isNaN(e-r))return new Date(r);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=t(e.split("-").map(function(t){return+t}),3),o=i[0],a=i[1],s=i[2];return new Date(o,a-1,s)}if(n=e.match(Kc))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(n)}var u=new Date(e);if(!ll(u))throw new Error('Unable to convert "'.concat(e,'" into a date'));return u}(e);n=Jc(r,n)||n;for(var a,s=[];n;){if(!(a=Qc.exec(n))){s.push(n);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;n=u}var c=o.getTimezoneOffset();i&&(c=cl(i,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(cl(e,r)-r))}(o,i));var l="";return s.forEach(function(t){var e=function(t){if(ul[t])return ul[t];var e;switch(t){case"G":case"GG":case"GGG":e=rl($c.Eras,Mc.Abbreviated);break;case"GGGG":e=rl($c.Eras,Mc.Wide);break;case"GGGGG":e=rl($c.Eras,Mc.Narrow);break;case"y":e=nl(Xc.FullYear,1,0,!1,!0);break;case"yy":e=nl(Xc.FullYear,2,0,!0,!0);break;case"yyy":e=nl(Xc.FullYear,3,0,!1,!0);break;case"yyyy":e=nl(Xc.FullYear,4,0,!1,!0);break;case"Y":e=sl(1);break;case"YY":e=sl(2,!0);break;case"YYY":e=sl(3);break;case"YYYY":e=sl(4);break;case"M":case"L":e=nl(Xc.Month,1,1);break;case"MM":case"LL":e=nl(Xc.Month,2,1);break;case"MMM":e=rl($c.Months,Mc.Abbreviated);break;case"MMMM":e=rl($c.Months,Mc.Wide);break;case"MMMMM":e=rl($c.Months,Mc.Narrow);break;case"LLL":e=rl($c.Months,Mc.Abbreviated,Lc.Standalone);break;case"LLLL":e=rl($c.Months,Mc.Wide,Lc.Standalone);break;case"LLLLL":e=rl($c.Months,Mc.Narrow,Lc.Standalone);break;case"w":e=al(1);break;case"ww":e=al(2);break;case"W":e=al(1,!0);break;case"d":e=nl(Xc.Date,1);break;case"dd":e=nl(Xc.Date,2);break;case"E":case"EE":case"EEE":e=rl($c.Days,Mc.Abbreviated);break;case"EEEE":e=rl($c.Days,Mc.Wide);break;case"EEEEE":e=rl($c.Days,Mc.Narrow);break;case"EEEEEE":e=rl($c.Days,Mc.Short);break;case"a":case"aa":case"aaa":e=rl($c.DayPeriods,Mc.Abbreviated);break;case"aaaa":e=rl($c.DayPeriods,Mc.Wide);break;case"aaaaa":e=rl($c.DayPeriods,Mc.Narrow);break;case"b":case"bb":case"bbb":e=rl($c.DayPeriods,Mc.Abbreviated,Lc.Standalone,!0);break;case"bbbb":e=rl($c.DayPeriods,Mc.Wide,Lc.Standalone,!0);break;case"bbbbb":e=rl($c.DayPeriods,Mc.Narrow,Lc.Standalone,!0);break;case"B":case"BB":case"BBB":e=rl($c.DayPeriods,Mc.Abbreviated,Lc.Format,!0);break;case"BBBB":e=rl($c.DayPeriods,Mc.Wide,Lc.Format,!0);break;case"BBBBB":e=rl($c.DayPeriods,Mc.Narrow,Lc.Format,!0);break;case"h":e=nl(Xc.Hours,1,-12);break;case"hh":e=nl(Xc.Hours,2,-12);break;case"H":e=nl(Xc.Hours,1);break;case"HH":e=nl(Xc.Hours,2);break;case"m":e=nl(Xc.Minutes,1);break;case"mm":e=nl(Xc.Minutes,2);break;case"s":e=nl(Xc.Seconds,1);break;case"ss":e=nl(Xc.Seconds,2);break;case"S":e=nl(Xc.FractionalSeconds,1);break;case"SS":e=nl(Xc.FractionalSeconds,2);break;case"SSS":e=nl(Xc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=il(Yc.Short);break;case"ZZZZZ":e=il(Yc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=il(Yc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=il(Yc.Long);break;default:return null}return ul[t]=e,e}(t);l+=e?e(o,r,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Jc(t,e){var n=function(t){return _a(t)[Ea.LocaleId]}(t);if(Wc[n]=Wc[n]||{},Wc[n][e])return Wc[n][e];var r="";switch(e){case"shortDate":r=Fc(t,jc.Short);break;case"mediumDate":r=Fc(t,jc.Medium);break;case"longDate":r=Fc(t,jc.Long);break;case"fullDate":r=Fc(t,jc.Full);break;case"shortTime":r=Uc(t,jc.Short);break;case"mediumTime":r=Uc(t,jc.Medium);break;case"longTime":r=Uc(t,jc.Long);break;case"fullTime":r=Uc(t,jc.Full);break;case"short":var i=Jc(t,"shortTime"),o=Jc(t,"shortDate");r=tl(qc(t,jc.Short),[i,o]);break;case"medium":var a=Jc(t,"mediumTime"),s=Jc(t,"mediumDate");r=tl(qc(t,jc.Medium),[a,s]);break;case"long":var u=Jc(t,"longTime"),c=Jc(t,"longDate");r=tl(qc(t,jc.Long),[u,c]);break;case"full":var l=Jc(t,"fullTime"),h=Jc(t,"fullDate");r=tl(qc(t,jc.Full),[l,h])}return r&&(Wc[n][e]=r),r}function tl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function el(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function nl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(t,e){switch(t){case Xc.FullYear:return e.getFullYear();case Xc.Month:return e.getMonth();case Xc.Date:return e.getDate();case Xc.Hours:return e.getHours();case Xc.Minutes:return e.getMinutes();case Xc.Seconds:return e.getSeconds();case Xc.FractionalSeconds:return e.getMilliseconds();case Xc.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Xc.Hours)0===u&&-12===n&&(u=12);else if(t===Xc.FractionalSeconds)return s=e,el(u,3).substr(0,s);var c=Bc(a,Vc.MinusSign);return el(u,e,c,r,i)}}function rl(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lc.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,n,r,i,o,a){switch(r){case $c.Months:return function(t,e,n){var r=_a(t),i=zc([r[Ea.MonthsFormat],r[Ea.MonthsStandalone]],e);return zc(i,n)}(n,o,i)[e.getMonth()];case $c.Days:return function(t,e,n){var r=_a(t),i=zc([r[Ea.DaysFormat],r[Ea.DaysStandalone]],e);return zc(i,n)}(n,o,i)[e.getDay()];case $c.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(a){var c=function(t){var e=_a(t);return Hc(e),(e[Ea.ExtraData][2]||[]).map(function(t){return"string"==typeof t?Gc(t):[Gc(t[0]),Gc(t[1])]})}(n),l=function(t,e,n){var r=_a(t);Hc(r);var i=zc([r[Ea.ExtraData][0],r[Ea.ExtraData][1]],e)||[];return zc(i,n)||[]}(n,o,i),h=c.findIndex(function(e){if(Array.isArray(e)){var n=t(e,2),r=n[0],i=n[1],o=s>=r.hours&&u>=r.minutes,a=s<i.hours||s===i.hours&&u<i.minutes;if(r.hours<i.hours){if(o&&a)return!0}else if(o||a)return!0}else if(e.hours===s&&e.minutes===u)return!0;return!1});if(-1!==h)return l[h]}return function(t,e,n){var r=_a(t),i=zc([r[Ea.DayPeriodsFormat],r[Ea.DayPeriodsStandalone]],e);return zc(i,n)}(n,o,i)[s<12?0:1];case $c.Eras:return function(t,e){return zc(_a(t)[Ea.Eras],e)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(r))}}(o,a,e,n,r,i)}}function il(t){return function(e,n,r){var i=-1*r,o=Bc(n,Vc.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Yc.Short:return(i>=0?"+":"")+el(a,2,o)+el(Math.abs(i%60),2,o);case Yc.ShortGMT:return"GMT"+(i>=0?"+":"")+el(a,1,o);case Yc.Long:return"GMT"+(i>=0?"+":"")+el(a,2,o)+":"+el(Math.abs(i%60),2,o);case Yc.Extended:return 0===r?"Z":(i>=0?"+":"")+el(a,2,o)+":"+el(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function ol(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function al(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+s)/7)}else{var c=ol(n),l=(o=c.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=c.getTime()-l.getTime();i=1+Math.round(h/6048e5)}return el(i,t,Bc(r,Vc.MinusSign))}}function sl(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return el(ol(n).getFullYear(),t,Bc(r,Vc.MinusSign),e)}}var ul={};function cl(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ll(t){return t instanceof Date&&!isNaN(t.valueOf())}var hl,fl=function t(){v(this,t)},dl=((hl=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).locale=t,r}return g(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return _a(t)[Ea.PluralCase]}(e||this.locale)(t)){case Rc.Zero:return"zero";case Rc.One:return"one";case Rc.Two:return"two";case Rc.Few:return"few";case Rc.Many:return"many";default:return"other"}}}]),n}(fl)).\u0275fac=function(t){return new(t||hl)(vr(bu))},hl.\u0275prov=Et({token:hl,factory:hl.\u0275fac}),hl);function pl(n,r){r=encodeURIComponent(r);var i,o=e(n.split(";"));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.indexOf("="),u=t(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===r)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var vl,yl,gl,ml=((vl=function(){function t(e,n,r,i){v(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Vo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(gt(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||vl)(Go(rs),Go(os),Go(Fa),Go(Ba))},vl.\u0275dir=ae({type:vl,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),vl),bl=function(){function t(e,n,r,i){v(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),wl=((yl=function(){function t(e,n,r){v(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new bl(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new _l(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new _l(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||yl)(Go(ks),Go(ys),Go(rs))},yl.\u0275dir=ae({type:yl,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),yl),_l=function t(e,n){v(this,t),this.record=e,this.view=n},kl=((gl=function(){function t(e,n){v(this,t),this._viewContainer=e,this._context=new El,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Il("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Il("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||gl)(Go(ks),Go(ys))},gl.\u0275dir=ae({type:gl,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),gl),El=function t(){v(this,t),this.$implicit=null,this.ngIf=null};function Il(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(gt(e),"'."))}function Sl(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(gt(t),"'"))}var Tl,Cl,Al,xl,Ol=function(){function t(){v(this,t)}return g(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Nl=new(function(){function t(){v(this,t)}return g(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Pl=new Ol,Dl=((xl=function(){function t(e){v(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return g(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(ta(e))return Nl;if(ea(e))return Pl;throw Sl(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||xl)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt.Default,e=hs(!0);if(null!=e||t&Dt.Optional)return e;we("ChangeDetectorRef")}())},xl.\u0275pipe=se({name:"async",type:xl,pure:!1}),xl),Rl=((Al=function(){function t(e){v(this,t),this.locale=e}return g(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return Zc(e,n,i||this.locale,r)}catch(o){throw Sl(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||Al)(Go(bu))},Al.\u0275pipe=se({name:"date",type:Al,pure:!0}),Al),Ll=((Cl=function t(){v(this,t)}).\u0275mod=ie({type:Cl}),Cl.\u0275inj=It({factory:function(t){return new(t||Cl)},providers:[{provide:fl,useClass:dl}]}),Cl),Ml=((Tl=function t(){v(this,t)}).\u0275prov=Et({token:Tl,providedIn:"root",factory:function(){return new jl(vr(hc),window)}}),Tl),jl=function(){function t(e,n){v(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Vl(this.window.history)||Vl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Vl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Fl,Ul,ql,Bl,Hl=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=zl||(zl=document.querySelector("base"))?zl.getAttribute("href"):null;return null==n?null:(e=n,Fl||(Fl=document.createElement("a")),Fl.setAttribute("href",e),"/"===Fl.pathname.charAt(0)?Fl.pathname:"/"+Fl.pathname)}},{key:"resetBaseElement",value:function(){zl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return pl(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,uc||(uc=t)}}]),n}(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.call(this)}return g(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){v(this,t)}}())),zl=null,Gl=new tr("TRANSITION_ID"),Kl=[{provide:lu,useFactory:function(t,e,n){return function(){n.get(hu).donePromise.then(function(){var n=cc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Gl,hc,Ao],multi:!0}],Wl=function(){function t(){v(this,t)}return g(t,[{key:"addToWindow",value:function(t){Ht.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ht.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Ht.getAllAngularRootElements=function(){return t.getAllRootElements()},Ht.frameworkStabilizers||(Ht.frameworkStabilizers=[]),Ht.frameworkStabilizers.push(function(t){var e=Ht.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?cc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,qu=e}}]),t}(),Ql=new tr("EventManagerPlugins"),Yl=((Ul=function(){function t(e,n){var r=this;v(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return g(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||Ul)(vr(Ql),vr(Nu))},Ul.\u0275prov=Et({token:Ul,factory:Ul.\u0275fac}),Ul),Xl=function(){function t(e){v(this,t),this._doc=e}return g(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=cc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),$l=((Bl=function(){function t(){v(this,t),this._stylesSet=new Set}return g(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Bl)},Bl.\u0275prov=Et({token:Bl,factory:Bl.\u0275fac}),Bl),Zl=((ql=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return g(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return cc().remove(t)})}}]),n}($l)).\u0275fac=function(t){return new(t||ql)(vr(hc))},ql.\u0275prov=Et({token:ql,factory:ql.\u0275fac}),ql),Jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},th=/%COMP%/g;function eh(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?eh(t,i,n):(i=i.replace(th,t),n.push(i))}return n}function nh(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var rh,ih,oh,ah,sh=((rh=function(){function t(e,n,r){v(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new uh(e)}return g(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ch(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Vt.ShadowDom:return new lh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=eh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||rh)(vr(Yl),vr(Zl),vr(fu))},rh.\u0275prov=Et({token:rh,factory:rh.\u0275fac}),rh),uh=function(){function t(e){v(this,t),this.eventManager=e,this.data=Object.create(null)}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Jl[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Jl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Jl[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(Lr.DashCase|Lr.Important)?t.style.setProperty(e,n,r&Lr.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Lr.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nh(n)):this.eventManager.addEventListener(t,e,nh(n))}}]),t}(),ch=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).component=i;var s=eh(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(th,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(th,o+"-"+i.id),a}return g(n,[{key:"applyToHost",value:function(t){s(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=s(p(n.prototype),"createElement",this).call(this,t,e);return s(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(uh),lh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;v(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=eh(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return g(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return s(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return s(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return s(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(s(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(uh),hh=((ih=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Xl)).\u0275fac=function(t){return new(t||ih)(vr(hc))},ih.\u0275prov=Et({token:ih,factory:ih.\u0275fac}),ih),fh=["alt","control","meta","shift"],dh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ph={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vh={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},yh=((oh=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return cc().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(fh.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ph.hasOwnProperty(e)&&(e=ph[e]))}return dh[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),fh.forEach(function(r){r!=n&&(0,vh[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Xl)).\u0275fac=function(t){return new(t||oh)(vr(hc))},oh.\u0275prov=Et({token:oh,factory:oh.\u0275fac}),oh),gh=Wu(oc,"browser",[{provide:yu,useValue:"browser"},{provide:vu,useValue:function(){Hl.makeCurrent(),Wl.init()},multi:!0},{provide:hc,useFactory:function(){return function(t){_e=t}(document),document},deps:[]}]),mh=[[],{provide:vo,useValue:"root"},{provide:Or,useFactory:function(){return new Or},deps:[]},{provide:Ql,useClass:hh,multi:!0,deps:[hc,Nu,yu]},{provide:Ql,useClass:yh,multi:!0,deps:[hc]},[],{provide:sh,useClass:sh,deps:[Yl,Zl,fu]},{provide:qa,useExisting:sh},{provide:$l,useExisting:Zl},{provide:Zl,useClass:Zl,deps:[hc]},{provide:Fu,useClass:Fu,deps:[Nu]},{provide:Yl,useClass:Yl,deps:[Ql,Nu]},[]],bh=((ah=function(){function t(e){if(v(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:fu,useValue:e.appId},{provide:Gl,useExisting:fu},Kl]}}}]),t}()).\u0275mod=ie({type:ah}),ah.\u0275inj=It({factory:function(t){return new(t||ah)(vr(ah,12))},providers:mh,imports:[Ll,sc]}),ah);function wh(t,e){return new D(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=$(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}"undefined"!=typeof window&&window;var _h,kh,Eh=new tr("NgValueAccessor"),Ih={provide:Eh,useExisting:wt(function(){return Sh}),multi:!0},Sh=((_h=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||_h)(Go(Ba),Go(Fa))},_h.\u0275dir=ae({type:_h,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&ra("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Pa([Ih])]}),_h),Th={provide:Eh,useExisting:wt(function(){return Ah}),multi:!0},Ch=new tr("CompositionEventMode"),Ah=((kh=function(){function t(e,n,r){var i;v(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=cc()?cc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||kh)(Go(Ba),Go(Fa),Go(Ch,8))},kh.\u0275dir=ae({type:kh,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ra("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Pa([Th])]}),kh);function xh(t){return null==t||0===t.length}function Oh(t){return null!=t&&"number"==typeof t.length}var Nh=new tr("NgValidators"),Ph=new tr("NgAsyncValidators"),Dh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rh=function(){function t(){v(this,t)}return g(t,null,[{key:"min",value:function(t){return function(e){if(xh(e.value)||xh(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(xh(e.value)||xh(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return xh(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return xh(t.value)||Dh.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return xh(e.value)||!Oh(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return Oh(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(xh(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Lh);return 0==e.length?null:function(t){return jh(Vh(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Lh);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(1===e.length){var i=e[0];if(_(i))return wh(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return wh(o.map(function(t){return i[t]}),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return wh(e=1===e.length&&_(e[0])?e[0]:e,null).pipe(B(function(t){return a.apply(void 0,n(t))}))}return wh(e,null)}(Vh(t,e).map(Mh)).pipe(B(jh))}}}]),t}();function Lh(t){return null!=t}function Mh(t){var e=ta(t)?$(t):t;return na(e),e}function jh(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vh(t,e){return e.map(function(e){return e(t)})}function Fh(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Uh(t){return null!=t?Rh.compose(Fh(t)):null}function qh(t){return null!=t?Rh.composeAsync(Fh(t)):null}function Bh(t,e){return null===t?[e]:Array.isArray(t)?[].concat(n(t),[e]):[t,e]}var Hh,zh,Gh,Kh,Wh,Qh,Yh,Xh,$h,Zh,Jh,tf=((zh=function(){function t(){v(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Uh(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qh(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||zh)},zh.\u0275dir=ae({type:zh}),zh),ef=((Hh=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(tf)).\u0275fac=function(t){return nf(t||Hh)},Hh.\u0275dir=ae({type:Hh,features:[Oo]}),Hh),nf=(Gh=ef,Mt(function(){for(var t=Gh.prototype.constructor,e=t[$t]||$n(t),n=Object.prototype,r=Object.getPrototypeOf(Gh.prototype).constructor;r&&r!==n;){var i=r[$t]||$n(r);if(i&&i!==e)return i;r=Object.getPrototypeOf(r)}return function(t){return new t}})),rf=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(tf),of=function(){function t(e){v(this,t),this._cd=e}return g(t,[{key:"ngClassUntouched",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}},{key:"ngClassTouched",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}},{key:"ngClassPristine",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}},{key:"ngClassDirty",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}},{key:"ngClassValid",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}},{key:"ngClassInvalid",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}},{key:"ngClassPending",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}]),t}(),af=((Wh=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(of)).\u0275fac=function(t){return new(t||Wh)(Go(rf,2))},Wh.\u0275dir=ae({type:Wh,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&la("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Oo]}),Wh),sf=((Kh=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(of)).\u0275fac=function(t){return new(t||Kh)(Go(ef,10))},Kh.\u0275dir=ae({type:Kh,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&la("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Oo]}),Kh),uf={provide:Eh,useExisting:wt(function(){return cf}),multi:!0},cf=((Qh=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Qh)(Go(Ba),Go(Fa))},Qh.\u0275dir=ae({type:Qh,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&ra("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Pa([uf])]}),Qh),lf={provide:Eh,useExisting:wt(function(){return ff}),multi:!0},hf=((Xh=function(){function t(){v(this,t),this._accessors=[]}return g(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Xh)},Xh.\u0275prov=Et({token:Xh,factory:Xh.\u0275fac}),Xh),ff=((Yh=function(){function t(e,n,r,i){v(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return g(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(rf),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||Yh)(Go(Ba),Go(Fa),Go(hf),Go(Ao))},Yh.\u0275dir=ae({type:Yh,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&ra("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Pa([lf])]}),Yh),df={provide:Eh,useExisting:wt(function(){return pf}),multi:!0},pf=(($h=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||$h)(Go(Ba),Go(Fa))},$h.\u0275dir=ae({type:$h,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&ra("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Pa([df])]}),$h),vf={provide:Eh,useExisting:wt(function(){return yf}),multi:!0},yf=((Zh=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||Zh)(Go(Ba),Go(Fa))},Zh.\u0275dir=ae({type:Zh,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&ra("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pa([vf])]}),Zh),gf={provide:Eh,useExisting:wt(function(){return mf}),multi:!0},mf=((Jh=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||Jh)(Go(Ba),Go(Fa))},Jh.\u0275dir=ae({type:Jh,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&ra("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pa([gf])]}),Jh);function bf(t,e){_f(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kf(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kf(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function wf(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _f(t,e,n){var r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Bh(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Bh(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};wf(e._rawValidators,o),wf(e._rawAsyncValidators,o)}}function kf(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}var Ef=[Sh,pf,cf,yf,mf,ff];function If(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sf(t){return(xf(t)?t.validators:t)||null}function Tf(t){return Array.isArray(t)?Uh(t):t||null}function Cf(t,e){return(xf(e)?e.asyncValidators:t)||null}function Af(t){return Array.isArray(t)?qh(t):t||null}function xf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Of,Nf,Pf,Df,Rf,Lf,Mf,jf=function(){function t(e,n){v(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Tf(this._rawValidators),this._composedAsyncValidatorFn=Af(this._rawAsyncValidators)}return g(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Tf(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Af(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Mh(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof Ff?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Uf&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new Gs,this.statusChanges=new Gs}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){xf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Vf=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this,Sf(i),Cf(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return g(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){If(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){If(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(jf),Ff=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,Sf(r),Cf(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return g(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Vf?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(jf),Uf=function(t){u(r,t);var n=l(r);function r(t,e,i){var o;return v(this,r),(o=n.call(this,Sf(e),Cf(i,e))).controls=t,o._initObservables(),o._setUpdateStrategy(e),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return g(r,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Vf?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,n=e(this.controls);try{for(n.s();!(t=n.n()).done;){if(t.value.enabled)return!1}}catch(r){n.e(r)}finally{n.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),r}(jf),qf={provide:ef,useExisting:wt(function(){return Hf})},Bf=Promise.resolve(null),Hf=((Of=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new Gs,i.form=new Ff({},Uh(t),qh(r)),i}return g(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Bf.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),bf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Bf.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),If(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Bf.then(function(){var n=e._findContainer(t.path),r=new Ff({});(function(t,e){_f(t,e,!1)})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Bf.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Bf.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(ef)).\u0275fac=function(t){return new(t||Of)(Go(Nh,10),Go(Ph,10))},Of.\u0275dir=ae({type:Of,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ra("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pa([qf]),Oo]}),Of),zf={provide:rf,useExisting:wt(function(){return Kf})},Gf=Promise.resolve(null),Kf=((Pf=function(t){u(r,t);var e=l(r);function r(t,n,i,o){var a;return v(this,r),(a=e.call(this)).control=new Vf,a._registered=!1,a.update=new Gs,a._parent=t,a._setValidators(n),a._setAsyncValidators(i),a.valueAccessor=function(t,e){return e?(Array.isArray(e),e.forEach(function(t){var e;t.constructor===Ah?n=t:(e=t,Ef.some(function(t){return e.constructor===t})?r=t:i=t)}),i||r||n||null):null;var n,r,i}(0,o),a}return g(r,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(t,e){return[].concat(n(e.path),[t])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){bf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;Gf.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Gf.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),r}(rf)).\u0275fac=function(t){return new(t||Pf)(Go(ef,9),Go(Nh,10),Go(Ph,10),Go(Eh,10))},Pf.\u0275dir=ae({type:Pf,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pa([zf]),Oo,Ee]}),Pf),Wf=((Nf=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Nf)},Nf.\u0275dir=ae({type:Nf,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Nf),Qf={provide:Nh,useExisting:wt(function(){return Yf}),multi:!0},Yf=((Df=function(){function t(){v(this,t),this._required=!1}return g(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?Rh.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||Df)},Df.\u0275dir=ae({type:Df,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Bo("required",e.required?"":null)},inputs:{required:"required"},features:[Pa([Qf])]}),Df),Xf={provide:Nh,useExisting:wt(function(){return $f}),multi:!0},$f=((Mf=function(){function t(){v(this,t),this._enabled=!1}return g(t,[{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this._enabled?Rh.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||Mf)},Mf.\u0275dir=ae({type:Mf,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Pa([Xf])]}),Mf),Zf=((Lf=function t(){v(this,t)}).\u0275mod=ie({type:Lf}),Lf.\u0275inj=It({factory:function(t){return new(t||Lf)}}),Lf),Jf=((Rf=function t(){v(this,t)}).\u0275mod=ie({type:Rf}),Rf.\u0275inj=It({factory:function(t){return new(t||Rf)},providers:[hf],imports:[Zf]}),Rf);function td(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),X(e,r)):ot(e)}function ed(t,e){return et(t,e,1)}function nd(t,e){return function(n){return n.lift(new rd(t,e))}}var rd=function(){function t(e,n){v(this,t),this.predicate=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new id(t,this.predicate,this.thisArg))}}]),t}(),id=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(A),od=function t(){v(this,t)},ad=function t(){v(this,t)},sd=function(){function t(e){var n=this;v(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return g(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,n(r)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),ud=function(){function t(){v(this,t)}return g(t,[{key:"encodeKey",value:function(t){return cd(t)}},{key:"encodeValue",value:function(t){return cd(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function cd(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ld=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(v(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ud,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){var r=new Map;return e.length>0&&e.split("&").forEach(function(e){var i=e.indexOf("="),o=t(-1==i?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,i)),n.decodeValue(e.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return g(e,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function hd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function fd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function dd(t){return"undefined"!=typeof FormData&&t instanceof FormData}var pd=function(){function t(e,n,r,i){var o;if(v(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new sd),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new ld,this.urlWithParams=n}return g(t,[{key:"serializeBody",value:function(){return null===this.body?null:hd(this.body)||fd(this.body)||dd(this.body)||"string"==typeof this.body?this.body:this.body instanceof ld?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||dd(this.body)?null:fd(this.body)?this.body.type||null:hd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ld?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),vd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),yd=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";v(this,t),this.headers=e.headers||new sd,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},gd=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(t=e.call(this,r)).type=vd.ResponseHeader,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(yd),md=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),(t=e.call(this,r)).type=vd.Response,t.body=void 0!==r.body?r.body:null,t}return g(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(yd),bd=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(yd);function wd(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var _d,kd,Ed,Id,Sd,Td,Cd,Ad,xd,Od=((_d=function(){function t(e){v(this,t),this.handler=e}return g(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof pd?n=t:(r=a.headers instanceof sd?a.headers:new sd(a.headers),a.params&&(i=a.params instanceof ld?a.params:new ld({fromObject:a.params})),n=new pd(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=td(n).pipe(ed(function(t){return o.handler.handle(t)}));if(t instanceof pd||"events"===a.observe)return s;var u=s.pipe(nd(function(t){return t instanceof md}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(B(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(B(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(B(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(B(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new ld).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,wd(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,wd(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,wd(n,e))}}]),t}()).\u0275fac=function(t){return new(t||_d)(vr(od))},_d.\u0275prov=Et({token:_d,factory:_d.\u0275fac}),_d),Nd=function(){function t(e,n){v(this,t),this.next=e,this.interceptor=n}return g(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Pd=new tr("HTTP_INTERCEPTORS"),Dd=((kd=function(){function t(){v(this,t)}return g(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||kd)},kd.\u0275prov=Et({token:kd,factory:kd.\u0275fac}),kd),Rd=/^\)\]\}',?\n/,Ld=function t(){v(this,t)},Md=((Id=function(){function t(){v(this,t)}return g(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Id)},Id.\u0275prov=Et({token:Id,factory:Id.\u0275fac}),Id),jd=((Ed=function(){function t(e){v(this,t),this.xhrFactory=e}return g(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new D(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new sd(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new gd({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Rd,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new md({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new bd({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new bd({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:vd.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:vd.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:vd.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Ed)(vr(Ld))},Ed.\u0275prov=Et({token:Ed,factory:Ed.\u0275fac}),Ed),Vd=new tr("XSRF_COOKIE_NAME"),Fd=new tr("XSRF_HEADER_NAME"),Ud=function t(){v(this,t)},qd=((xd=function(){function t(e,n,r){v(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||xd)(vr(hc),vr(yu),vr(Vd))},xd.\u0275prov=Et({token:xd,factory:xd.\u0275fac}),xd),Bd=((Ad=function(){function t(e,n){v(this,t),this.tokenService=e,this.headerName=n}return g(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ad)(vr(Ud),vr(Fd))},Ad.\u0275prov=Et({token:Ad,factory:Ad.\u0275fac}),Ad),Hd=((Cd=function(){function t(e,n){v(this,t),this.backend=e,this.injector=n,this.chain=null}return g(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Pd,[]);this.chain=e.reduceRight(function(t,e){return new Nd(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Cd)(vr(ad),vr(Ao))},Cd.\u0275prov=Et({token:Cd,factory:Cd.\u0275fac}),Cd),zd=((Td=function(){function t(){v(this,t)}return g(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Bd,useClass:Dd}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Vd,useValue:e.cookieName}:[],e.headerName?{provide:Fd,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=ie({type:Td}),Td.\u0275inj=It({factory:function(t){return new(t||Td)},providers:[Bd,{provide:Pd,useExisting:Bd,multi:!0},{provide:Ud,useClass:qd},{provide:Vd,useValue:"XSRF-TOKEN"},{provide:Fd,useValue:"X-XSRF-TOKEN"}]}),Td),Gd=((Sd=function t(){v(this,t)}).\u0275mod=ie({type:Sd}),Sd.\u0275inj=It({factory:function(t){return new(t||Sd)},providers:[Od,{provide:od,useClass:Hd},jd,{provide:ad,useExisting:jd},Md,{provide:Ld,useExisting:Md}],imports:[[zd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Sd),Kd=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._value=t,r}return g(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=s(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new M;return this._value}},{key:"next",value:function(t){s(p(n.prototype),"next",this).call(this,this._value=t)}}]),n}(F),Wd=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(A),Qd=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(A);function Yd(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Qd(t,n,r);if(!i.closed)return e instanceof D?e.subscribe(i):Y(e)(i)}var Xd={},$d=function(){function t(e){v(this,t),this.resultSelector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Zd(t,this.resultSelector))}}]),t}(),Zd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return g(n,[{key:"_next",value:function(t){this.values.push(Xd),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Yd(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===Xd?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Wd),Jd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function tp(){return it(1)(td.apply(void 0,arguments))}var ep=new D(function(t){return t.complete()});function np(t){return t?function(t){return new D(function(e){return t.schedule(function(){return e.complete()})})}(t):ep}function rp(t){return new D(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?$(n):np()).subscribe(e)})}function ip(t,e){return"function"==typeof e?function(n){return n.pipe(ip(function(n,r){return $(t(n,r)).pipe(B(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new op(t))}}var op=function(){function t(e){v(this,t),this.project=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new ap(t,this.project))}}]),t}(),ap=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return g(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Z(this),r=this.destination;r.add(n),this.innerSubscription=tt(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||s(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&s(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(J),sp=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function up(t){return function(e){return 0===t?np():e.lift(new cp(t))}}var cp=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new sp}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new lp(t,this.total))}}]),t}(),lp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(A);function hp(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new fp(t,e,n))}}var fp=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new dp(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),dp=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return g(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(A);function pp(t){return function(e){var n=new vp(t),r=e.lift(n);return n.caught=r}}var vp=function(){function t(e){v(this,t),this.selector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new yp(t,this.selector,this.caught))}}]),t}(),yp=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return g(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void s(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Z(this);this.add(r);var i=tt(e,r);i!==r&&this.add(i)}}}]),n}(J);function gp(t){return function(e){return 0===t?np():e.lift(new mp(t))}}var mp=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new sp}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new bp(t,this.total))}}]),t}(),bp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(A);function wp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ep;return function(e){return e.lift(new _p(t))}}var _p=function(){function t(e){v(this,t),this.errorFactory=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new kp(t,this.errorFactory))}}]),t}(),kp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return g(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(cR){t=cR}this.destination.error(t)}}]),n}(A);function Ep(){return new Jd}function Ip(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Sp(t))}}var Sp=function(){function t(e){v(this,t),this.defaultValue=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Tp(t,this.defaultValue))}}]),t}(),Tp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return g(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(A);function Cp(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?nd(function(e,n){return t(e,n,r)}):N,up(1),n?Ip(e):wp(function(){return new Jd}))}}function Ap(){}function xp(t,e,n){return function(r){return r.lift(new Op(t,e,n))}}var Op=function(){function t(e,n,r){v(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Np(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Np=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t))._tapNext=Ap,a._tapError=Ap,a._tapComplete=Ap,a._tapError=i||Ap,a._tapComplete=o||Ap,d(r)?(a._context=f(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||Ap,a._tapError=r.error||Ap,a._tapComplete=r.complete||Ap),a}return g(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(A),Pp=function(){function t(e){v(this,t),this.callback=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Dp(t,this.callback))}}]),t}(),Dp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).add(new S(r)),i}return n}(A),Rp=function t(e,n){v(this,t),this.id=e,this.url=n},Lp=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return g(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Rp),Mp=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return g(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Rp),jp=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).reason=i,o}return g(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Rp),Vp=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).error=i,o}return g(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Rp),Fp=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rp),Up=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rp),qp=function(t){u(n,t);var e=l(n);function n(t,r,i,o,a){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return g(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Rp),Bp=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rp),Hp=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return g(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Rp),zp=function(){function t(e){v(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Gp=function(){function t(e){v(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Kp=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Wp=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Qp=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Yp=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xp=function(){function t(e,n,r){v(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return g(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),$p=function(){function t(e){v(this,t),this.params=e||{}}return g(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Zp(t){return new $p(t)}function Jp(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function tv(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ev(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!nv(t[n=r[o]],e[n]))return!1;return!0}function nv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var r=n(t).sort(),i=n(e).sort();return r.every(function(t,e){return i[e]===t})}return t===e}function rv(t){return Array.prototype.concat.apply([],t)}function iv(t){return t.length>0?t[t.length-1]:null}function ov(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function av(t){return na(t)?t:ta(t)?$(Promise.resolve(t)):td(t)}function sv(t,e,n){return n?function(t,e){return ev(t,e)}(t.queryParams,e.queryParams)&&uv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return nv(t[n],e[n])})}(t.queryParams,e.queryParams)&&cv(t.root,e.root)}function uv(t,e){if(!pv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!uv(t.children[n],e.children[n]))return!1}return!0}function cv(t,e){return lv(t,e,e.segments)}function lv(t,e,n){if(t.segments.length>n.length)return!!pv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!pv(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!cv(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!pv(t.segments,i)&&!!t.children.primary&&lv(t.children.primary,e,o)}var hv=function(){function t(e,n,r){v(this,t),this.root=e,this.queryParams=n,this.fragment=r}return g(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zp(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return gv.serialize(this)}}]),t}(),fv=function(){function t(e,n){var r=this;v(this,t),this.segments=e,this.children=n,this.parent=null,ov(n,function(t,e){return t.parent=r})}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return mv(this)}}]),t}(),dv=function(){function t(e,n){v(this,t),this.path=e,this.parameters=n}return g(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Zp(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Sv(this)}}]),t}();function pv(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var vv=function t(){v(this,t)},yv=function(){function t(){v(this,t)}return g(t,[{key:"parse",value:function(t){var e=new Ov(t);return new hv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(bv(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(_v(t),"=").concat(_v(e))}).join("&"):"".concat(_v(t),"=").concat(_v(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),gv=new yv;function mv(t){return t.segments.map(function(t){return Sv(t)}).join("/")}function bv(t,e){if(!t.hasChildren())return mv(t);if(e){var n=t.children.primary?bv(t.children.primary,!1):"",r=[];return ov(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(bv(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return ov(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),ov(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[bv(t.children.primary,!1)]:["".concat(n,":").concat(bv(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(mv(t),"/").concat(i[0]):"".concat(mv(t),"/(").concat(i.join("//"),")")}function wv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _v(t){return wv(t).replace(/%3B/gi,";")}function kv(t){return wv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ev(t){return decodeURIComponent(t)}function Iv(t){return Ev(t.replace(/\+/g,"%20"))}function Sv(t){return"".concat(kv(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(kv(t),"=").concat(kv(e[t]))}).join("")));var e}var Tv=/^[^\/()?;=#]+/;function Cv(t){var e=t.match(Tv);return e?e[0]:""}var Av=/^[^=?&#]+/,xv=/^[^?&#]+/,Ov=function(){function t(e){v(this,t),this.url=e,this.remaining=e}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fv([],{}):new fv([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fv(t,e)),n}},{key:"parseSegment",value:function(){var t=Cv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new dv(Ev(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Cv(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Cv(this.remaining);r&&(n=r,this.capture(n))}t[Ev(e)]=Ev(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Av);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(xv);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Iv(e),o=Iv(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Cv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new fv([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Nv=function(){function t(e){v(this,t),this._root=e}return g(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Pv(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Pv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Dv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Dv(t,this._root).map(function(t){return t.value})}}]),t}();function Pv(t,n){if(t===n.value)return n;var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=Pv(t,r.value);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return null}function Dv(t,n){if(t===n.value)return[n];var r,i=e(n.children);try{for(i.s();!(r=i.n()).done;){var o=Dv(t,r.value);if(o.length)return o.unshift(n),o}}catch(a){i.e(a)}finally{i.f()}return[]}var Rv=function(){function t(e,n){v(this,t),this.value=e,this.children=n}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Lv(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Mv=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).snapshot=r,Bv(f(i),t),i}return g(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Nv);function jv(t,e){var n=function(t,e){var n=new Uv([],{},{},"",{},"primary",e,null,t.root,-1,{});return new qv("",new Rv(n,[]))}(t,e),r=new Kd([new dv("",{})]),i=new Kd({}),o=new Kd({}),a=new Kd({}),s=new Kd(""),u=new Vv(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Mv(new Rv(u,[]),n)}var Vv=function(){function t(e,n,r,i,o,a,s,u){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return g(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B(function(t){return Zp(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(function(t){return Zp(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Fv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Uv=function(){function t(e,n,r,i,o,a,s,u,c,l,h){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return g(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Zp(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Zp(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),qv=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).url=t,Bv(f(i),r),i}return g(n,[{key:"toString",value:function(){return Hv(this._root)}}]),n}(Nv);function Bv(t,e){e.value._routerState=t,e.children.forEach(function(e){return Bv(t,e)})}function Hv(t){var e=t.children.length>0?" { ".concat(t.children.map(Hv).join(", ")," } "):"";return"".concat(t.value).concat(e)}function zv(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ev(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ev(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ev(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ev(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gv(t,e){return ev(t.params,e.params)&&function(t,e){return pv(t,e)&&t.every(function(t,n){return ev(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Gv(t.parent,e.parent))}function Kv(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map(function(n){var i,o=e(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(n.value,a.value.snapshot))return Kv(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return Kv(t,n)})}(t,n,r);return new Rv(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return Wv(n,s),s}var u,c=new Vv(new Kd((u=n.value).url),new Kd(u.params),new Kd(u.queryParams),new Kd(u.fragment),new Kd(u.data),u.outlet,u.component,u),l=n.children.map(function(e){return Kv(t,e)});return new Rv(c,l)}function Wv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Wv(t.children[n],e.children[n])}function Qv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yv(t){return"object"==typeof t&&null!=t&&t.outlets}function Xv(t,e,n,r,i){var o={};return r&&ov(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new hv(n.root===t?e:$v(n.root,t,e),o,i)}function $v(t,e,n){var r={};return ov(t.children,function(t,i){r[i]=t===e?n:$v(t,e,n)}),new fv(t.segments,r)}var Zv=function(){function t(e,n,r){if(v(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qv(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Yv);if(i&&i!==iv(r))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Jv=function t(e,n,r){v(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ty(t,e,n){if(t||(t=new fv([],{})),0===t.segments.length&&t.hasChildren())return ey(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(Yv(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!oy(u,c,a))return o;r+=2}else{if(!oy(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new fv(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new fv(t.segments.slice(r.pathIndex),t.children),ey(o,0,i)}return r.match&&0===i.length?new fv(t.segments,{}):r.match&&!t.hasChildren()?ny(t,e,n):r.match?ey(t,0,i):ny(t,e,n)}function ey(t,e,n){if(0===n.length)return new fv(t.segments,{});var r=function(t){return Yv(t[0])?t[0].outlets:{primary:t}}(n),i={};return ov(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ty(t.children[r],e,n))}),ov(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new fv(t.segments,i)}function ny(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(Yv(o)){var a=ry(o.outlets);return new fv(r,a)}if(0===i&&Qv(n[0]))r.push(new dv(t.segments[e].path,iy(n[0]))),i++;else{var s=Yv(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Qv(u)?(r.push(new dv(s,iy(u))),i+=2):(r.push(new dv(s,{})),i++)}}return new fv(r,{})}function ry(t){var e={};return ov(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ny(new fv([],{}),0,t))}),e}function iy(t){var e={};return ov(t,function(t,n){return e[n]="".concat(t)}),e}function oy(t,e,n){return t==n.path&&ev(e,n.parameters)}var ay=function(){function t(e,n,r,i){v(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return g(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),zv(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Lv(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),ov(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Lv(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Lv(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Yp(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Wp(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(zv(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),sy(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function sy(t){zv(t.value),t.children.forEach(sy)}var uy=function t(e,n){v(this,t),this.routes=e,this.module=n};function cy(t){return"function"==typeof t}function ly(t){return t instanceof hv}var hy=Symbol("INITIAL_VALUE");function fy(){return ip(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return q(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&_(e[0])&&(e=e[0]),ot(e,i).lift(new $d(r))}(t.map(function(t){return t.pipe(up(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),function(t){return tp(e,t,r)}):function(t){return tp(e,t)}}(hy))})).pipe(hp(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==hy)return t;if(r===hy&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ly(r))return r}return t},t)},hy),nd(function(t){return t!==hy}),B(function(t){return ly(t)?t:!0===t}),up(1))})}var dy,py=((dy=function t(){v(this,t)}).\u0275fac=function(t){return new(t||dy)},dy.\u0275cmp=te({type:dy,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Xo(0,"router-outlet")},directives:function(){return[vg]},encapsulation:2}),dy);function vy(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];yy(r,gy(e,r))}}function yy(t,e){t.children&&vy(t.children,e)}function gy(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function my(t){var e=t.children&&t.children.map(my),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=py),n}function by(t){return t.outlet||"primary"}function wy(t,e){var r=t.filter(function(t){return by(t)===e});return r.push.apply(r,n(t.filter(function(t){return by(t)!==e}))),r}var _y={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ky(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},_y):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||tv)(n,t,e);if(!i)return Object.assign({},_y);var o={};ov(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ey(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(r.length>0&&function(t,e,n){return n.some(function(n){return Iy(t,e,n)&&"primary"!==by(n)})}(t,r,i)){var a=new fv(n,function(t,n,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=n.length;var a,s=e(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==by(u)){var c=new fv([],{});c._sourceSegment=t,c._segmentIndexShift=n.length,o[by(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return o}(t,n,i,new fv(r,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some(function(n){return Iy(t,e,n)})}(t,r,i)){var s=new fv(t.segments,function(t,n,r,i,o,a){var s,u={},c=e(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Iy(t,r,l)&&!o[by(l)]){var h=new fv([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===a?t.segments.length:n.length,u[by(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,n,r,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:r}}var u=new fv(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:r}}function Iy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Sy(t,e,n,r){return!!(by(t)===r||"primary"!==r&&Iy(e,n,t))&&("**"===t.path||ky(e,t,n).matched)}function Ty(t,e,n){return 0===e.length&&!t.children[n]}var Cy=function t(e){v(this,t),this.segmentGroup=e||null},Ay=function t(e){v(this,t),this.urlTree=e};function xy(t){return new D(function(e){return e.error(new Cy(t))})}function Oy(t){return new D(function(e){return e.error(new Ay(t))})}function Ny(t){return new D(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Py=function(){function t(e,n,r,i,o){v(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(bs)}return g(t,[{key:"apply",value:function(){var t=this,e=Ey(this.urlTree.root,[],[],this.config).segmentGroup,n=new fv(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(B(function(e){return t.createUrlTree(Dy(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(pp(function(e){if(e instanceof Ay)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Cy)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(B(function(n){return e.createUrlTree(Dy(n),t.queryParams,t.fragment)})).pipe(pp(function(t){if(t instanceof Cy)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new fv([],{primary:t}):t;return new hv(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B(function(t){return new fv([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return $(i).pipe(ed(function(i){var o=n.children[i],a=wy(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(B(function(t){return{segment:t,outlet:i}}))}),hp(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?nd(function(e,n){return t(e,n,r)}):N,gp(1),n?Ip(e):wp(function(){return new Jd}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return $(n).pipe(ed(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(pp(function(t){if(t instanceof Cy)return td(null);throw t}))}),Cp(function(t){return!!t}),pp(function(t,n){if(t instanceof Jd||"EmptyError"===t.name){if(Ty(e,r,i))return td(new fv([],{}));throw new Cy(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Sy(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xy(e):xy(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Oy(o):this.lineralizeSegments(n,o).pipe(et(function(n){var o=new fv(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=ky(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return xy(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Oy(f):this.lineralizeSegments(r,f).pipe(et(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B(function(t){return n._loadedConfig=t,new fv(r,{})})):td(new fv(r,{}));var a=ky(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return xy(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(et(function(t){var r=t.module,a=t.routes,s=Ey(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new fv(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(B(function(t){return new fv(u,t)}));if(0===a.length&&0===h.length)return td(new fv(u,{}));var d=by(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(B(function(t){return new fv(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?td(new uy(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?td(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(et(function(n){return n?r.configLoader.load(t.injector,e).pipe(B(function(t){return e._loadedConfig=t,t})):function(t){return new D(function(e){return e.error(Jp("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):td(new uy([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?td(i.map(function(r){var i,o=t.get(r);if(function(t){return t&&cy(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!cy(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return av(i)})).pipe(fy(),xp(function(t){if(ly(t)){var e=Jp('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),B(function(t){return!0===t})):td(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return td(n);if(r.numberOfChildren>1||!r.children.primary)return Ny(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new hv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return ov(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return ov(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new fv(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,n){var r,i=0,o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.path===t.path)return n.splice(i),a;i++}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();function Dy(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=Dy(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new fv(t.segments.concat(e.segments),e.children)}return t}(new fv(t.segments,e))}var Ry=function t(e){v(this,t),this.path=e,this.route=this.path[this.path.length-1]},Ly=function t(e,n){v(this,t),this.component=e,this.route=n};function My(t,e,n){var r=t._root;return Vy(r,e?e._root:null,n,[r.value])}function jy(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vy(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Lv(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pv(t.url,e.url)||!ev(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(t,e)||!ev(t.queryParams,e.queryParams);case"paramsChange":default:return!Gv(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ry(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Vy(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ly(s.outlet.component,a))}else a&&Fy(e,s,i),i.canActivateChecks.push(new Ry(r)),Vy(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ov(o,function(t,e){return Fy(t,n.getContext(e),i)}),i}function Fy(t,e,n){var r=Lv(t),i=t.value;ov(r,function(t,r){Fy(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ly(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Uy=function t(){v(this,t)};function qy(t){return new D(function(e){return e.error(t)})}var By=function(){function t(e,n,r,i,o,a){v(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return g(t,[{key:"recognize",value:function(){var t=Ey(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Uv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rv(n,e),i=new qv(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Fv(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,r){for(var i=[],o=0,a=Object.keys(r.children);o<a.length;o++){var s=a[o],u=r.children[s],c=wy(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;i.push.apply(i,n(l))}var h=function(t){var r,i=[],o=e(t);try{var a=function(){var t,e=r.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(e))return i.push(e),"continue";var o=i.find(function(t){return e.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,n(e.children)):i.push(e)};for(o.s();!(r=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return i}(i);return h.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),h}},{key:"processSegment",value:function(t,n,r,i){var o,a=e(t);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.processSegmentAgainstRoute(s,n,r,i);if(null!==u)return u}}catch(c){a.e(c)}finally{a.f()}return Ty(n,r,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Sy(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?iv(n).parameters:{};i=new Uv(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gy(t),by(t),t.component,t,Hy(e),zy(e)+n.length,Ky(t))}else{var u=ky(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Uv(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gy(t),by(t),t.component,t,Hy(e),zy(e)+o.length,Ky(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Ey(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new Rv(i,d)]}if(0===c.length&&0===f.length)return[new Rv(i,[])];var p=by(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new Rv(i,v)]}}]),t}();function Hy(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function zy(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Gy(t){return t.data||{}}function Ky(t){return t.resolve||{}}function Wy(t){return ip(function(e){var n=t(e);return n?$(n).pipe(B(function(){return e})):td(e)})}var Qy=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(){function t(){v(this,t)}return g(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Yy=new tr("ROUTES"),Xy=function(){function t(e,n,r,i){v(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return g(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new uy(rv(i.injector.get(Yy,void 0,Dt.Self|Dt.Optional)).map(my),i)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?$(this.loader.load(t)):av(t()).pipe(et(function(t){return t instanceof ws?td(t):$(e.compiler.compileModuleAsync(t))}))}}]),t}(),$y=function t(){v(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Zy,this.attachRef=null},Zy=function(){function t(){v(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new $y,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Jy=function(){function t(){v(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function tg(t){throw t}function eg(t,e,n){return e.parse("/")}function ng(t,e){return td(null)}var rg,ig,og,ag=((og=function(){function t(e,n,r,i,o,a,s,u){var c=this;v(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=tg,this.malformedUriErrorHandler=eg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ng,afterPreactivation:ng},this.urlHandlingStrategy=new Jy,this.routeReuseStrategy=new Qy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(bs),this.console=o.get(mu);var l=o.get(Nu);this.isNgZoneEnabled=l instanceof Nu&&Nu.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new hv(new fv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xy(a,s,function(t){return c.triggerEvent(new zp(t))},function(t){return c.triggerEvent(new Gp(t))}),this.routerState=jv(this.currentUrlTree,this.rootComponentType),this.transitions=new Kd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(nd(function(t){return 0!==t.id}),B(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),ip(function(t){var r,i,o,a,s=!1,u=!1;return td(t).pipe(xp(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ip(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return td(t).pipe(ip(function(t){var r=e.transitions.getValue();return n.next(new Lp(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ep:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,ip(function(t){return function(t,e,n,r,i){return new Py(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(B(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),xp(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return et(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new By(t,e,n,r,i,o).recognize();return null===a?qy(new Uy):td(a)}catch(cR){return qy(cR)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(B(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),xp(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new Fp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Lp(u,e.serializeUrl(c),l,h);n.next(d);var p=jv(c,e.rootComponentType).snapshot;return td(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ep}),Wy(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),xp(function(t){var n=new Up(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),B(function(t){return Object.assign(Object.assign({},t),{guards:My(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return et(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?td(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return $(t).pipe(et(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?td(o.map(function(o){var a,s=jy(o,e,i);if(function(t){return t&&cy(t.canDeactivate)}(s))a=av(s.canDeactivate(t,e,n,r));else{if(!cy(s))throw new Error("Invalid CanDeactivate guard");a=av(s(t,e,n,r))}return a.pipe(Cp())})).pipe(fy()):td(!0)}(t.component,t.route,n,e,r)}),Cp(function(t){return!0!==t},!0))}(s,r,i,t).pipe(et(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return $(e).pipe(ed(function(e){return tp(function(t,e){return null!==t&&e&&e(new Kp(t)),td(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Qp(t)),td(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return rp(function(){return td(e.guards.map(function(i){var o,a=jy(i,e.node,n);if(function(t){return t&&cy(t.canActivateChild)}(a))o=av(a.canActivateChild(r,t));else{if(!cy(a))throw new Error("Invalid CanActivateChild guard");o=av(a(r,t))}return o.pipe(Cp())})).pipe(fy())})});return td(i).pipe(fy())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?td(r.map(function(r){return rp(function(){var i,o=jy(r,e,n);if(function(t){return t&&cy(t.canActivate)}(o))i=av(o.canActivate(e,t));else{if(!cy(o))throw new Error("Invalid CanActivate guard");i=av(o(e,t))}return i.pipe(Cp())})})).pipe(fy()):td(!0)}(t,e.route,n))}),Cp(function(t){return!0!==t},!0))}(r,a,t,e):td(n)}),B(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),xp(function(t){if(ly(t.guardsResult)){var n=Jp('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new qp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),nd(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new jp(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Wy(function(t){if(t.guards.canActivateChecks.length)return td(t).pipe(xp(function(t){var n=new Bp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),ip(function(t){var r,i,o=!1;return td(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,et(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return td(t);var o=0;return $(n).pipe(ed(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return td({});var o={};return $(i).pipe(et(function(i){return function(t,e,n,r){var i=jy(t,e,r);return av(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(xp(function(t){o[i]=t}))}),gp(1),et(function(){return Object.keys(o).length===i.length?td(o):ep}))}(t._resolve,t,e,r).pipe(B(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Fv(t,n).resolve),null}))}(t.route,e,r,i)}),xp(function(){return o++}),gp(1),et(function(e){return o===n.length?td(t):ep}))})),xp({next:function(){return o=!0},complete:function(){if(!o){var r=new jp(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),xp(function(t){var n=new Hp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),Wy(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),B(function(t){var n=function(t,e,n){var r=Kv(t,e._root,n?n._root:void 0);return new Mv(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),xp(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},B(function(t){return new ay(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),xp({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new jp(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Pp(r))}),pp(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=ly(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new jp(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Vp(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return ep}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){vy(t),this.config=t.map(my),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=r||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,r,i,o){if(0===r.length)return Xv(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Zv(!0,0,t);var e=0,r=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return ov(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(n(t),[{outlets:a}])}if(i.segmentPath)return[].concat(n(t),[i.segmentPath])}return"string"!=typeof i?[].concat(n(t),[i]):0===o?(i.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):[].concat(n(t),[i])},[]);return new Zv(r,e,i)}(r);if(a.toRoot())return Xv(e.root,new fv([],{}),e,i,o);var s=function(t,e,n){if(t.isAbsolute)return new Jv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Jv(r,r===e.root,0)}var i=Qv(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Jv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?ey(s.segmentGroup,s.index,a.commands):ty(s.segmentGroup,s.index,a.commands);return Xv(s.segmentGroup,u,e,i,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=ly(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(cR){e=this.malformedUriErrorHandler(cR,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(ly(t))return sv(this.currentUrlTree,t,e);var n=this.parseUrl(t);return sv(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Mp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||og)(vr(nr),vr(vv),vr(Zy),vr(Nc),vr(Ao),vr(tc),vr(Au),vr(void 0))},og.\u0275prov=Et({token:og,factory:og.\u0275fac}),og),sg=((ig=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new F,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return g(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:cg(this.skipLocationChange),replaceUrl:cg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cg(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ig)(Go(ag),Go(Vv),Zn("tabindex"),Go(Ba),Go(Fa))},ig.\u0275dir=ae({type:ig,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ra("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ee]}),ig),ug=((rg=function(){function t(e,n,r){var i=this;v(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new F,this.subscription=e.events.subscribe(function(t){t instanceof Mp&&i.updateTargetUrlAndHref()})}return g(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:cg(this.skipLocationChange),replaceUrl:cg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cg(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||rg)(Go(ag),Go(Vv),Go(Ec))},rg.\u0275dir=ae({type:rg,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&ra("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(ma("href",e.href,Tr),Bo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ee]}),rg);function cg(t){return""===t||!!t}var lg,hg,fg,dg,pg=((hg=function(){function t(e,n,r,i,o,a){var s=this;v(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof Mp&&s.update()})}return g(t,[{key:"ngAfterContentInit",value:function(){var t=this;td(this.links.changes,this.linksWithHrefs.changes,td(null)).pipe(it()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var r=[].concat(n(this.links.toArray()),n(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=$(r).pipe(it()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}()).\u0275fac=function(t){return new(t||hg)(Go(ag),Go(Fa),Go(Ba),Go(ls),Go(sg,8),Go(ug,8))},hg.\u0275dir=ae({type:hg,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(ou(n,sg,1),ou(n,ug,1)),2&t&&(ru(r=au())&&(e.links=r),ru(r=au())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ee]}),hg),vg=((lg=function(){function t(e,n,r,i,o){v(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Gs,this.deactivateEvents=new Gs,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return g(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yg(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||lg)(Go(Zy),Go(ks),Go(La),Zn("name"),Go(ls))},lg.\u0275dir=ae({type:lg,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),lg),yg=function(){function t(e,n,r){v(this,t),this.route=e,this.childContexts=n,this.parent=r}return g(t,[{key:"get",value:function(t,e){return t===Vv?this.route:t===Zy?this.childContexts:this.parent.get(t,e)}}]),t}(),gg=function t(){v(this,t)},mg=function(){function t(){v(this,t)}return g(t,[{key:"preload",value:function(t,e){return td(null)}}]),t}(),bg=((dg=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Xy(n,r,function(t){return e.triggerEvent(new zp(t))},function(t){return e.triggerEvent(new Gp(t))})}return g(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(nd(function(t){return t instanceof Mp}),ed(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(bs);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,n){var r,i=[],o=e(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(u){o.e(u)}finally{o.f()}return $(i).pipe(it(),B(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(et(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||dg)(vr(ag),vr(tc),vr(Au),vr(Ao),vr(gg))},dg.\u0275prov=Et({token:dg,factory:dg.\u0275fac}),dg),wg=((fg=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return g(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Lp?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mp&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Xp&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Xp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fg)(vr(ag),vr(Ml),vr(void 0))},fg.\u0275prov=Et({token:fg,factory:fg.\u0275fac}),fg),_g=new tr("ROUTER_CONFIGURATION"),kg=new tr("ROUTER_FORROOT_GUARD"),Eg=[Nc,{provide:vv,useClass:yv},{provide:ag,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new ag(null,t,e,n,r,i,o,rv(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,l),s.enableTracing){var h=cc();l.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return l},deps:[vv,Zy,Nc,Ao,tc,Au,Yy,_g,[function(){return function t(){v(this,t)}}(),new br],[function(){return function t(){v(this,t)}}(),new br]]},Zy,{provide:Vv,useFactory:function(t){return t.routerState.root},deps:[ag]},{provide:tc,useClass:rc},bg,mg,function(){function t(){v(this,t)}return g(t,[{key:"preload",value:function(t,e){return e().pipe(pp(function(){return td(null)}))}}]),t}(),{provide:_g,useValue:{enableTracing:!1}}];function Ig(){return new Ku("Router",ag)}var Sg,Tg=((Sg=function(){function t(e,n){v(this,t)}return g(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Eg,Og(e),{provide:kg,useFactory:xg,deps:[[ag,new br,new wr]]},{provide:_g,useValue:n||{}},{provide:Ec,useFactory:Ag,deps:[fc,[new mr(Ac),new br],_g]},{provide:wg,useFactory:Cg,deps:[ag,Ml,_g]},{provide:gg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mg},{provide:Ku,multi:!0,useFactory:Ig},[Pg,{provide:lu,multi:!0,useFactory:Dg,deps:[Pg]},{provide:jg,useFactory:Rg,deps:[Pg]},{provide:gu,multi:!0,useExisting:jg}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Og(e)]}}}]),t}()).\u0275mod=ie({type:Sg}),Sg.\u0275inj=It({factory:function(t){return new(t||Sg)(vr(kg,8),vr(ag,8))}}),Sg);function Cg(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wg(t,e,n)}function Ag(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Oc(t,e):new xc(t,e)}function xg(t){return"guarded"}function Og(t){return[{provide:er,multi:!0,useValue:t},{provide:Yy,multi:!0,useValue:t}]}var Ng,Pg=((Ng=function(){function t(e){v(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new F}return g(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(vc,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(ag),i=t.injector.get(_g);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?td(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(_g),n=this.injector.get(bg),r=this.injector.get(wg),i=this.injector.get(ag),o=this.injector.get(Zu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Ng)(vr(Ao))},Ng.\u0275prov=Et({token:Ng,factory:Ng.\u0275fac}),Ng);function Dg(t){return t.appInitializer.bind(t)}function Rg(t){return t.bootstrapListener.bind(t)}var Lg,Mg,jg=new tr("Router Initializer"),Vg=[],Fg=((Mg=function t(){v(this,t)}).\u0275mod=ie({type:Mg}),Mg.\u0275inj=It({factory:function(t){return new(t||Mg)},imports:[[Tg.forRoot(Vg)],Tg]}),Mg),Ug=((Lg=function t(){v(this,t),this.noKeyboardPagination=!1,this.loginModalVisibility=!1}).\u0275prov=Et({token:Lg,factory:Lg.\u0275fac=function(t){return new(t||Lg)},providedIn:"root"}),Lg);function qg(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(cR){o(cR)}}function s(t){try{u(r.throw(t))}catch(cR){o(cR)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}var Bg=function(t,e){return(Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Hg(t,e){function n(){this.constructor=t}Bg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zg=function(){return(zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Gg(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(cR){o(cR)}}function s(t){try{u(r.throw(t))}catch(cR){o(cR)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function Kg(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(cR){o=[6,cR],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Wg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qg(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Yg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qg(arguments[e]));return t}function Xg(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function $g(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=$g(t[n],e[n]));return t}var Zg=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function Jg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tm(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(cR){return!1}}function em(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nm(){return"indexedDB"in self&&null!=indexedDB}function rm(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function im(){return!(!navigator||!navigator.cookieEnabled)}var om=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,am.prototype.create),o}return Hg(e,t),e}(Error),am=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?sm(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new om(i,s,r);return u},t}();function sm(t,e){return t.replace(um,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var um=/\{\$([^}]+)}/g;function cm(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lm(t,e){var n=new hm(t,e);return n.subscribe.bind(n)}var hm=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=fm),void 0===r.error&&(r.error=fm),void 0===r.complete&&(r.complete=fm);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(cR){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(cR){"undefined"!=typeof console&&console.error&&console.error(cR)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function fm(){}function dm(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var pm,vm=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ym=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Zg;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(cR){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=zg({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var i=this.getOrInitializeService(r);if(!i){if(n)return null;throw Error("Service "+this.name+" is not available")}return i}catch(cR){if(n)return null;throw cR}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(cR){}try{for(var r=Wg(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Qg(i.value,2),a=o[1],s=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(s);a.resolve(u)}catch(cR){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Gg(this,void 0,void 0,function(){var t;return Kg(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Yg(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),gm=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ym(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function mm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var bm,wm=[],_m=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),km={debug:_m.DEBUG,verbose:_m.VERBOSE,info:_m.INFO,warn:_m.WARN,error:_m.ERROR,silent:_m.SILENT},Em=_m.INFO,Im=((pm={})[_m.DEBUG]="log",pm[_m.VERBOSE]="log",pm[_m.INFO]="info",pm[_m.WARN]="warn",pm[_m.ERROR]="error",pm),Sm=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Im[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,mm(["["+i+"]  "+t.name+":"],n))}},Tm=function(){function t(t){this.name=t,this._logLevel=Em,this._logHandler=Sm,this._userLogHandler=null,wm.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in _m))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?km[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,mm([this,_m.DEBUG],t)),this._logHandler.apply(this,mm([this,_m.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,mm([this,_m.VERBOSE],t)),this._logHandler.apply(this,mm([this,_m.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,mm([this,_m.INFO],t)),this._logHandler.apply(this,mm([this,_m.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,mm([this,_m.WARN],t)),this._logHandler.apply(this,mm([this,_m.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,mm([this,_m.ERROR],t)),this._logHandler.apply(this,mm([this,_m.ERROR],t))},t}();function Cm(t){wm.forEach(function(e){e.setLogLevel(t)})}var Am,xm=((bm={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",bm["bad-app-name"]="Illegal App name: '{$appName}",bm["duplicate-app"]="Firebase App named '{$appName}' already exists",bm["app-deleted"]="Firebase App named '{$appName}' already deleted",bm["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",bm["invalid-log-argument"]="First argument to `onLog` must be null or a function.",bm),Om=new am("app","Firebase",xm),Nm=((Am={})["@firebase/app"]="fire-core",Am["@firebase/analytics"]="fire-analytics",Am["@firebase/auth"]="fire-auth",Am["@firebase/database"]="fire-rtdb",Am["@firebase/functions"]="fire-fn",Am["@firebase/installations"]="fire-iid",Am["@firebase/messaging"]="fire-fcm",Am["@firebase/performance"]="fire-perf",Am["@firebase/remote-config"]="fire-rc",Am["@firebase/storage"]="fire-gcs",Am["@firebase/firestore"]="fire-fst",Am["fire-js"]="fire-js",Am["firebase-wrapper"]="fire-js-all",Am),Pm=new Tm("@firebase/app"),Dm=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=$g(void 0,t),this.container=new gm(e.name),this._addComponent(new vm("app",function(){return o},"PUBLIC"));try{for(var a=Wg(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next())this._addComponent(s.value)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(cR){Pm.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,cR)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Om.create("app-deleted",{appName:this.name_})},t}();Dm.prototype.name&&Dm.prototype.options||Dm.prototype.delete||console.log("dc");var Rm=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Om.create("bad-app-name",{appName:String(a)});if(cm(e,a))throw Om.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Nm[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Pm.warn(u.join(" "))}o(new vm(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:Cm,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Om.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=km[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:_m[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=wm;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!cm(e,t=t||"[DEFAULT]"))throw Om.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u=o.name;if(n.has(u))return Pm.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw Om.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&$g(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}try{for(var l=Wg(Object.keys(e)),h=l.next();!h.done;h=l.next())e[h.value]._addComponent(o)}catch(f){a={error:f}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(Dm);return e.INTERNAL=zg(zg({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){$g(e,t)},createSubscribe:lm,ErrorFactory:am,deepExtend:$g}),e}(),Lm=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Pm.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mm=self.firebase.SDK_VERSION;Mm&&Mm.indexOf("LITE")>=0&&Pm.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jm=Rm.initializeApp;Rm.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tm()&&Pm.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),jm.apply(void 0,t)};var Vm,Fm=Rm;(Vm=Fm).INTERNAL.registerComponent(new vm("platform-logger",function(t){return new Lm(t)},"PRIVATE")),Vm.registerVersion("@firebase/app","0.6.14",void 0),Vm.registerVersion("fire-js","");var Um,qm=Fm,Bm=c("nbvr"),Hm=((Um={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Um["not-registered"]="Firebase Installation is not registered.",Um["installation-not-found"]="Firebase Installation not found.",Um["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Um["app-offline"]="Could not process request. Application offline.",Um["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Um),zm=new am("installations","Installations",Hm);function Gm(t){return t instanceof om&&t.code.includes("request-failed")}function Km(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Wm(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Qm(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,zm.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function Ym(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function Xm(t,e){var n=e.refreshToken,r=Ym(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function $m(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Zm(t,e){var n=e.fid;return Gg(this,void 0,void 0,function(){var e,r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:return e=Km(t),r=Ym(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.19"})},[4,$m(function(){return fetch(e,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Wm(a.authToken)}];case 3:return[4,Qm("Create Installation",o)];case 4:throw s.sent()}})})}function Jm(t){return new Promise(function(e){setTimeout(e,t)})}var tb=/^[cdef][\w-]{21}$/;function eb(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Yg(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return tb.test(e)?e:""}catch(n){return""}}function nb(t){return t.appName+"!"+t.appId}var rb=new Map;function ib(t,e){var n=nb(t);ob(n,e),function(t,e){var n=sb();n&&n.postMessage({key:t,fid:e}),ub()}(n,e)}function ob(t,e){var n,r,i=rb.get(t);if(i)try{for(var o=Wg(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var ab=null;function sb(){return!ab&&"BroadcastChannel"in self&&((ab=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){ob(t.data.key,t.data.fid)}),ab}function ub(){0===rb.size&&ab&&(ab.close(),ab=null)}var cb,lb="firebase-installations-store",hb=null;function fb(){return hb||(hb=Object(Bm.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(lb)}})),hb}function db(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:return n=nb(t),[4,fb()];case 1:return r=s.sent(),i=r.transaction(lb,"readwrite"),[4,(o=i.objectStore(lb)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||ib(t,e.fid),[2,e]}})})}function pb(t){return Gg(this,void 0,void 0,function(){var e,n,r;return Kg(this,function(i){switch(i.label){case 0:return e=nb(t),[4,fb()];case 1:return n=i.sent(),[4,(r=n.transaction(lb,"readwrite")).objectStore(lb).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function vb(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s;return Kg(this,function(u){switch(u.label){case 0:return n=nb(t),[4,fb()];case 1:return r=u.sent(),i=r.transaction(lb,"readwrite"),[4,(o=i.objectStore(lb)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||ib(t,s.fid),[2,s]}})})}function yb(t){return Gg(this,void 0,void 0,function(){var e,n,r;return Kg(this,function(i){switch(i.label){case 0:return[4,vb(t,function(n){var r=function(t){return bb(t||{fid:eb(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zm.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Zm(t,e)];case 1:return n=i.sent(),[2,db(t,n)];case 2:return Gm(r=i.sent())&&409===r.customData.serverCode?[4,pb(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,db(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:gb(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function gb(t){return Gg(this,void 0,void 0,function(){var e,n,r,i;return Kg(this,function(o){switch(o.label){case 0:return[4,mb(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Jm(100)];case 3:return o.sent(),[4,mb(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,yb(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function mb(t){return vb(t,function(t){if(!t)throw zm.create("installation-not-found");return bb(t)})}function bb(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function wb(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Gg(this,void 0,void 0,function(){var t,i,o,a,s;return Kg(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return Km(t)+"/"+n+"/authTokens:generate"}(n,e),i=Xm(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.19"}})},[4,$m(function(){return fetch(t,a)})];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,Wm(u.sent())];case 3:return[4,Qm("Generate Auth Token",s)];case 4:throw u.sent()}})})}function _b(t,e){return void 0===e&&(e=!1),Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:return[4,vb(t.appConfig,function(r){if(!Eb(r))throw zm.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return[4,kb(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Jm(100)];case 3:return i.sent(),[4,kb(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,_b(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw zm.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return zg(zg({},t),{authToken:e})}(r);return n=function(t,e){return Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,wb(t,e)];case 1:return n=o.sent(),i=zg(zg({},e),{authToken:n}),[4,db(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Gm(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,pb(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=zg(zg({},e),{authToken:{requestStatus:0}}),[4,db(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function kb(t){return vb(t,function(t){if(!Eb(t))throw zm.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?zg(zg({},t),{authToken:{requestStatus:0}}):t})}function Eb(t){return void 0!==t&&2===t.registrationStatus}function Ib(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return[4,yb(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function Sb(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o;return Kg(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return Km(t)+"/"+n}(t,e),r=Xm(t,e),i={method:"DELETE",headers:r},[4,$m(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,Qm("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function Tb(t){return zm.create("missing-app-config-values",{valueName:t})}(cb=qm).INTERNAL.registerComponent(new vm("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Tb("App Configuration");if(!t.name)throw Tb("App Name");try{for(var r=Wg(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Tb(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Gg(this,void 0,void 0,function(){var e,n,r;return Kg(this,function(i){switch(i.label){case 0:return[4,yb(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):_b(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Gg(this,void 0,void 0,function(){return Kg(this,function(n){switch(n.label){case 0:return[4,Ib(t.appConfig)];case 1:return n.sent(),[4,_b(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Gg(this,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:return[4,vb(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw zm.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw zm.create("app-offline");case 3:return[4,Sb(e,n)];case 4:return r.sent(),[4,pb(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){sb();var n=nb(t),r=rb.get(n);r||(r=new Set,rb.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=nb(t),r=rb.get(n);r&&(r.delete(e),0===r.size&&rb.delete(n),ub())}(n,e)}}(n,t)}}},"PUBLIC")),cb.registerVersion("@firebase/installations","0.4.19");var Cb,Ab="https://www.googletagmanager.com/gtag/js",xb=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),Ob=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),Nb=new Tm("@firebase/analytics");function Pb(t,e,n,r,i,o){return Gg(this,void 0,void 0,function(){var a,s,u,c;return Kg(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Nb.error(c),[3,8];case 8:return t(xb.CONFIG,i,o),[2]}})})}function Db(t,e,n,r,i){return Gg(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return Kg(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(xb.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),Nb.error(h),[3,5];case 5:return[2]}})})}var Rb=((Cb={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Cb["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Cb["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Cb["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Cb["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Cb["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Cb["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Cb["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Cb["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Cb),Lb=new am("analytics","Analytics",Rb),Mb=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function jb(t){var e;return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s;return Kg(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(e=s.error)||void 0===e?void 0:e.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw Lb.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c})})}function Vb(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Mb),Gg(this,void 0,void 0,function(){var e,a,s,u,c,l,h;return Kg(this,function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Fb(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return Nb.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,jb(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof om&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return Nb.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?dm(o,r.intervalMillis,30):dm(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),Nb.debug("Calling attemptFetch again in "+l+" millis"),[2,Vb(t,h,n,r)];case 7:return[2]}})})}function Fb(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Lb.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Ub,qb,Bb=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),Hb={},zb=[],Gb={},Kb="dataLayer",Wb="gtag",Qb=!1;function Yb(t){if(Qb)throw Lb.create("already-initialized");t.dataLayerName&&(Kb=t.dataLayerName),t.gtagName&&(Wb=t.gtagName)}function Xb(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:if(em())return[2,!1];if(!im())return[2,!1];if(!nm())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,rm()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new vm("analytics",function(t){return function(t,e){!function(){var t=[];if(em()&&t.push("This is a browser extension environment."),im()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=Lb.create("invalid-analytics-context",{errorInfo:e});Nb.warn(n.message)}}();var n=t.options.appId;if(!n)throw Lb.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Lb.create("no-api-key");Nb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Hb[n])throw Lb.create("already-exists",{id:n});if(!Qb){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Ab))return r}return null})()||function(t){var e=document.createElement("script");e.src=Ab+"?l="+t,e.async=!0,document.head.appendChild(e)}(Kb),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Kb);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Gg(this,void 0,void 0,function(){var s;return Kg(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==xb.EVENT?[3,2]:[4,Db(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==xb.CONFIG?[3,4]:[4,Pb(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(xb.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Nb.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Hb,zb,Gb,Kb,Wb);qb=r.wrappedGtag,Ub=r.gtagCore,Qb=!0}return Hb[n]=function(t,e,n,r,i){return Gg(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return Kg(this,function(f){switch(f.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=Mb),Gg(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return Kg(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw Lb.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw Lb.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Bb,setTimeout(function(){return Gg(u,void 0,void 0,function(){return Kg(this,function(t){return s.abort(),[2]})})},6e4),[2,Vb({appId:r,apiKey:i,measurementId:o},a,s,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Nb.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Nb.error(t)}),e.push(o),a=function(){return Gg(this,void 0,void 0,function(){var t;return Kg(this,function(e){switch(e.label){case 0:return nm()?[3,1]:(Nb.warn(Lb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,rm()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Nb.warn(Lb.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([o,a])];case 1:return s=f.sent(),u=s[0],c=s[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=c&&(l.firebase_id=c),i(xb.CONFIG,u.measurementId,l),[2,u.measurementId]}})})}(t,zb,Gb,e,Ub),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Gg(this,void 0,void 0,function(){var o,a;return Kg(this,function(s){switch(s.label){case 0:return i&&i.global?(t(xb.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=zg(zg({},r),{send_to:o}),t(xb.EVENT,n,a),s.label=3;case 3:return[2]}})})})(qb,Hb[n],t,e,r).catch(function(t){return Nb.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Gg(this,void 0,void 0,function(){var i;return Kg(this,function(o){switch(o.label){case 0:return r&&r.global?(t(xb.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(xb.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(qb,Hb[n],t,e).catch(function(t){return Nb.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Gg(this,void 0,void 0,function(){var i;return Kg(this,function(o){switch(o.label){case 0:return r&&r.global?(t(xb.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(xb.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(qb,Hb[n],t,e).catch(function(t){return Nb.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a,s,u;return Kg(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return t(xb.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(xb.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(qb,Hb[n],t,e).catch(function(t){return Nb.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Gg(this,void 0,void 0,function(){var n;return Kg(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Hb[n],t).catch(function(t){return Nb.error(t)})},INTERNAL:{delete:function(){return delete Hb[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Yb,EventName:Ob,isSupported:Xb})),t.INTERNAL.registerComponent(new vm("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(cR){throw Lb.create("interop-component-reg-failed",{reason:cR})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(qm),qm.registerVersion("firebase","8.2.6","app"),(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++g)}var y="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function S(t,e,n){this.code=A+t,this.message=e||x[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var C,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,E(D,Error),D.prototype.name="CustomError",E(R,D),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new M(function(){return new q},function(t){t.reset()});function U(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=a.navigator;if(ct){var lt=ct.userAgent;if(lt){Z=lt;break t}}Z=""}function ht(t){return st(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===kt&&e||"",this.b=_t}function bt(t){return t instanceof mt&&t.constructor===mt&&t.b===_t?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,_t={},kt={};function Et(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function It(t,e){this.a=e===xt?t:""}function St(t){return t instanceof It&&t.constructor===It?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=bt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new It(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Ct,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?bt(t):encodeURIComponent(String(t))}))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Ot(t,e){this.a=e===jt?t:""}function Nt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Ot(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Pt.test(e[1])?new Ot(t,jt):null}return t}function Mt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,jt))}var jt={},Vt=new Ot("about:invalid#zClosurez",jt);function Ft(t,e,n){this.a=n===Ut?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function qt(t,e,n,r){return t=t instanceof Ot?t:Mt(t),e=e||a,n=n instanceof mt?bt(n):n||"",e.open(Nt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Gt,Kt,Wt=ht("Opera"),Qt=ht("Trident")||ht("MSIE"),Yt=ht("Edge"),Xt=Yt||Qt,$t=ht("Gecko")&&!(st(Z.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Zt=st(Z.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=a.document;return t?t.documentMode:void 0}t:{var te="",ee=(Kt=Z,$t?/rv:([^\);]+)(\)|;)/.exec(Kt):Yt?/Edge\/([\d\.]+)/.exec(Kt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Zt?/WebKit\/(\S+)/.exec(Kt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ee&&(te=ee?ee[1]:""),Qt){var ne=Jt();if(null!=ne&&ne>parseFloat(te)){Gt=String(ne);break t}}Gt=te}var re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=J(String(Gt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var oe=a.document&&Qt&&(Jt()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Qt||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}H(a?$(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout(function(){throw t},0)}function ve(t,e){le||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);le=function(){t.then(me)}}else le=function(){var t=me;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ht("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),ye||(le(),ye=!0),ge.add(t,e)}var ye=!1,ge=new V;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){pe(e)}j(F,t)}ye=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,function(t){De(n,_e,t)},function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(cR){}De(n,ke,t)})}catch(r){De(this,ke,r)}}var we=0,_e=2,ke=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new M(function(){return new Ee},function(t){t.reset()});function Se(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof be)return t;var e=new be(l);return De(e,_e,t),e}function Ce(t){return new be(function(e,n){n(t)})}function Ae(t,e,n){Re(t,e,n,null)||ve(_(e,t))}function xe(t){return new be(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,ke,e)))}t.c=null}else De(t,ke,e)}function Ne(t,e){t.b||t.a!=_e&&t.a!=ke||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Se(null,null,null);return i.a=new be(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ne(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=ke||n instanceof Ue||function(t,e){t.g=!0,ve(function(){t.g&&Fe.call(null,e)})}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return Ne(t,Se(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(cR){Fe.call(null,cR)}j(Ie,e)}function Ve(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ue(t);ve(function(){Oe(this,e)},this)}},t.$c=function(t){this.a=we,De(this,_e,t)},t.ad=function(t){this.a=we,De(this,ke,t)},t.gc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Ue(t){D.call(this,t)}function qe(){0!=Be&&(He[v(this)]=this),this.xa=this.xa,this.pa=this.pa}E(Ue,D),Ue.prototype.name="cancel";var Be=0,He={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=v(t);if(0!=Be&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ke=!Qt||9<=Number(oe),We=Qt&&!ie("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,Ye);var $e=Ge({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),Je=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new tn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?_n(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=gn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?kn(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=bn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function dn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&fn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Xe(e,this))}function gn(t){return(t=t[an])instanceof nn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function wn(){qe.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&rn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(d(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new be(function(n,r){-1==(e=In(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Cn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,qe),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;yt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=En(a,r,!0,t)&&i}if(i=En(a=t.b=n,r,!0,t)&&i,i=En(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=An.prototype).W=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Ln(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Dn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Jn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Kn)),t.b=new Qn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Fn(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Wn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,Wn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=Cn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function $n(t,e){Yn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Zn(t,e){return Yn(t),e=er(t,e),On(t.a.b,e)}function Jn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),$(n)),t.b+=n.length)}function tr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),ir(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Yn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Zn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(ar,function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e}),'"')}function ur(){var t=Cr();return Qt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function cr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Lt(t)||Vt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||a.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Ir(Cr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Lt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(a=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Mt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Nt(e),a&&(Xt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ft(t=(r=Et())?r.createHTML(t):t,null,Ut),r=a.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new be(function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))}).o(function(e){throw hn(window,"load",t),e})}function mr(t){return t=t||Cr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function _r(){return qm.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":qm.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function kr(){var t=_r();return"ReactNative"===t||"Node"===t}var Er="Firefox";function Ir(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?Er:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=a.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Or(){return(Nr()||"chrome-extension:"===Pr()||mr())&&!kr()&&xr()&&!wr()}function Nr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return a.location&&a.location.protocol||null}function Dr(t){return!fr(t=t||Cr())&&Ir(t)!=Er}function Rr(t){return void 0===t?null:nr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=_r(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Ar("fireauth.oauthhelper",a)&&!Ar("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Kr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Wr.abcd}catch(Kt){zr=!1}function Qr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Xr(t){var e={};return Yr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,$r(t[n]));return e}function Zr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ni]),Qr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function Jr(t){try{var e=new ii(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Zr.call(this,t),Qr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Jr(t[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[yi]=n||null,e[di]=r):(e[pi]=r||null,e[yi]=r||null,e[di]=n||null),e[vi]=t||null,Qr(this,mi,i),Qr(this,gi,$r(e))}E(ii,Zr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",yi="previousEmail",gi="data",mi="operation";function bi(t){var e=jn(t=Vn(t),wi)||null,n=jn(t,_i)||null,r=jn(t,Ii)||null;if(r=r&&Ti[r]||null,!e||!n||!r)throw new S("argument-error",wi+", "+_i+"and "+Ii+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,ki)||null,languageCode:jn(t,Ei)||null,tenantId:jn(t,Si)||null})}var wi="apiKey",_i="oobCode",ki="continueUrl",Ei="languageCode",Ii="mode",Si="tenantId",Ti={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new bi(t)}catch(e){return null}}function Ai(t){var e=t[Di];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new S("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Oi="dynamicLinkDomain",Ni="handleCodeInApp",Pi="iOS",Di="url",Ri="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Ui(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ki(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Wi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=to,e["github.com"]=Ji,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Qi])return new Xi(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Xi(t){var e=t[Yi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function $i(t){Xi.call(this,t),Qr(this,"profile",$r((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function to(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function no(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}E($i,Xi),E(Zi,$i),E(Ji,$i),E(to,$i),E(eo,$i);var io="enroll",oo="signin";function ao(){}function so(t,e){return t.then(function(t){if(t[Qa]){var n=qi(t[Qa]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t})}function uo(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ki(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function go(t){vo.call(this,t,zi),this.a=[]}function mo(){go.call(this,"facebook.com")}function bo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function wo(){go.call(this,"github.com")}function _o(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function ko(){go.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function Io(){vo.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function Ao(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Oo(e)))throw new S("argument-error","Invalid email link!");return new To(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ci(t=no(t)))&&t.operation===si?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Ro(t){try{this.a=t||qm.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new No({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new ho(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function jo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return Te(this.a?this.a:this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},uo.prototype.ka=function(t){return vs(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ys(t,n)},uo.prototype.c=function(t,e){return so(gs(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return vs(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ys(t,n)},ho.prototype.c=function(t,e){return so(gs(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=pt(t),this},E(yo,vo),E(go,vo),go.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return $(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},E(mo,go),Qr(mo,"PROVIDER_ID","facebook.com"),Qr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(wo,go),Qr(wo,"PROVIDER_ID","github.com"),Qr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),E(ko,go),Qr(ko,"PROVIDER_ID","google.com"),Qr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Io,vo),Qr(Io,"PROVIDER_ID","twitter.com"),Qr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Ss,{email:this.a,oobCode:this.f}):Zs(t,Ws,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Ts,{idToken:e,email:this.a,oobCode:this.f}):Zs(t,Fs,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return so(this.ka(t),e)},To.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ao,{PROVIDER_ID:"password"}),Yr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Do(this))},No.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Zs(t,Ys,n)},No.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",so(t=Zs(t,Xs,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Ro.prototype.fb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then(function(t){return function(t,e){return Zs(t,qs,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==oo?i.Ha().then(function(e){return function(t,e){return Zs(t,Bs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Zs(t,js,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Ro,{PROVIDER_ID:"phone"}),Yr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Bo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function zo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Qr(this,"email",t.Jb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Zb&&Qr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Ko(){}function Wo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(cR){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function ta(t,e){this.name=t,this.value=e}E(Ho,S),E(zo,S),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},zo.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,E(Wo,Ko),Wo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Wo,E(Yo,Ko),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},ta.prototype.toString=function(){return this.name};var ea=new ta("SEVERE",1e3),na=new ta("WARNING",900),ra=new ta("CONFIG",700),ia=new ta("FINE",500);function oa(t){return t.c?t.c:t.a?oa(t.a):(L("Root logger has no level set."),null)}Jo.prototype.log=function(t,e,n){if(t.value>=oa(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var aa={},sa=null;function ua(t){var e;if(sa||(sa=new Jo(""),aa[""]=sa,sa.c=ra),!(e=aa[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ua(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,aa[t]=e}return e}function ca(t,e){t&&t.log(ia,e,void 0)}function la(t){this.f=t}function ha(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=fa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ua("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(la,Ko),la.prototype.a=function(){return new ha(this.f)},la.prototype.b=function(t){return function(){return t}}({}),E(ha,wn);var fa=0;function da(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function pa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,va(t)}function va(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){wn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ga,this.u=this.S=!1}(t=ha.prototype).open=function(t,e){if(this.readyState!=fa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,va(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,pa(this)),this.readyState=fa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,va(this)),this.a&&(this.readyState=3,va(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,da(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?pa(this):va(this),3==this.readyState&&da(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,pa(this))},t.sc=function(t){this.a&&(this.response=t,pa(this))},t.Ua=function(t){var e=this.i;e&&e.log(na,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&pa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(na,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(na,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(ya,wn);var ga="";ya.prototype.b=ua("goog.net.XhrIo");var ma=/^https?$/i,ba=["POST","PUT"];function wa(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ka(t),Ia(t)}function ka(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ea(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ta(t)&&2==Ca(t))ca(t.b,Aa(t,"Local request error detected and ignored"));else if(t.i&&4==Ta(t))In(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ta(t)){ca(t.b,Aa(t,"Request complete")),t.c=!1;try{var e,n=Ca(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Nn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ma.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ta(t)?t.a.statusText:""}catch(l){ca(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ca(t)+"]",ka(t)}}finally{Ia(t)}}}function Ia(t,e){if(t.a){Sa(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(cR){(t=t.b)&&t.log(ea,"Problem encountered resetting onreadystatechange: "+cR.message,void 0)}}}function Sa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ta(t){return t.a?t.a.readyState:0}function Ca(t){try{return 2<Ta(t)?t.a.status:-1}catch(e){return-1}}function Aa(t,e){return e+" ["+t.R+" "+t.l+" "+Ca(t)+"]"}function xa(t){var e=Ua;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(t,e,n){t.a=!0,t.c=n,t.f=!e,Ra(t)}function Na(t){if(t.a){if(!t.v)throw new La(t);t.v=!1}}function Pa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ra(t)}function Da(t){return K(t.g,function(t){return d(t[1])})}function Ra(t){if(t.h&&t.a&&Da(t)){var e=t.h,n=Va[e];n&&(a.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Da(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof xa?(Pa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new ja(e),Va[e.a]=e,t.h=e.a)}function La(){D.call(this)}function Ma(){D.call(this)}function ja(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ca(this.b,Aa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ca(this.b,Aa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),ya.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ea(this):this.Jc())},t.Jc=function(){Ea(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ga:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ea,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ca(this.b,"Can not get response: "+e.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ma(this),Na(this),Oa(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Oa(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new be(function(t,e){r=t,i=e});return Pa(this,r,function(t){t instanceof Ma?o.cancel():i(t)}),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,E(La,D),La.prototype.message="Deferred has already fired",La.prototype.name="AlreadyCalledError",E(Ma,D),Ma.prototype.message="Deferred was canceled",Ma.prototype.name="CanceledError",ja.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Fa(t){var e={},n=e.document||document,r=St(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new xa(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){qa(i,!0);var t=new za(Ha,"Timeout reached for loading script "+r);Na(s),Oa(s,!1,t)},h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qa(i,e.xd||!1,l),Na(s),Oa(s,!0,null))},i.onerror=function(){qa(i,!0,l);var t=new za(Ba,"Error while loading script "+r);Na(s),Oa(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ua(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qa(t,!0,this.Ma)}}function qa(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ba=0,Ha=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ga(t){this.f=t}function Ka(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ya,this.g=pt(t.secureTokenHeaders||Xa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||$a,this.a=pt(t.firebaseHeaders||Za),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=a.XMLHttpRequest||n&&qm.INTERNAL.node&&qm.INTERNAL.node.XMLHttpRequest)&&!wr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new la(self):kr()?new Ga(n):new Yo,this.b=null}E(za,D),E(Ga,Ko),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Wa,Qa="idToken",Ya=new Ur(3e4,6e4),Xa={"Content-Type":"application/x-www-form-urlencoded"},$a=new Ur(3e4,6e4),Za={"Content-Type":"application/json"};function Ja(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ts(t,e){e&&(t.l=es("https://securetoken.googleapis.com/v1/token",e),t.h=es("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=es("https://identitytoolkit.googleapis.com/v2/",e))}function es(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function ns(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function rs(t,e,n,r,i,o,s){(function(){var t=Cr();return!((t="Chrome"!=Ir(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&oe&&!(9<oe))})()||wr()?t=w(t.u,t):(Wa||(Wa=new be(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[os]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Pa(t,null,e,void 0)}(Fa(Tt(is,{onload:os})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Ka.prototype.T=function(){return this.b},Ka.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}_n(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ca(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),kn(s,"ready",function(){u&&clearTimeout(u),ze(this)}),kn(s,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qo),t.a.onreadystatechange=w(t.Vb,t);try{ca(t.b,Aa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ca(t.b,Aa(t,"Error opening Xhr: "+s.message)),void _a(t,s)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Cn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!W(ba,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Sa(t),0<t.g&&(t.u=function(t){return Qt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ca(t.b,Aa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ca(t.b,Aa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ca(t.b,Aa(t,"Send error: "+s.message)),_a(t,s)}}(s,t,n,r,i)};var is=new mt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),os="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new S("invalid-email")}function ss(t){"email"in t&&as(t)}function us(t){if(!t[Qa]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,pt(t));throw new S("internal-error")}}function cs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ka.prototype.s=function(t,e,n,r,i){var o=this;Wa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ka.prototype.zb=function(){return Zs(this,Us,{})},Ka.prototype.Bb=function(t,e){return Zs(this,Vs,{idToken:t,email:e})},Ka.prototype.Cb=function(t,e){return Zs(this,Fs,{idToken:t,password:e})};var ls={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function hs(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function fs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ds(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ps(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=Js(t.errorMessage)),e)throw e;us(t)}function vs(t,e){return e.returnIdpCredential=!0,Zs(t,Hs,e)}function ys(t,e){return e.returnIdpCredential=!0,Zs(t,Gs,e)}function gs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Zs(t,zs,e)}function ms(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ka.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(ls,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Zs(this,Vs,n)},t.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),Zs(this,Ds,t)},t.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),Zs(this,Os,t)},t.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Zs(this,Ns,t)},t.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Zs(this,Ps,t)},t.fb=function(t){return Zs(this,Qs,t)},t.nb=function(t,e){return Zs(this,Ms,{oobCode:t,newPassword:e})},t.Ra=function(t){return Zs(this,ws,{oobCode:t})},t.jb=function(t){return Zs(this,bs,{oobCode:t})};var bs={endpoint:"setAccountInfo",A:ms,Z:"email",B:!0},ws={endpoint:"resetPassword",A:ms,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},_s={endpoint:"signupNewUser",A:function(t){if(as(t),!t.password)throw new S("weak-password")},G:us,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Es={endpoint:"deleteAccount",N:["idToken"]},Is={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Ss={endpoint:"emailLinkSignin",N:["email","oobCode"],A:as,G:us,V:!0,B:!0},Ts={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:as,G:us,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:hs,G:us,B:!0,Na:!0},As={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:hs,G:us,B:!0,Na:!0},xs={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");as(t)},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");as(t)},Z:"email",B:!0},Rs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ls={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ms={endpoint:"resetPassword",A:ms,Z:"email",B:!0},js={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:ss,V:!0},Fs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ss(t),!t.password)throw new S("weak-password")},G:us,V:!0},Us={endpoint:"signupNewUser",G:us,V:!0,B:!0},qs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Bs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Hs={endpoint:"verifyAssertion",A:fs,Ya:ds,G:ps,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:fs,Ya:ds,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Js(t.errorMessage);us(t)},V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:function(t){if(fs(t),!t.idToken)throw new S("internal-error")},Ya:ds,G:ps,V:!0},Ks={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:us,V:!0,B:!0},Ws={endpoint:"verifyPassword",A:function(t){if(as(t),!t.password)throw new S("wrong-password")},G:us,V:!0,B:!0},Qs={endpoint:"verifyPhoneNumber",A:cs,G:us,B:!0},Ys={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");cs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);us(t)}},Xs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:cs,G:us,B:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qa]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ce(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Te(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Vn(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",k().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new be(function(e,n){rs(t,s.toString(),function(t){t?t.error?n(tu(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:nr(Lr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function Js(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Rr(t)),new S("internal-error",e)}function eu(t){this.b=t,this.a=null,this.rb=function(t){return(ou||(ou=new be(function(t,e){function n(){Fr(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ru.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Te(Fa(r=Tt(nu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ou=null,t}))).then(function(){return new be(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},iu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var nu=new mt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Ur(3e4,6e4),iu=new Ur(5e3,15e3),ou=null;function au(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function su(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return qm.app(t).auth().Ga()}catch(e){return[]}}function cu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function lu(t){var e=cr();return function(t){return Zs(t,Rs,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ho(cr())})}function hu(t){return t.m||(t.m=gr().then(function(){if(!t.u){var e=t.c,n=t.i,r=uu(t.b),i=new au(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.v=new eu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)})),t.m}function fu(t){return t.l||(t.C=t.c?Tr(t.c,uu(t.b)):null,t.l=new Ka(t.g,N(t.i),t.C),t.f&&ts(t.l,t.f)),t.l}function du(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new su(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=pt(u||null),t.f=c,t.yb(l).toString()}function pu(t){if(this.a=t||qm.INTERNAL.reactNative&&qm.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}au.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},su.prototype.yb=function(t){return this.h=t,this},su.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=qm.app(this.c).auth().la()}catch(s){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),dt(e)||Mn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Mn(t,"v",this.i):$n(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):$n(t.b,"tid"),this.f?Mn(t,"eid",this.f):$n(t.b,"eid"),(a=uu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=cu.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return hu(t).then(function(){return function(t,e){return t.rb.then(function(){return new be(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new be(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Sn(n).then(function(){e(r)})})},t.Xb=function(){var t=Cr();return!Dr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ce(new S("popup-blocked"));if(a&&!Dr())return this.ma().o(function(e){dr(t),i(e)}),r(),Te();this.a||(this.a=lu(fu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){jo(n),a||lr(du(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=lu(fu(this)));var i=this;return this.a.then(function(){jo(e),lr(du(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return hu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new S("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,function(e){return e==t})},(t=pu.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Rr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,gu=[];function mu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return ku(t,c),e}).o(function(e){throw ku(t,c),e})}function ku(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function Eu(){if(!Cu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(H(gu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);gu.push(e)}return e}(),mu(this.v,"keyChanged",function(e,n){return Pu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),mu(this.v,"ping",function(){return Te(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Te(null)}().then(function(e){(t.h=e)&&(t.g=new wu(new bu(e)),_u(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Iu(t){return new be(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Iu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.i||(t.i=Iu(t)),t.i}function Tu(t,e){var n=0;return new be(function r(i,o){Su(t).then(e).then(i).o(function(e){if(!(3<++n))return Su(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Cu(){try{return!!a.indexedDB}catch(Kt){return!1}}function Au(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new be(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Nu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Te()}function Pu(t){return Su(t).then(function(t){var e=Au(xu(t,!1));return e.getAll?Ou(e.getAll()):new be(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ru(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Cu()){var t=jr(),r="__sak"+t;return yu||(yu=new Eu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Lu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==_r();if(!(t=ju()||t&&qm.INTERNAL.node&&qm.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=ju()||qm.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var t=a.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function Fu(){if(!function(){var t="Node"==_r();if(!(t=Uu()||t&&qm.INTERNAL.node&&qm.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Uu()||qm.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=a.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=zu,t.Node=Gu,t.ReactNative=Ku,t.Worker=Wu,this.a=t[_r()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(t,e){var n=this,r=!1;return Tu(this,function(e){return Ou((e=Au(xu(e,!0))).get(t))}).then(function(i){return Tu(n,function(o){if(o=Au(xu(o,!0)),i)return i.value=e,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ou(o.add(a))})}).then(function(){return n.c[t]=e,Nu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Tu(this,function(e){return Ou(Au(xu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Tu(this,function(r){return n=!0,e.b++,Ou(Au(xu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Nu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Pu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Ru.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Lu.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return Te().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Te().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Bu,Hu,zu={F:Mu,bb:Fu},Gu={F:Mu,bb:Fu},Ku={F:pu,bb:Vu},Wu={F:Mu,bb:Vu},Qu={rd:"local",NONE:"none",td:"session"};function Yu(){var t=!(Vr(Cr())||!br()),e=Dr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},Bu||(Bu=new qu),t=Bu;try{this.g=!ur()&&Hr()||!a.indexedDB?new t.a.F:new Ru(wr()?new Lu:new t.a.F)}catch(r){this.g=new Lu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Lu}this.v=new Lu,this.f=w(this.Yb,this),this.b={}}function Xu(){return Hu||(Hu=new Yu),Hu}function $u(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Zu(e,n),"local"==e.F&&(t.b[n]=null),$u(t,e.F).U(n)}function tc(t){t.c&&(clearInterval(t.c),t.c=null)}function ec(t){this.a=t,this.b=Xu()}(t=Yu.prototype).get=function(t,e){return $u(this,t.F).get(Zu(t,e))},t.set=function(t,e,n){var r=Zu(t,n),i=this,o=$u(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Zu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),dt(this.a)&&($u(this,"local").ca(this.f),this.h||(ur()||!Hr())&&a.indexedDB||!this.l||function(t){tc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zu(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&($u(this,"local").ia(this.f),tc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$u(this,"local").ia(this.f):tc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Qt&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var nc,rc={name:"authEvent",F:"local"};function ic(){this.a=Xu()}function oc(t,e){this.b=ac,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===nc&&(nc=a.Int32Array?new Int32Array(dc):dc),this.reset()}E(oc,function(){this.b=-1});for(var ac=64,sc=ac-1,uc=[],cc=0;cc<sc;cc++)uc[cc]=0;var lc=X(128,uc);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|nc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}oc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var dc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pc(){oc.call(this,8,vc)}E(pc,oc);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ic,this.g=new ec(this.h),this.f=null,this.b=[],this.a=this.c=null}function gc(t){return new S("invalid-cordova-configuration",t)}function mc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function bc(t){return t.f||(t.f=t.ma().then(function(){return new be(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(jn(o=Vn(i),"firebaseError")||null))?T(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}mc(t,i)})}var n=new Vo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return wc(t).then(function(){r||mc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Uo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function wc(t){var e=null;return function(t){return t.b.get(rc,t.a).then(function(t){return Fo(t)})}(t.g).then(function(n){return e=n,Ju((n=t.g).b,rc,n.a)}).then(function(){return e})}function _c(t){this.a=t,this.b=Xu()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then(function(){return new be(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ar("universalLinks.subscribe",a))throw gc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",a))throw gc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",a))throw gc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",a))throw gc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},t.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Te()},t.Mb=function(){return Ce(new S("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ce(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Te().then(function(){return jo(e),bc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new S("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",a),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Ce(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new pc;fc(e,t),t=[];var n=8*e.g;fc(e,lc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=du(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(rc,s.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new be(function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){qr()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return wc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),bc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new S("no-auth-event")),t(e))})},t.Sa=function(t){Y(this.b,function(e){return e==t})};var kc={name:"pendingRedirect",F:"session"};function Ec(t){return Ju(t.b,kc,t.a)}function Ic(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Fc,this.C=new zc,this.g=new _c(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,C,this.J)}function Sc(t,e,n,r,i){var o=qm.SDK_VERSION||null;return mr()?new yc(t,e,n,o,r,i):new cu(t,e,n,o,r,i)}function Tc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Cc(t){t.a.Xb()&&Tc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Tb()||Uc(t.b)}function Ac(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(kc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ec(t.g).then(function(){Tc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Cc(t)}).o(function(){Cc(t)})}function xc(t,e){Y(t.h,function(t){return t==e})}Ic.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Ic.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=k()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=k())),e=!0;break}}return Uc(this.b),e};var Oc=new Ur(2e3,1e4),Nc=new Ur(3e4,6e4);function Pc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Rc(t,e,n,r,i){var o;return function(t){return t.b.set(kc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Dc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Ec(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new be(function(){}):Ec(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Lc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Oc.get())}Ic.prototype.qa=function(){return this.b.qa()};var Mc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=jc(e,n,r);return Mc[i]||(Mc[i]=new Ic(t,e,n,r)),Mc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function qc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Bc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bc(t,n):Bc(t,{user:null}),t.f=[],t.c=[]}function zc(){}function Gc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Kc(t,e){this.a=e,Qr(this,"verificationId",t)}function Wc(t,e,n,r){return new Ro(t).fb(e,n).then(function(t){return new Kc(t,r)})}function Qc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[$c];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;H(e[Xc]||[],function(t){(t=Jr(t))&&i.b.push(t)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Hc(t,s,e,null)}).o(function(e){Hc(t,s,null,e)})}(this,t,e):Ce(new S("invalid-auth-event")):(Hc(this,!1,null,null),Te())}else Ce(new S("invalid-auth-event"))},Fc.prototype.qa=function(){var t=this;return new be(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(Nc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},zc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ce(new S("invalid-auth-event"))}else Ce(new S("invalid-auth-event"))},Kc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",$c="mfaPendingCredential";function Zc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Qr(this,"resolver",this.b)}function Jc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zc(e,t.serverResponse,n,t.message)}catch(r){}return null}function tl(){}function el(t){Qr(this,"factorId",t.fa),this.a=t}function nl(t){if(el.call(this,t),this.a.fa!=Ro.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function il(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),ol(this,n)}function ol(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sl(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return qr()||!t?Te():new be(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){sl(t,!0)}).o(function(e){t.i(e)&&sl(t,!1)})}function ul(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function cl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ll(t,e){t.b=qi(e[Qa]||""),t.a=e.refreshToken,cl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function hl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function fl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function dl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=qm.SDK_VERSION?Tr(qm.SDK_VERSION):null;this.a=new Ka(this.l,N(C),r),t.emulatorConfig&&ts(this.a,t.emulatorConfig),this.b=new ul(this.a),_l(this,e[Qa]),ll(this.b,e),Qr(this,"refreshToken",this.b.a),Il(this,n||{}),wn.call(this),this.R=!1,this.s&&Or()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new al(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ts(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){yl(i,t.f)},this.ba=null,this.O=new il(this,n),Qr(this,"multiFactor",this.O)}function pl(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&un(e,"languageCodeChanged",t.Oa)}function vl(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&un(e,"emulatorConfigChanged",t.Aa)}function yl(t,e){t.$=e,ns(t.a,qm.SDK_VERSION?Tr(qm.SDK_VERSION,t.$):null)}function gl(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&un(e,"frameworkChanged",t.Ba)}function ml(t){try{return qm.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function bl(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),un(t,"tokenChanged",t.aa))}function wl(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function _l(t,e){t.za=e,Qr(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then(function(){return t})}function El(t){t.i&&!t.R&&(t.R=!0,Ac(t.i,t))}function Il(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sl(){}function Tl(t){return Te().then(function(){if(t.D)throw new S("app-deleted")})}function Cl(t){return G(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(xl(t,e.providerId),t.providerData.push(e))}function xl(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Nl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qr(t,"metadata",e.metadata?function(t){return new hl(t.a,t.b)}(e.metadata):new hl),H(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),ol(t.O,e.O.b))}function Pl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Zs(t.a,xs,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function Dl(t,e){e[Qa]&&t.za!=e[Qa]&&(ll(t.b,e),t.dispatchEvent(new rl("tokenChanged")),_l(t,e[Qa]),Ol(t,"refreshToken",t.b.a))}function Rl(t,e){return Pl(t).then(function(){if(W(Cl(t),e))return kl(t).then(function(){throw new S("provider-already-linked")})})}function Ll(t,e,n){return Xr({user:t,credential:Mo(e),additionalUserInfo:e=Wi(e),operationType:n})}function Ml(t,e){return Dl(t,e),t.reload().then(function(){return t})}function jl(t,e,n,r,i){if(!Or())return Ce(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ce(t.h);var o=Ki(n.providerId),a=jr(t.uid+":::"),s=null;(!Dr()||br())&&t.s&&n.isOAuthProvider&&(s=du(t.s,t.l,t.m,e,n,null,a,qm.SDK_VERSION||null,null,null,t.tenantId));var u=pr(s,o&&o.ua,o&&o.ta);return r=r().then(function(){if(Fl(t),!i)return t.I().then(function(){})}).then(function(){return Pc(t.i,u,e,n,a,!!s,t.tenantId)}).then(function(){return new be(function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Lc(t.i,t,e,u,a)})}).then(function(t){return u&&dr(u),t?Xr(t):null}).o(function(t){throw u&&dr(u),t}),Ul(t,r,i)}function Vl(t,e,n,r,i){if(!Or())return Ce(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ce(t.h);var o=null,a=jr(t.uid+":::");return r=r().then(function(){if(Fl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,kl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e}).then(function(){return Rc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return zl(t.ha);throw o}).then(function(){if(o)throw o}),Ul(t,r,i)}function Fl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Ul(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ce(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new rl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Q(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),ml(t),w(t.jc,t))),n||e})}function ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new dl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Al(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Bl(t){this.a=t,this.b=Xu()}Yc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Xc],delete n[$c],yt(n,t),e.g(n)})},E(Zc,S),tl.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Do(t.a)}),Zs(e,Cs,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Zs(e,As,n)})}(this,t,e)},E(el,tl),E(nl,el),E(rl,Ye),(t=il.prototype).yc=function(t){ol(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=Jr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Dl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Zs(r,$s,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return ol(e,r),Dl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},al.prototype.start=function(){this.a=this.c,sl(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ul.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ul.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new be(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?rs(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(tu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,cl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(dl,wn),dl.prototype.wa=function(t){this.ya=t,Ja(this.a,t)},dl.prototype.la=function(){return this.ya},dl.prototype.Ga=function(){return $(this.$)},dl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(dl.prototype,"providerId","firebase"),(t=dl.prototype).reload=function(){var t=this;return Ul(this,Tl(this).then(function(){return Pl(t).then(function(){return kl(t)}).then(Sl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qc(t)})},t.I=function(t){var e=this;return Ul(this,Tl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(_l(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");Il(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Ul(this,t.c(this.a,this.uid).then(function(t){return Dl(e,t),n=Ll(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Ul(this,Rl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ll(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Ul(this,Rl(this,"phone").then(function(){return Wc(ml(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Ul(this,Te().then(function(){return Wc(ml(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Ul(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Dl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Tl(this);var e=this;return Ul(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dl(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))}),kl(e)}).then(Sl))},t.cd=function(t){var e=this;return Ul(this,Pl(this).then(function(n){return W(Cl(e),t)?function(t,e,n){return Zs(t,Is,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Cl(e),function(t){n[t]||xl(e,t)}),n[Ro.PROVIDER_ID]||Qr(e,"phoneNumber",null),kl(e)}):kl(e).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var t=this;return Ul(this,this.I().then(function(e){return Zs(t.a,Es,{idToken:e})}).then(function(){t.dispatchEvent(new rl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");pl(t,null),vl(t,null),gl(t,null),t.J=[],t.D=!0,wl(t),Qr(t,"refreshToken",null),t.i&&xc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return jl(this,"linkViaPopup",t,function(){return Rl(e,t.providerId).then(function(){return kl(e)})},!1)},t.Nc=function(t){return jl(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Fc=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return Rl(e,t.providerId)},!1)},t.Oc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then(function(n){return ys(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ll(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,Te().then(function(){return so(gs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ll(i,t,"reauthenticate"),Dl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Ul(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Vi(new Ai(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Ul(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Ul(this,t=so(Te(t),n.uid).then(function(t){return e=Ll(n,t,"reauthenticate"),Dl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function zl(t){return Ju(t.b,Hl,t.a)}function Gl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),r=Ql("none");return function(t,e,n){var r=Zu(e,n),i=$u(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Wl,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,Kl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,w(this.g,this))}function Kl(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(Ju(t.b,Ql(Qu[n]),t.a));return r.push(Ju(t.b,Wl,t.a)),function(t){return new be(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],_(o,s),a);else e(i)})}(r)}Gl.prototype.g=function(){var t=this,e=Ql("local");Zl(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Kl(t,"local").then(function(){t.c=e})})})};var Wl={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Yl(t,e){return Zl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xl(t){return Zl(t,function(){return Ju(t.b,t.c,t.a)})}function $l(t,e,n){return Zl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ql(t||{})})})}function Zl(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Qr(this,"settings",new Gc),Qr(this,"app",t),!sh(this).options||!sh(this).options.apiKey)throw new S("invalid-api-key");t=qm.SDK_VERSION?Tr(qm.SDK_VERSION):null,this.a=new Ka(sh(this).options&&sh(this).options.apiKey,N(C),t),this.R=[],this.s=[],this.O=[],this.hb=qm.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=qm.INTERNAL.createSubscribe(w(this.Ac,this)),oh(this,null),this.i=new Gl(sh(this).options.apiKey+":"+sh(this).name),this.D=new Bl(sh(this).options.apiKey+":"+sh(this).name),this.$=hh(this,function(t){var e=sh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then(function(t){return t&&e&&(t.authDomain=e),ql(t||{})})}(t.D,sh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),zl(t.D)});return hh(t,e)}(t).then(function(){return $l(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Yl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)})):null}).then(function(e){oh(t,e||null)});return hh(t,n)}(this)),this.h=hh(this,function(t){return t.$.then(function(){return ih(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=sh(t).options.authDomain,n=sh(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,sh(t).name,t.P),Ac(t.b,t),uh(t)&&El(uh(t)),t.m){El(t.m);var r=t.m;r.wa(t.la()),pl(r,t),yl(r=t.m,t.J),gl(r,t),ts((r=t.m).a,t.P),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function th(t){Ye.call(this,"languageCodeChanged"),this.h=t}function eh(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function nh(t){Ye.call(this,"frameworkChanged"),this.f=t}function rh(t){return t.Oa||Ce(new S("auth-domain-config-required"))}function ih(t){if(!Or())return Ce(new S("operation-not-supported-in-this-environment"));var e=rh(t).then(function(){return t.b.qa()}).then(function(t){return t?Xr(t):null});return hh(t,e)}function oh(t,e){uh(t)&&(function(t,e){Y(t.S,function(t){return t==e})}(uh(t),t.Ba),hn(uh(t),"tokenChanged",t.ya),hn(uh(t),"userDeleted",t.za),hn(uh(t),"userInvalidated",t.Aa),wl(uh(t))),e&&(e.S.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&bl(e)),Qr(t,"currentUser",e),e&&(e.wa(t.la()),pl(e,t),yl(e,t.J),gl(e,t),ts(e.a,t.P),vl(e,t))}function ah(t,e){var n=null,r=null;return hh(t,e.then(function(e){return n=Mo(e),r=Wi(e),function(t,e){var n={};return n.apiKey=sh(t).options.apiKey,n.authDomain=sh(t).options.authDomain,n.appName=sh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new dl(t,e);return n&&(i.ha=n),r&&yl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return uh(t)&&e.uid==uh(t).uid?(Nl(uh(t),e),t.da(e)):(oh(t,e),El(e),t.da(e))}).then(function(){lh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Xr({user:uh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function sh(t){return t.app}function uh(t){return t.currentUser}function ch(t){return uh(t)&&uh(t)._lat||null}function lh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ch(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ch(t))}}function hh(t,e){return t.R.push(e),e.oa(function(){Q(t.R,e)}),e}function fh(){}function dh(){this.a={},this.b=1e12}Gl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Zl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Kl(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):Te()})},E(Jl,wn),E(th,Ye),E(eh,Ye),E(nh,Ye),(t=Jl.prototype).xb=function(t){return hh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Ja(this.a,this.aa),this.dispatchEvent(new th(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&gr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ts(this.a,this.P),this.dispatchEvent(new eh(this.P))}},t.Gc=function(t){this.J.push(t),ns(this.a,qm.SDK_VERSION?Tr(qm.SDK_VERSION,this.J):null),this.dispatchEvent(new nh(this.J))},t.Ga=function(){return $(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:sh(this).options.apiKey,authDomain:sh(this).options.authDomain,appName:sh(this).name,currentUser:uh(this)&&uh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ah(i,vs(i.a,o))})},t.Xc=function(t){if(!Or())return Ce(new S("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),r=jr(),i=null;(!Dr()||br())&&sh(this).options.authDomain&&t.isOAuthProvider&&(i=du(sh(this).options.authDomain,sh(this).options.apiKey,sh(this).name,"signInViaPopup",t,null,r,qm.SDK_VERSION||null,null,null,this.T(),this.P));var o=pr(i,n&&n.ua,n&&n.ta);return hh(this,n=rh(this).then(function(n){return Pc(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new be(function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Lc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&dr(o),t?Xr(t):null}).o(function(t){throw o&&dr(o),t}))},t.Yc=function(t){if(!Or())return Ce(new S("operation-not-supported-in-this-environment"));var e=this;return hh(this,rh(this).then(function(){return function(t){return Zl(t,function(){return t.b.set(Wl,t.c.F,t.a)})}(e.i)}).then(function(){return Rc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return ih(this).then(function(e){return t.b&&qc(t.b.b),e}).o(function(e){throw t.b&&qc(t.b.b),e})},t.dd=function(t){if(!t)return Ce(new S("null-user"));if(this.S!=t.tenantId)return Ce(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=sh(this).options.apiKey,n.authDomain=sh(this).options.authDomain,n.appName=sh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new dl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&yl(e,r),Nl(e,t),e}(t,n,e.D,e.Ga());return hh(this,this.h.then(function(){if(sh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return uh(e)&&t.uid==uh(e).uid?(Nl(uh(e),t),e.da(t)):(oh(e,r),El(r),e.da(r))}).then(function(){lh(e)}))},t.Ab=function(){var t=this;return hh(this,this.h.then(function(){return t.b&&qc(t.b.b),uh(t)?(oh(t,null),Xl(t.i).then(function(){lh(t)})):Te()}))},t.Zc=function(){var t=this;return $l(this.i,sh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=uh(t)&&e){n=uh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nl(uh(t),e),uh(t).I();(uh(t)||e)&&(oh(t,e),e&&(El(e),e.ha=t.D),t.b&&Ac(t.b,t),lh(t))}})},t.da=function(t){return Yl(this.i,t)},t.mc=function(){lh(this),this.da(uh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return ah(e,Te(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(uh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),hh(t,t.h.then(function(){!t.l&&W(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ch(t)))}))}(this,function(){t.next(uh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return hh(this,this.h.then(function(){return uh(e)?uh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ah(e,Zs(e.a,Ks,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ah(n,Zs(n.a,Ws,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ah(n,Zs(n.a,_s,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return ah(e,t.ka(e.a))})},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=uh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ah(t,t.a.zb()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return uh(this)&&uh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&uh(this)&&bl(uh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&uh(this)&&wl(uh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),hh(this,this.h.then(function(){e.l||W(e.s,t)&&t(ch(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(xc(this.b,this),qc(this.b.b)),Promise.resolve()},t.hc=function(t){return hh(this,function(t,e){return Zs(t,ks,{identifier:e,continueUri:Nr()?cr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.wb=function(t,e){var n=this;return hh(this,Te().then(function(){var t=new Ai(e);if(!t.c)throw new S("argument-error",Ni+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return hh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return hh(this,this.a.Ra(t).then(function(t){return new oi(t)}))},t.jb=function(t){return hh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return hh(this,Te().then(function(){return void 0===e||dt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return hh(this,Wc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return hh(this,Te().then(function(){var r=e||cr(),i=xo(t,r);if(!(r=Oo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)}))},fh.prototype.render=function(){},fh.prototype.reset=function(){},fh.prototype.getResponse=function(){},fh.prototype.execute=function(){};var ph=null;function vh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function gh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function mh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function wh(){}dh.prototype.render=function(t,e){return this.a[this.b.toString()]=new gh(t,e),this.b++},dh.prototype.reset=function(t){var e=vh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},dh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},dh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},gh.prototype.getResponse=function(){return mh(this),this.b},gh.prototype.execute=function(){mh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},gh.prototype.delete=function(){mh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Qr(bh,"FACTOR_ID","phone"),wh.prototype.g=function(){return ph||(ph=new dh),Te(ph)},wh.prototype.c=function(){};var _h=null;function kh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new mt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new Ur(3e4,6e4);kh.prototype.g=function(t){var e=this;return new be(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},Ih.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete a[e.a]},Te(Fa(Tt(Eh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},kh.prototype.c=function(){this.b--};var Sh=null;function Th(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(_h||(_h=new wh),s=_h):(Sh||(Sh=new kh),s=Sh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ka(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ch];this.a[Ch]=function(t){if(Nh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,a);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Nh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,a);"function"==typeof t&&t()}}}var Ch="callback",Ah="expired-callback",xh="sitekey",Oh="size";function Nh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ph(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Dh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var r=!1;try{this.b=n||qm.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=qm.SDK_VERSION?Tr(qm.SDK_VERSION,o):null,Th.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(e){t=null}return t},o,N(C),r)}function Lh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Th.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,Te().then(function(){if(Nr()&&!wr())return gr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Zs(t.s,Ls,{})}).then(function(e){t.a[xh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Ph(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=de(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Ph(this,this.render().then(function(e){return new be(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){Y(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Rh,Th);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Uh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Bh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Hh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return p(t)&&"string"==typeof t.uid}function Gh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Yh(r,t[n],e[n].j)}}function Wh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Lh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Yh(e,n,r)}function Yh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh(Jl.prototype,{jb:{name:"applyActionCode",j:[jh("code")]},Ra:{name:"checkActionCode",j:[jh("code")]},nb:{name:"confirmPasswordReset",j:[jh("code"),jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[jh("email"),jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[jh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[jh("email"),Fh("actionCodeSettings")]},xb:{name:"setPersistence",j:[jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[jh("email"),jh("password")]},Vc:{name:"signInWithEmailLink",j:[jh("email"),jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof dl)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[jh("url"),Fh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[jh("code")]}}),Wh(Jl.prototype,{lc:{name:"languageCode",kb:Gh(jh(),qh(),"languageCode")},ti:{name:"tenantId",kb:Gh(jh(),qh(),"tenantId")}}),(Jl.Persistence=Qu).LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Kh(dl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},qb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},tb:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jh(null,!0)]},cd:{name:"unlink",j:[jh("provider")]},Bb:{name:"updateEmail",j:[jh("email")]},Cb:{name:"updatePassword",j:[jh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Db:{name:"updateProfile",j:[Fh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[jh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),Kh(Kc.prototype,{confirm:{name:"confirm",j:[jh("verificationCode")]}}),Qh(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,Co,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Gh(jh(),Fh(),"json")]),Qh(Ao,"credential",function(t,e){return new To(t,e)},[jh("email"),jh("password")]),Kh(To.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Kh(mo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(mo,"credential",bo,[Gh(jh(),Fh(),"token")]),Qh(Ao,"credentialWithLink",xo,[jh("email"),jh("emailLink")]),Kh(wo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(wo,"credential",_o,[Gh(jh(),Fh(),"token")]),Kh(ko.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(ko,"credential",Eo,[Gh(jh(),Gh(Fh(),qh()),"idToken"),Gh(jh(),qh(),"accessToken",!0)]),Kh(Io.prototype,{Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(Io,"credential",So,[Gh(jh(),Fh(),"token"),jh("secret",!0)]),Kh(go.prototype,{Ca:{name:"addScope",j:[jh("scope")]},credential:{name:"credential",j:[Gh(jh(),Gh(Fh(),qh()),"optionsOrIdToken"),Gh(jh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Kh(ho.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Kh(uo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Qh(Ro,"credential",Lo,[jh("verificationId"),jh("verificationCode")]),Kh(Ro.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,oo)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Kh(No.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Kh(S.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Kh(Ho.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Kh(Zc.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Kh(Yc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Kh(il.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},jh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zh},jh(),"multiFactorInfoIdentifier")]}}),Kh(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(bi,"parseLink",Ci,[jh("link")]),Qh(bh,"assertion",function(t){return new nl(t)},[Bh("phone")]),function(){if(void 0===qm||!qm.INTERNAL||!qm.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:ao,Error:S};Qh(t,"EmailAuthProvider",Ao,[]),Qh(t,"FacebookAuthProvider",mo,[]),Qh(t,"GithubAuthProvider",wo,[]),Qh(t,"GoogleAuthProvider",ko,[]),Qh(t,"TwitterAuthProvider",Io,[]),Qh(t,"OAuthProvider",go,[jh("providerId")]),Qh(t,"SAMLAuthProvider",yo,[jh("providerId")]),Qh(t,"PhoneAuthProvider",Ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Jl)}}]),Qh(t,"RecaptchaVerifier",Rh,[Gh(jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Fh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof qm.app.App)}}]),Qh(t,"ActionCodeURL",bi,[]),Qh(t,"PhoneMultiFactorGenerator",bh,[]),qm.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),qm.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),qm.registerVersion("@firebase/auth","0.16.3"),qm.INTERNAL.extendNamespace({User:dl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var $b=function(t,e){return($b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Zb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Jb,tw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ew=ew||{},nw=tw||self;function rw(){}function iw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ow(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var aw="closure_uid_"+(1e9*Math.random()>>>0),sw=0;function uw(t,e,n){return t.call.apply(t.bind,arguments)}function cw(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lw(t,e,n){return(lw=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uw:cw).apply(null,arguments)}function hw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function fw(){return Date.now()}function dw(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function pw(){this.j=this.j,this.i=this.i}pw.prototype.j=!1,pw.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,aw)&&t[aw]||(t[aw]=++sw)}(this)},pw.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yw=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function gw(t){return Array.prototype.concat.apply([],arguments)}function mw(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bw(t){return/^[\s\xa0]*$/.test(t)}var ww,_w=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kw(t,e){return-1!=t.indexOf(e)}function Ew(t,e){return t<e?-1:t>e?1:0}t:{var Iw=nw.navigator;if(Iw){var Sw=Iw.userAgent;if(Sw){ww=Sw;break t}}ww=""}function Tw(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Cw(t){var e={};for(var n in t)e[n]=t[n];return e}var Aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xw(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Aw.length;o++)n=Aw[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ow(t){return Ow[" "](t),t}Ow[" "]=rw;var Nw,Pw,Dw=kw(ww,"Opera"),Rw=kw(ww,"Trident")||kw(ww,"MSIE"),Lw=kw(ww,"Edge"),Mw=Lw||Rw,jw=kw(ww,"Gecko")&&!(kw(ww.toLowerCase(),"webkit")&&!kw(ww,"Edge"))&&!(kw(ww,"Trident")||kw(ww,"MSIE"))&&!kw(ww,"Edge"),Vw=kw(ww.toLowerCase(),"webkit")&&!kw(ww,"Edge");function Fw(){var t=nw.document;return t?t.documentMode:void 0}t:{var Uw="",qw=(Pw=ww,jw?/rv:([^\);]+)(\)|;)/.exec(Pw):Lw?/Edge\/([\d\.]+)/.exec(Pw):Rw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Pw):Vw?/WebKit\/(\S+)/.exec(Pw):Dw?/(?:Version)[ \/]?(\S+)/.exec(Pw):void 0);if(qw&&(Uw=qw?qw[1]:""),Rw){var Bw=Fw();if(null!=Bw&&Bw>parseFloat(Uw)){Nw=String(Bw);break t}}Nw=Uw}var Hw={};function zw(t){return function(t,e){var n=Hw;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=_w(String(Nw)).split("."),r=_w(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ew(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ew(0==a[2].length,0==s[2].length)||Ew(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Gw=nw.document&&Rw&&(Fw()||parseInt(Nw,10))||void 0,Kw=!Rw||9<=Number(Gw),Ww=Rw&&!zw("9"),Qw=function(){if(!nw.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nw.addEventListener("test",rw,e),nw.removeEventListener("test",rw,e)}catch(n){}return t}();function Yw(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Xw(t,e){if(Yw.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jw){t:{try{Ow(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$w[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Yw.prototype.b=function(){this.defaultPrevented=!0},dw(Xw,Yw);var $w={2:"touch",3:"pen",4:"mouse"};Xw.prototype.b=function(){Xw.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ww)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Zw="closure_listenable_"+(1e6*Math.random()|0),Jw=0;function t_(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Jw,this.Y=this.Z=!1}function e_(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function n_(t){this.src=t,this.a={},this.b=0}function r_(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vw(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(e_(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function i_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}n_.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=i_(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new t_(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var o_="closure_lm_"+(1e6*Math.random()|0),a_={};function s_(t,e,n,r,i){if(r&&r.once)return c_(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)s_(t,e[o],n,r,i);return null}return n=g_(n),t&&t[Zw]?t.va(e,n,ow(r)?!!r.capture:!!r,i):u_(t,e,n,!1,r,i)}function u_(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ow(i)?!!i.capture:!!i;if(a&&!Kw)return null;var s=v_(t);if(s||(t[o_]=s=new n_(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=p_,e=Kw?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qw||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f_(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function c_(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)c_(t,e[o],n,r,i);return null}return n=g_(n),t&&t[Zw]?t.wa(e,n,ow(r)?!!r.capture:!!r,i):u_(t,e,n,!0,r,i)}function l_(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)l_(t,e[o],n,r,i);else r=ow(r)?!!r.capture:!!r,n=g_(n),t&&t[Zw]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=i_(o=t.a[e],n,r,i))&&(e_(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=v_(t))&&(e=t.a[e.toString()],t=-1,e&&(t=i_(e,n,r,i)),(n=-1<t?e[t]:null)&&h_(n))}function h_(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zw])r_(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=v_(e))?(r_(n,t),0==n.b&&(n.src=null,e[o_]=null)):e_(t)}}}function f_(t){return t in a_?a_[t]:a_[t]="on"+t}function d_(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&h_(t),n.call(r,e)}function p_(t,e){if(t.Y)return!0;if(!Kw){if(!e)t:{e=["window","event"];for(var n=nw,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return d_(t,e=new Xw(e,this))}return d_(t,new Xw(e,this))}function v_(t){return(t=t[o_])instanceof n_?t:null}var y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function g_(t){return"function"==typeof t?t:(t[y_]||(t[y_]=function(e){return t.handleEvent(e)}),t[y_])}function m_(){pw.call(this),this.c=new n_(this),this.J=this,this.C=null}function b_(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Yw(e,t);else if(e instanceof Yw)e.target=e.target||t;else{var i=e;xw(e=new Yw(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=w_(a,r,!0,e)&&i}if(i=w_(a=e.a=t,r,!0,e)&&i,i=w_(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=w_(a=e.a=n[o],r,!1,e)&&i}function w_(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&r_(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}dw(m_,pw),m_.prototype[Zw]=!0,(Jb=m_.prototype).addEventListener=function(t,e,n,r){s_(this,t,e,n,r)},Jb.removeEventListener=function(t,e,n,r){l_(this,t,e,n,r)},Jb.G=function(){if(m_.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)e_(n[r]);delete e.a[t],e.b--}}this.C=null},Jb.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Jb.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var __=nw.JSON.stringify;function k_(){this.b=this.a=null}var E_,I_=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new T_},function(t){t.reset()});function S_(){var t=O_,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function T_(){this.next=this.b=this.a=null}function C_(t){nw.setTimeout(function(){throw t},0)}function A_(t,e){E_||function(){var t=nw.Promise.resolve(void 0);E_=function(){t.then(N_)}}(),x_||(E_(),x_=!0),O_.add(t,e)}k_.prototype.add=function(t,e){var n=I_.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},T_.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},T_.prototype.reset=function(){this.next=this.b=this.a=null};var x_=!1,O_=new k_;function N_(){for(var t;t=S_();){try{t.a.call(t.b)}catch(n){C_(n)}var e=I_;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}x_=!1}function P_(t,e){m_.call(this),this.b=t||1,this.a=e||nw,this.f=lw(this.Za,this),this.g=fw()}function D_(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function R_(t,e,n){if("function"==typeof t)n&&(t=lw(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lw(t.handleEvent,t)}return 2147483647<Number(e)?-1:nw.setTimeout(t,e||0)}function L_(t){t.a=R_(function(){t.a=null,t.c&&(t.c=!1,L_(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}dw(P_,m_),(Jb=P_.prototype).aa=!1,Jb.M=null,Jb.Za=function(){if(this.aa){var t=fw()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),b_(this,"tick"),this.aa&&(D_(this),this.start()))}},Jb.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=fw())},Jb.G=function(){P_.X.G.call(this),D_(this),delete this.a};var M_=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}$b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:L_(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(nw.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pw);function j_(t){pw.call(this),this.b=t,this.a={}}dw(j_,pw);var V_=[];function F_(t,e,n,r){Array.isArray(n)||(n&&(V_[0]=n.toString()),n=V_);for(var i=0;i<n.length;i++){var o=s_(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function U_(t){Tw(t.a,function(t,e){this.a.hasOwnProperty(e)&&h_(t)},t),t.a={}}function q_(){this.a=!0}function B_(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return __(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}j_.prototype.G=function(){j_.X.G.call(this),U_(this)},j_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},q_.prototype.info=function(){};var H_={},z_=null;function G_(){return z_=z_||new m_}function K_(t){Yw.call(this,H_.Fa,t)}function W_(t){var e=G_();b_(e,new K_(e,t))}function Q_(t,e){Yw.call(this,H_.STAT_EVENT,t),this.stat=e}function Y_(t){var e=G_();b_(e,new Q_(e,t))}function X_(t){Yw.call(this,H_.Ga,t)}function $_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nw.setTimeout(function(){t()},e)}H_.Fa="serverreachability",dw(K_,Yw),H_.STAT_EVENT="statevent",dw(Q_,Yw),H_.Ga="timingevent",dw(X_,Yw);var Z_={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},J_={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function tk(){}function ek(){}tk.prototype.a=null;var nk,rk={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ik(){Yw.call(this,"d")}function ok(){Yw.call(this,"c")}function ak(){}function sk(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new j_(this),this.P=uk,this.R=new P_(t=Mw?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}dw(ik,Yw),dw(ok,Yw),dw(ak,tk),nk=new ak;var uk=45e3,ck={},lk={};function hk(t,e,n){t.H=1,t.i=Dk(Ck(e)),t.j=n,t.I=!0,fk(t,null)}function fk(t,e){t.u=fw(),vk(t),t.l=Ck(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kk(n.b,"t",r),t.D=0,t.a=UE(t.g,t.g.C?e:null),0<t.O&&(t.F=new M_(lw(t.Ca,t,t.a),t.O)),F_(t.J,t.a,"readystatechange",t.Xa),e=t.B?Cw(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),W_(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function dk(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=pk(t,n);if(i==lk){4==e&&(t.h=4,Y_(14),r=!1),B_(t.c,t.f,null,"[Incomplete Response]");break}if(i==ck){t.h=4,Y_(15),B_(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}B_(t.c,t.f,i,null),wk(t,i)}4==e&&0==n.length&&(t.h=1,Y_(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),PE(e),e.F=!0,Y_(11))):(B_(t.c,t.f,n,"[Invalid Chunked Response]"),bk(t),mk(t))}function pk(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?lk:(n=Number(e.substring(n,r)),isNaN(n)?ck:(r+=1)+n>e.length?lk:(e=e.substr(r,n),t.D=r+n,e))}function vk(t){t.T=fw()+t.P,yk(t,t.P)}function yk(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$_(lw(t.Va,t),e)}function gk(t){t.o&&(nw.clearTimeout(t.o),t.o=null)}function mk(t){0==t.g.v||t.A||LE(t.g,t)}function bk(t){gk(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,D_(t.R),U_(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function wk(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Jk(n.b,t)))if(n.I=t.N,!t.C&&Jk(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;RE(n),EE(n)}NE(n),Y_(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$_(lw(n.Sa,n),6e3));if(1>=Zk(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else jE(n,11)}else if((t.C||n.a==t)&&RE(n),!bw(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(kw(l,"spdy")||kw(l,"quic")||kw(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(tE(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Pk(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=fw()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=FE(u,u.C?u.ga:null,u.fa),d.C){eE(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(gk(p),vk(p)),u.a=d}else OE(u);0<n.g.length&&TE(n)}else"stop"!=i[0]&&"close"!=i[0]||jE(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jE(n,7):kE(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);W_(4)}catch(y){}}function _k(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(iw(t)||"string"==typeof t)yw(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(iw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(iw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function kk(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kk)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ek(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ik(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ik(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ik(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Jb=sk.prototype).setTimeout=function(t){this.P=t},Jb.Xa=function(t){t=t.target;var e=this.F;e&&3==mE(t)?e.f():this.Ca(t)},Jb.Ca=function(t){try{if(t==this.a)t:{var e=mE(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mw&&!this.a.$())){this.A||4!=e||7==n||W_(8==n||0>=r?3:2),gk(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bw(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Y_(12),bk(this),mk(this);break t}B_(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wk(this,u)}this.I?(dk(this,e,o),Mw&&this.b&&3==e&&(F_(this.J,this.R,"tick",this.Wa),this.R.start())):(B_(this.c,this.f,o,null),wk(this,o)),4==e&&bk(this),this.b&&!this.A&&(4==e?LE(this.g,this):(this.b=!1,vk(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Y_(12)):(this.h=0,Y_(13)),bk(this),mk(this)}}}catch(c){}},Jb.Wa=function(){if(this.a){var t=mE(this.a),e=this.a.$();this.D<e.length&&(gk(this),dk(this,t,e),this.b&&4!=t&&vk(this))}},Jb.cancel=function(){this.A=!0,bk(this)},Jb.Va=function(){this.o=null;var t=fw();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(W_(3),Y_(17)),bk(this),this.h=2,mk(this)):yk(this,this.T-t)},(Jb=kk.prototype).K=function(){Ek(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Jb.L=function(){return Ek(this),this.a.concat()},Jb.get=function(t,e){return Ik(this.b,t)?this.b[t]:e},Jb.set=function(t,e){Ik(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Jb.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tk(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Tk){this.a=void 0!==e?e:t.a,Ak(this,t.f),this.j=t.j,xk(this,t.c),Ok(this,t.h),this.g=t.g,e=t.b;var n=new Bk;n.c=e.c,e.a&&(n.a=new kk(e.a),n.b=e.b),Nk(this,n),this.i=t.i}else t&&(n=String(t).match(Sk))?(this.a=!!e,Ak(this,n[1]||"",!0),this.j=Rk(n[2]||""),xk(this,n[3]||"",!0),Ok(this,n[4]),this.g=Rk(n[5]||"",!0),Nk(this,n[6]||"",!0),this.i=Rk(n[7]||"")):(this.a=!!e,this.b=new Bk(null,this.a))}function Ck(t){return new Tk(t)}function Ak(t,e,n){t.f=n?Rk(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xk(t,e,n){t.c=n?Rk(e,!0):e}function Ok(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Nk(t,e,n){e instanceof Bk?(t.b=e,function(t,e){e&&!t.f&&(Hk(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(zk(this,e),Kk(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Lk(e,Uk)),t.b=new Bk(e,t.a))}function Pk(t,e,n){t.b.set(e,n)}function Dk(t){return Pk(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^fw()).toString(36)),t}function Rk(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lk(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mk(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tk.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Lk(e,jk,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Lk(e,jk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lk(n,"/"==n.charAt(0)?Fk:Vk,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Lk(n,qk)),t.join("")};var jk=/[#\/\?@]/g,Vk=/[#\?:]/g,Fk=/[#\?]/g,Uk=/[#\?@]/g,qk=/#/g;function Bk(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hk(t){t.a||(t.a=new kk,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zk(t,e){Hk(t),e=Wk(t,e),Ik(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ik((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ek(t)))}function Gk(t,e){return Hk(t),e=Wk(t,e),Ik(t.a.b,e)}function Kk(t,e,n){zk(t,e),0<n.length&&(t.c=null,t.a.set(Wk(t,e),mw(n)),t.b+=n.length)}function Wk(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Jb=Bk.prototype).add=function(t,e){Hk(this),this.c=null,t=Wk(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Jb.forEach=function(t,e){Hk(this),this.a.forEach(function(n,r){yw(n,function(n){t.call(e,n,r,this)},this)},this)},Jb.L=function(){Hk(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Jb.K=function(t){Hk(this);var e=[];if("string"==typeof t)Gk(this,t)&&(e=gw(e,this.a.get(Wk(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=gw(e,t[n])}return e},Jb.set=function(t,e){return Hk(this),this.c=null,Gk(this,t=Wk(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Jb.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Jb.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Qk=function(t,e){this.b=t,this.a=e};function Yk(t){this.g=t||Xk,t=nw.PerformanceNavigationTiming?0<(t=nw.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nw.ia&&nw.ia.ya&&nw.ia.ya()&&nw.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Xk=10;function $k(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zk(t){return t.b?1:t.a?t.a.size:0}function Jk(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function tE(t,e){t.a?t.a.add(e):t.b=e}function eE(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nE(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Zb(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return mw(t.c)}function rE(){}function iE(){this.a=new rE}function oE(t,e,n){var r=n||"";try{_k(t,function(t,n){var i=t;ow(t)&&(i=__(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(cR){throw e.push(r+"type="+encodeURIComponent("_badmap")),cR}}function aE(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Yk.prototype.cancel=function(){var t,e;if(this.c=nE(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Zb(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},rE.prototype.stringify=function(t){return nw.JSON.stringify(t,void 0)},rE.prototype.parse=function(t){return nw.JSON.parse(t,void 0)};var sE=nw.JSON.parse;function uE(t){m_.call(this),this.headers=new kk,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=cE,this.D=this.F=!1}dw(uE,m_);var cE="",lE=/^https?$/i,hE=["POST","PUT"];function fE(t){return"content-type"==t.toLowerCase()}function dE(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pE(t),yE(t)}function pE(t){t.u||(t.u=!0,b_(t,"complete"),b_(t,"error"))}function vE(t){if(t.b&&void 0!==ew&&(!t.s[1]||4!=mE(t)||2!=t.W()))if(t.l&&4==mE(t))R_(t.za,0,t);else if(b_(t,"readystatechange"),4==mE(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Sk)[1]||null;if(!o&&nw.self&&nw.self.location){var a=nw.self.location.protocol;o=a.substr(0,a.length-1)}i=!lE.test(o?o.toLowerCase():"")}e=i}if(e)b_(t,"complete"),b_(t,"success");else{t.h=6;try{var s=2<mE(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",pE(t)}}finally{yE(t)}}}function yE(t,e){if(t.a){gE(t);var n=t.a,r=t.s[0]?rw:null;t.a=null,t.s=null,e||b_(t,"ready");try{n.onreadystatechange=r}catch(cR){}}}function gE(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(nw.clearTimeout(t.m),t.m=null)}function mE(t){return t.a?t.a.readyState:0}function bE(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Tw(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pk(t,e,n))}function wE(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _E(t){this.pa=0,this.g=[],this.c=new q_,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wE("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wE("baseRetryDelayMs",5e3,t),this.Ra=wE("retryDelaySeedMs",1e4,t),this.Ma=wE("forwardChannelMaxRetries",2,t),this.ma=wE("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Yk(t&&t.concurrentRequestLimit),this.ka=new iE,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function kE(t){if(IE(t),3==t.v){var e=t.R++,n=Ck(t.B);Pk(n,"SID",t.J),Pk(n,"RID",e),Pk(n,"TYPE","terminate"),AE(t,n),(e=new sk(t,t.c,e,void 0)).H=2,e.i=Dk(Ck(n)),n=!1,nw.navigator&&nw.navigator.sendBeacon&&(n=nw.navigator.sendBeacon(e.i.toString(),"")),!n&&nw.Image&&((new Image).src=e.i,n=!0),n||(e.a=UE(e.g,null),e.a.ba(e.i)),e.u=fw(),vk(e)}VE(t)}function EE(t){t.a&&(PE(t),t.a.cancel(),t.a=null)}function IE(t){EE(t),t.j&&(nw.clearTimeout(t.j),t.j=null),RE(t),t.b.cancel(),t.h&&("number"==typeof t.h&&nw.clearTimeout(t.h),t.h=null)}function SE(t,e){t.g.push(new Qk(t.Oa++,e)),3==t.v&&TE(t)}function TE(t){$k(t.b)||t.h||(t.h=!0,A_(t.Ba,t),t.u=0)}function CE(t,e){var n;n=e?e.f:t.R++;var r=Ck(t.B);Pk(r,"SID",t.J),Pk(r,"RID",n),Pk(r,"AID",t.P),AE(t,r),t.i&&t.l&&bE(r,t.i,t.l),n=new sk(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=xE(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),tE(t.b,n),hk(n,r,e)}function AE(t,e){t.f&&_k({},function(t,n){Pk(e,n,t)})}function xE(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lw(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{oE(l,a,"req"+c+"_")}catch(_I){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function OE(t){t.a||t.j||(t.T=1,A_(t.Aa,t),t.o=0)}function NE(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=$_(lw(t.Aa,t),ME(t,t.o)),t.o++,0))}function PE(t){null!=t.s&&(nw.clearTimeout(t.s),t.s=null)}function DE(t){t.a=new sk(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ck(t.la);Pk(e,"RID","rpc"),Pk(e,"SID",t.J),Pk(e,"CI",t.H?"0":"1"),Pk(e,"AID",t.P),AE(t,e),Pk(e,"TYPE","xmlhttp"),t.i&&t.l&&bE(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Dk(Ck(e)),n.j=null,n.I=!0,fk(n,t)}function RE(t){null!=t.m&&(nw.clearTimeout(t.m),t.m=null)}function LE(t,e){var n=null;if(t.a==e){RE(t),PE(t),t.a=null;var r=2}else{if(!Jk(t.b,e))return;n=e.s,eE(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=fw()-e.u;var i=t.u;b_(r=G_(),new X_(r,n,e,i)),TE(t)}else OE(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zk(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=$_(lw(t.Ba,t,e),ME(t,t.u)),t.u++,0)))}(t,e)||2==r&&NE(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jE(t,5);break;case 4:jE(t,10);break;case 3:jE(t,6);break;default:jE(t,2)}}function ME(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function jE(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lw(t.Ya,t);n||(n=new Tk("//www.google.com/images/cleardot.gif"),nw.location&&"http"==nw.location.protocol||Ak(n,"https"),Dk(n)),function(t,e){var n=new q_;if(nw.Image){var r=new Image;r.onload=hw(aE,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hw(aE,n,r,"TestLoadImage: error",!1,e),r.onabort=hw(aE,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hw(aE,n,r,"TestLoadImage: timeout",!1,e),nw.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Y_(2);t.v=0,t.f&&t.f.ra(e),VE(t),IE(t)}function VE(t){t.v=0,t.I=-1,t.f&&(0==nE(t.b).length&&0==t.g.length||(t.b.c.length=0,mw(t.g),t.g.length=0),t.f.qa())}function FE(t,e,n){var r=function(t){return t instanceof Tk?Ck(t):new Tk(t,void 0)}(n);if(""!=r.c)e&&xk(r,e+"."+r.c),Ok(r,r.h);else{var i=nw.location;r=function(t,e,n,r){var i=new Tk(null,void 0);return t&&Ak(i,t),e&&xk(i,e),n&&Ok(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Tw(t.V,function(t,e){Pk(r,e,t)}),n=t.na,(e=t.A)&&n&&Pk(r,e,n),Pk(r,"VER",t.ha),AE(t,r),r}function UE(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new uE(t.Na)).F=t.C,e}function qE(){}function BE(){if(Rw&&!(10<=Number(Gw)))throw Error("Environmental error: no available transport.")}function HE(t,e){m_.call(this),this.a=new _E(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bw(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bw(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new KE(this)}function zE(t){ik.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function GE(){ok.call(this),this.status=1}function KE(t){this.a=t}(Jb=uE.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:nk),this.a.onreadystatechange=lw(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void dE(this,o)}t=n||"";var i=new kk(this.headers);r&&_k(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=fE,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=nw.FormData&&t instanceof nw.FormData,!(0<=vw(hE,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{gE(this),0<this.o&&((this.D=function(t){return Rw&&zw(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=lw(this.xa,this)):this.m=R_(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){dE(this,o)}},Jb.xa=function(){void 0!==ew&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,b_(this,"timeout"),this.abort(8))},Jb.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,b_(this,"complete"),b_(this,"abort"),yE(this))},Jb.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yE(this,!0)),uE.X.G.call(this)},Jb.za=function(){this.j||(this.A||this.l||this.g?vE(this):this.Ua())},Jb.Ua=function(){vE(this)},Jb.W=function(){try{return 2<mE(this)?this.a.status:-1}catch(Pw){return-1}},Jb.$=function(){try{return this.a?this.a.responseText:""}catch(Pw){return""}},Jb.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sE(e)}},Jb.ua=function(){return this.h},Jb.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Jb=_E.prototype).ha=8,Jb.v=1,Jb.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new sk(this,this.c,t,void 0),r=this.l;if(this.O&&(r?xw(r=Cw(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=xE(this,n,e),Pk(i=Ck(this.B),"RID",t),Pk(i,"CVER",22),this.A&&Pk(i,"X-HTTP-Session-Id",this.A),AE(this,i),this.i&&r&&bE(i,this.i,r),tE(this.b,n),this.Ia&&Pk(i,"TYPE","init"),this.da?(Pk(i,"$req",e),Pk(i,"SID","null"),n.U=!0,hk(n,i,null)):hk(n,i,e),this.v=2}}else 3==this.v&&(t?CE(this,t):0==this.g.length||$k(this.b)||CE(this))},Jb.Aa=function(){if(this.j=null,DE(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=$_(lw(this.Ta,this),t)}},Jb.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Y_(10),EE(this),DE(this))},Jb.Sa=function(){null!=this.m&&(this.m=null,EE(this),NE(this),Y_(19))},Jb.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Y_(2)):(this.c.info("Failed to ping google.com"),Y_(1))},(Jb=qE.prototype).ta=function(){},Jb.sa=function(){},Jb.ra=function(){},Jb.qa=function(){},Jb.Ja=function(){},BE.prototype.a=function(t,e){return new HE(t,e)},dw(HE,m_),HE.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Y_(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=FE(t,null,t.fa),TE(t)},HE.prototype.close=function(){kE(this.a)},HE.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,SE(this.a,e)}else this.l?((e={}).__data__=__(t),SE(this.a,e)):SE(this.a,t)},HE.prototype.G=function(){this.a.f=null,delete this.f,kE(this.a),delete this.a,HE.X.G.call(this)},dw(zE,ik),dw(GE,ok),dw(KE,qE),KE.prototype.ta=function(){b_(this.a,"a")},KE.prototype.sa=function(t){b_(this.a,new zE(t))},KE.prototype.ra=function(t){b_(this.a,new GE(t))},KE.prototype.qa=function(){b_(this.a,"b")},BE.prototype.createWebChannel=BE.prototype.a,HE.prototype.send=HE.prototype.h,HE.prototype.open=HE.prototype.g,HE.prototype.close=HE.prototype.close,Z_.NO_ERROR=0,Z_.TIMEOUT=8,Z_.HTTP_ERROR=6,J_.COMPLETE="complete",ek.EventType=rk,rk.OPEN="a",rk.CLOSE="b",rk.ERROR="c",rk.MESSAGE="d",m_.prototype.listen=m_.prototype.va,uE.prototype.listenOnce=uE.prototype.wa,uE.prototype.getLastError=uE.prototype.Qa,uE.prototype.getLastErrorCode=uE.prototype.ua,uE.prototype.getStatus=uE.prototype.W,uE.prototype.getResponseJson=uE.prototype.Pa,uE.prototype.getResponseText=uE.prototype.$,uE.prototype.send=uE.prototype.ba;var WE=Z_,QE=J_,YE=H_,XE=ek,$E=uE,ZE=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},JE=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),tI=new Tm("@firebase/firestore");function eI(){return tI.logLevel}function nI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tI.logLevel<=_m.DEBUG){var r=e.map(oI);tI.debug.apply(tI,Xg(["Firestore (8.2.6): "+t],r))}}function rI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tI.logLevel<=_m.ERROR){var r=e.map(oI);tI.error.apply(tI,Xg(["Firestore (8.2.6): "+t],r))}}function iI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tI.logLevel<=_m.WARN){var r=e.map(oI);tI.warn.apply(tI,Xg(["Firestore (8.2.6): "+t],r))}}function oI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(cR){return t}}function aI(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw rI(e),new Error(e)}function sI(t,e){t||aI()}function uI(t,e){return t}function cI(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lI=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=cI(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function hI(t,e){return t<e?-1:t>e?1:0}function fI(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function dI(t){return t+"\0"}var pI=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return hI(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();pI.T=new pI("");var vI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Hg(e,t),e}(Error),gI=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(pI.fromBase64String(e))}catch(e){throw new yI(vI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(pI.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),mI=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();mI.UNAUTHENTICATED=new mI(null),mI.R=new mI("google-credentials-uid"),mI.P=new mI("first-party-uid");var bI=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},wI=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(mI.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),_I=function(){function t(t){var e=this;this.D=null,this.currentUser=mI.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(nI("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sI("string"==typeof n.accessToken),new bI(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return sI(null===t||"string"==typeof t),new mI(t)},t}(),kI=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=mI.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),EI=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new kI(this.O,this.k))},t.prototype.v=function(t){t(mI.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),II=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();II.q=-1;var SI=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yI(vI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yI(vI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yI(vI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yI(vI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?hI(this.nanoseconds,t.nanoseconds):hI(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),TI=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new SI(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),CI=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&aI(),void 0===n?n=t.length-e:n>t.length-e&&aI(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),AI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new yI(vI.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(CI),xI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,OI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return xI.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yI(vI.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new yI(vI.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yI(vI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new yI(vI.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(CI),NI=function(){function t(t){this.path=t}return t._t=function(e){return new t(AI.ot(e))},t.ft=function(e){return new t(AI.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===AI.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return AI.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new AI(e.slice()))},t}();function PI(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function DI(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RI(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var LI=function(){function t(t){this.fields=t,t.sort(OI.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return fI(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jI(t){if(sI(!!t),"string"==typeof t){var e=0,n=MI.exec(t);if(sI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:VI(t.seconds),nanos:VI(t.nanos)}}function VI(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function FI(t){return"string"==typeof t?pI.fromBase64String(t):pI.fromUint8Array(t)}function UI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qI(t){var e=t.mapValue.fields.__previous_value__;return UI(e)?qI(e):e}function BI(t){var e=jI(t.mapValue.fields.__local_write_time__.timestampValue);return new SI(e.seconds,e.nanos)}function HI(t){return null==t}function zI(t){return 0===t&&1/t==-1/0}function GI(t){return"number"==typeof t&&Number.isInteger(t)&&!zI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function KI(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?UI(t)?4:10:aI()}function WI(t,e){var n=KI(t);if(n!==KI(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return BI(t).isEqual(BI(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jI(t.timestampValue),r=jI(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return FI(t.bytesValue).isEqual(FI(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return VI(t.geoPointValue.latitude)===VI(e.geoPointValue.latitude)&&VI(t.geoPointValue.longitude)===VI(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return VI(t.integerValue)===VI(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=VI(t.doubleValue),r=VI(e.doubleValue);return n===r?zI(n)===zI(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fI(t.arrayValue.values||[],e.arrayValue.values||[],WI);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(PI(n)!==PI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!WI(n[i],r[i])))return!1;return!0}(t,e);default:return aI()}}function QI(t,e){return void 0!==(t.values||[]).find(function(t){return WI(t,e)})}function YI(t,e){var n=KI(t),r=KI(e);if(n!==r)return hI(n,r);switch(n){case 0:return 0;case 1:return hI(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=VI(t.integerValue||t.doubleValue),r=VI(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return XI(t.timestampValue,e.timestampValue);case 4:return XI(BI(t),BI(e));case 5:return hI(t.stringValue,e.stringValue);case 6:return function(t,e){var n=FI(t),r=FI(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=hI(n[i],r[i]);if(0!==o)return o}return hI(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=hI(VI(t.latitude),VI(e.latitude));return 0!==n?n:hI(VI(t.longitude),VI(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=YI(n[i],r[i]);if(o)return o}return hI(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=hI(r[a],o[a]);if(0!==s)return s;var u=YI(n[r[a]],i[o[a]]);if(0!==u)return u}return hI(r.length,o.length)}(t.mapValue,e.mapValue);default:throw aI()}}function XI(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hI(t,e);var n=jI(t),r=jI(e),i=hI(n.seconds,r.seconds);return 0!==i?i:hI(n.nanos,r.nanos)}function $I(t){return ZI(t)}function ZI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jI(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?FI(t.bytesValue).toBase64():"referenceValue"in t?NI.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ZI(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ZI(t.fields[o])}return e+"}"}(t.mapValue):aI();var e}function JI(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function tS(t){return!!t&&"integerValue"in t}function eS(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iS(t){return!!t&&"mapValue"in t}var oS=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!iS(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return WI(this.proto,t.proto)},t}(),aS=function(){function t(t){void 0===t&&(t=oS.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===KI(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(OI.ct(),this.At);return null!=t?new oS(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=iS(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.yt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function sS(t){var e=[];return DI(t.fields||{},function(t,n){var r=new OI([t]);if(iS(n)){var i=sS(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new LI(e)}var uS=function(t,e){this.key=t,this.version=e},cS=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Hg(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(uS),lS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Hg(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uS),hS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uS),fS=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.vt=null};function dS(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new fS(t,e,n,r,i,o,a)}function pS(t){var e=uI(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+$I(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),HI(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=CS(e.startAt)),e.endAt&&(n+="|ub:",n+=CS(e.endAt)),e.vt=n}return e.vt}function vS(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!xS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!WI(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NS(t.startAt,e.startAt)&&NS(t.endAt,e.endAt)}function yS(t){return NI.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Hg(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new mS(t,n,r):"array-contains"===n?new kS(t,r):"in"===n?new ES(t,r):"not-in"===n?new IS(t,r):"array-contains-any"===n?new SS(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new bS(t,n):new wS(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(YI(e,this.value)):null!==e&&KI(this.value)===KI(e)&&this.Dt(YI(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return aI()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),mS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=NI.ft(r.referenceValue),i}return Hg(e,t),e.prototype.matches=function(t){var e=NI.H(t.key,this.key);return this.Dt(e)},e}(gS),bS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=_S(0,n),r}return Hg(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(gS),wS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=_S(0,n),r}return Hg(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(gS);function _S(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return NI.ft(t.referenceValue)})}var kS=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Hg(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return eS(e)&&QI(e.arrayValue,this.value)},e}(gS),ES=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Hg(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&QI(this.value.arrayValue,e)},e}(gS),IS=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Hg(e,t),e.prototype.matches=function(t){if(QI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!QI(this.value.arrayValue,e)},e}(gS),SS=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Hg(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!eS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return QI(e.value.arrayValue,t)})},e}(gS),TS=function(t,e){this.position=t,this.before=e};function CS(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return $I(t)}).join(",")}var AS=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function xS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function OS(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ut()?NI.H(NI.ft(a.referenceValue),n.key):YI(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function NS(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!WI(t.position[n],e.position[n]))return!1;return!0}var PS=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Nt=null,this.Ft=null};function DS(t,e,n,r,i,o,a,s){return new PS(t,e,n,r,i,o,a,s)}function RS(t){return new PS(t)}function LS(t){return!HI(t.limit)&&"F"===t.limitType}function MS(t){return!HI(t.limit)&&"L"===t.limitType}function jS(t){return t.xt.length>0?t.xt[0].field:null}function VS(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function FS(t){return null!==t.collectionGroup}function US(t){var e=uI(t);if(null===e.Nt){e.Nt=[];var n=VS(e),r=jS(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new AS(n)),e.Nt.push(new AS(OI.ht(),"asc"));else{for(var i=!1,o=0,a=e.xt;o<a.length;o++){var s=a[o];e.Nt.push(s),s.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new AS(OI.ht(),u))}}}return e.Nt}function qS(t){var e=uI(t);if(!e.Ft)if("F"===e.limitType)e.Ft=dS(e.path,e.collectionGroup,US(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=US(e);r<i.length;r++){var o=i[r];n.push(new AS(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new TS(e.endAt.position,!e.endAt.before):null,s=e.startAt?new TS(e.startAt.position,!e.startAt.before):null;e.Ft=dS(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.Ft}function BS(t,e,n){return new PS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function HS(t,e){return vS(qS(t),qS(e))&&t.limitType===e.limitType}function zS(t){return pS(qS(t))+"|lt:"+t.limitType}function GS(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+$I(e.value);var e}).join(", ")+"]"),HI(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+CS(t.startAt)),t.endAt&&(e+=", endAt: "+CS(t.endAt)),"Target("+e+")"}(qS(t))+"; limitType="+t.limitType+")"}function KS(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):NI.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!OS(t.startAt,US(t),e)||t.endAt&&OS(t.endAt,US(t),e))}(t,e)}function WS(t){return function(e,n){for(var r=!1,i=0,o=US(t);i<o.length;i++){var a=o[i],s=QS(a,e,n);if(0!==s)return s;r=r||a.field.ut()}return 0}}function QS(t,e,n){var r=t.field.ut()?NI.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?YI(r,i):aI()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return aI()}}var YS=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=TI.min()),void 0===o&&(o=TI.min()),void 0===a&&(a=pI.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function XS(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zI(e)?"-0":e}}function $S(t){return{integerValue:""+t}}function ZS(t,e){return GI(e)?$S(e):XS(t,e)}var JS=function(){this.qt=void 0};function tT(t,e,n){return t instanceof rT?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof iT?oT(t,e):t instanceof aT?sT(t,e):function(t,e){var n=nT(t,e),r=cT(n)+cT(t.Ut);return tS(n)&&tS(t.Ut)?$S(r):XS(t.Qt,r)}(t,e)}function eT(t,e,n){return t instanceof iT?oT(t,e):t instanceof aT?sT(t,e):n}function nT(t,e){return t instanceof uT?tS(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var rT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e}(JS),iT=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Hg(e,t),e}(JS);function oT(t,e){for(var n=lT(e),r=function(t){n.some(function(e){return WI(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var aT=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Hg(e,t),e}(JS);function sT(t,e){for(var n=lT(e),r=function(t){n=n.filter(function(e){return!WI(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Hg(e,t),e}(JS);function cT(t){return VI(t.integerValue||t.doubleValue)}function lT(t){return eS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hT=function(t,e){this.field=t,this.transform=e},fT=function(t,e){this.version=t,this.transformResults=e},dT=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pT(t,e){return void 0!==t.updateTime?e instanceof cS&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof cS}var vT=function(){};function yT(t,e,n){return t instanceof _T?function(t,e,n){var r=t.value;if(n.transformResults){var i=IT(t.fieldTransforms,e,n.transformResults);r=TT(t.fieldTransforms,r,i)}return new cS(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof kT?function(t,e,n){if(!pT(t.jt,e))return new hS(t.key,n.version);var r=ET(t,e,n.transformResults?IT(t.fieldTransforms,e,n.transformResults):[]);return new cS(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new lS(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gT(t,e,n){return t instanceof _T?function(t,e,n){if(!pT(t.jt,e))return e;var r=t.value,i=ST(t.fieldTransforms,n,e);r=TT(t.fieldTransforms,r,i);var o=wT(e);return new cS(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof kT?function(t,e,n){if(!pT(t.jt,e))return e;var r=wT(e),i=ET(t,e,ST(t.fieldTransforms,n,e));return new cS(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return pT(t.jt,e)?new lS(t.key,TI.min()):e}(t,e)}function mT(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof cS?e.field(o.field):void 0,s=nT(o.transform,a||null);null!=s&&(n=null==n?(new aS).set(o.field,s):n.set(o.field,s))}return n?n.Pt():null}(t.fieldTransforms,e)}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fI(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof iT&&e instanceof iT||t instanceof aT&&e instanceof aT?fI(t.elements,e.elements,WI):t instanceof uT&&e instanceof uT?WI(t.Ut,e.Ut):t instanceof rT&&e instanceof rT}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function wT(t){return t instanceof cS?t.version:TI.min()}var _T=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Hg(e,t),e}(vT),kT=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Gt=r,a.jt=i,a.fieldTransforms=o,a.type=1,a}return Hg(e,t),e}(vT);function ET(t,e,n){var r;return r=function(t,e){var n=new aS(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof cS?e.data():oS.empty()),TT(t.fieldTransforms,r,n)}function IT(t,e,n){var r=[];sI(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof cS&&(s=e.field(o.field)),r.push(eT(a,s,n[i]))}return r}function ST(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof cS&&(u=n.field(a.field)),r.push(tT(s,u,e))}return r}function TT(t,e,n){for(var r=new aS(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var CT,AT,xT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Hg(e,t),e}(vT),OT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Hg(e,t),e}(vT),NT=function(t){this.count=t};function PT(t){switch(t){case vI.OK:return aI();case vI.CANCELLED:case vI.UNKNOWN:case vI.DEADLINE_EXCEEDED:case vI.RESOURCE_EXHAUSTED:case vI.INTERNAL:case vI.UNAVAILABLE:case vI.UNAUTHENTICATED:return!1;case vI.INVALID_ARGUMENT:case vI.NOT_FOUND:case vI.ALREADY_EXISTS:case vI.PERMISSION_DENIED:case vI.FAILED_PRECONDITION:case vI.ABORTED:case vI.OUT_OF_RANGE:case vI.UNIMPLEMENTED:case vI.DATA_LOSS:return!0;default:return aI()}}function DT(t){if(void 0===t)return rI("GRPC error has no .code"),vI.UNKNOWN;switch(t){case CT.OK:return vI.OK;case CT.CANCELLED:return vI.CANCELLED;case CT.UNKNOWN:return vI.UNKNOWN;case CT.DEADLINE_EXCEEDED:return vI.DEADLINE_EXCEEDED;case CT.RESOURCE_EXHAUSTED:return vI.RESOURCE_EXHAUSTED;case CT.INTERNAL:return vI.INTERNAL;case CT.UNAVAILABLE:return vI.UNAVAILABLE;case CT.UNAUTHENTICATED:return vI.UNAUTHENTICATED;case CT.INVALID_ARGUMENT:return vI.INVALID_ARGUMENT;case CT.NOT_FOUND:return vI.NOT_FOUND;case CT.ALREADY_EXISTS:return vI.ALREADY_EXISTS;case CT.PERMISSION_DENIED:return vI.PERMISSION_DENIED;case CT.FAILED_PRECONDITION:return vI.FAILED_PRECONDITION;case CT.ABORTED:return vI.ABORTED;case CT.OUT_OF_RANGE:return vI.OUT_OF_RANGE;case CT.UNIMPLEMENTED:return vI.UNIMPLEMENTED;case CT.DATA_LOSS:return vI.DATA_LOSS;default:return aI()}}(AT=CT||(CT={}))[AT.OK=0]="OK",AT[AT.CANCELLED=1]="CANCELLED",AT[AT.UNKNOWN=2]="UNKNOWN",AT[AT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",AT[AT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",AT[AT.NOT_FOUND=5]="NOT_FOUND",AT[AT.ALREADY_EXISTS=6]="ALREADY_EXISTS",AT[AT.PERMISSION_DENIED=7]="PERMISSION_DENIED",AT[AT.UNAUTHENTICATED=16]="UNAUTHENTICATED",AT[AT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",AT[AT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",AT[AT.ABORTED=10]="ABORTED",AT[AT.OUT_OF_RANGE=11]="OUT_OF_RANGE",AT[AT.UNIMPLEMENTED=12]="UNIMPLEMENTED",AT[AT.INTERNAL=13]="INTERNAL",AT[AT.UNAVAILABLE=14]="UNAVAILABLE",AT[AT.DATA_LOSS=15]="DATA_LOSS";var RT=function(){function t(t,e){this.H=t,this.root=e||MT.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,MT.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,MT.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new LT(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new LT(this.root,t,this.H,!1)},t.prototype.ne=function(){return new LT(this.root,null,this.H,!0)},t.prototype.se=function(t){return new LT(this.root,t,this.H,!0)},t}(),LT=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),MT=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw aI();if(this.right.le())throw aI();var t=this.left.Ie();if(t!==this.right.Ie())throw aI();return t+(this.le()?0:1)},t}();MT.EMPTY=null,MT.RED=!0,MT.Ht=!1,MT.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw aI()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw aI()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw aI()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw aI()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw aI()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new MT(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var jT=function(){function t(t){this.H=t,this.data=new RT(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new VT(this.data.te())},t.prototype.ee=function(t){return new VT(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),VT=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),FT=new RT(NI.H);function UT(){return FT}function qT(){return UT()}var BT=new RT(NI.H);function HT(){return BT}var zT=new RT(NI.H);function GT(){return zT}var KT=new jT(NI.H);function WT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=KT,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var QT=new jT(hI);function YT(){return QT}var XT=function(){function t(t){this.H=t?function(e,n){return t(e,n)||NI.H(e.key,n.key)}:function(t,e){return NI.H(t.key,e.key)},this.ge=HT(),this.Ve=new RT(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),$T=function(){function t(){this.be=new RT(NI.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):aI():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),ZT=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=a,this.xe=s}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,XT.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&HS(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),JT=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,tC.$e(e,n)),new t(TI.min(),r,YT(),UT(),WT())},t}(),tC=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(pI.T,n,WT(),WT(),WT())},t}(),eC=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},nC=function(t,e){this.targetId=t,this.je=e},rC=function(t,e,n,r){void 0===n&&(n=pI.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},iC=function(){function t(){this.Ge=0,this.ze=sC(),this.He=pI.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=WT(),e=WT(),n=WT();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:aI()}}),new tC(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=sC()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),oC=function(){function t(t){this.un=t,this.hn=new Map,this.ln=UT(),this._n=aC(),this.fn=new jT(hI)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof cS?this.wn(r,t.We):t.We instanceof lS&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:aI()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(yS(i))if(0===n){var o=new NI(i.path);this.En(e,o,new lS(o,TI.min()))}else sI(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&yS(o.target)){var a=new NI(o.target.path);null!==e.ln.get(a)||e.pn(i,a)||e.En(i,a,new lS(a,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=WT();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)}),i&&(r=r.add(t))});var i=new JT(t,n,this.fn,this.ln,r);return this.ln=UT(),this._n=aC(),this.fn=new jT(hI),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new iC,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new jT(hI),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||nI("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new iC),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function aC(){return new RT(NI.H)}function sC(){return new RT(NI.H)}var uC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lC=function(t,e){this.t=t,this.Bt=e};function hC(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function dC(t,e){return hC(t,e.j())}function pC(t){return sI(!!t),TI.K(function(t){var e=jI(t);return new SI(e.seconds,e.nanos)}(t))}function vC(t,e){return function(t){return new AI(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function yC(t){var e=AI.ot(t);return sI(UC(e)),e}function gC(t,e){return vC(t.t,e.path)}function mC(t,e){var n=yC(e);if(n.get(1)!==t.t.projectId)throw new yI(vI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new yI(vI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new NI(kC(n))}function bC(t,e){return vC(t.t,e)}function wC(t){var e=yC(t);return 4===e.length?AI.ct():kC(e)}function _C(t){return new AI(["projects",t.t.projectId,"databases",t.t.database]).rt()}function kC(t){return sI(t.length>4&&"documents"===t.get(4)),t.Y(5)}function EC(t,e,n){return{name:gC(t,e),fields:n.proto.mapValue.fields}}function IC(t,e,n){var r=mC(t,e.name),i=pC(e.updateTime),o=new oS({mapValue:{fields:e.fields}});return new cS(r,i,o,{hasCommittedMutations:!!n})}function SC(t,e){var n;if(e instanceof _T)n={update:EC(t,e.key,e.value)};else if(e instanceof xT)n={delete:gC(t,e.key)};else if(e instanceof kT)n={update:EC(t,e.key,e.data),updateMask:FC(e.Gt)};else{if(!(e instanceof OT))return aI();n={verify:gC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof rT)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof iT)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof aT)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof uT)return{fieldPath:e.field.rt(),increment:n.Ut};throw aI()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dC(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:aI()}(t,e.jt)),n}function TC(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dT.updateTime(pC(t.updateTime)):void 0!==t.exists?dT.exists(t.exists):dT.Kt()}(e.currentDocument):dT.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(sI("REQUEST_TIME"===e.setToServerValue),n=new rT):"appendMissingElements"in e?n=new iT(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new aT(e.removeAllFromArray.values||[]):"increment"in e?n=new uT(t,e.increment):aI();var r=OI.lt(e.fieldPath);return new hT(r,n)}(t,e)}):[];if(e.update){var i=mC(t,e.update.name),o=new oS({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new LI((t.fieldPaths||[]).map(function(t){return OI.lt(t)}))}(e.updateMask);return new kT(i,o,a,n,r)}return new _T(i,o,n,r)}if(e.delete){var s=mC(t,e.delete);return new xT(s,n)}if(e.verify){var u=mC(t,e.verify);return new OT(u,n)}return aI()}function CC(t,e){return{documents:[bC(t,e.path)]}}function AC(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bC(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(rS(t.value))return{unaryFilter:{field:LC(t.field),op:"IS_NAN"}};if(nS(t.value))return{unaryFilter:{field:LC(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rS(t.value))return{unaryFilter:{field:LC(t.field),op:"IS_NOT_NAN"}};if(nS(t.value))return{unaryFilter:{field:LC(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:LC(t.field),op:RC(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:LC(t.field),direction:DC(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Bt||HI(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=NC(e.startAt)),e.endAt&&(n.structuredQuery.endAt=NC(e.endAt)),n}function xC(t){var e=wC(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sI(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=OC(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new AS(MC(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return HI(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=PC(n.startAt));var l=null;return n.endAt&&(l=PC(n.endAt)),DS(e,i,s,a,u,"F",c,l)}function OC(t){return t?void 0!==t.unaryFilter?[VC(t)]:void 0!==t.fieldFilter?[jC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return OC(t)}).reduce(function(t,e){return t.concat(e)}):aI():[]}function NC(t){return{before:t.before,values:t.position}}function PC(t){return new TS(t.values||[],!!t.before)}function DC(t){return uC[t]}function RC(t){return cC[t]}function LC(t){return{fieldPath:t.rt()}}function MC(t){return OI.lt(t.fieldPath)}function jC(t){return gS.create(MC(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return aI()}}(t.fieldFilter.op),t.fieldFilter.value)}function VC(t){switch(t.unaryFilter.op){case"IS_NAN":var e=MC(t.unaryFilter.field);return gS.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=MC(t.unaryFilter.field);return gS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=MC(t.unaryFilter.field);return gS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=MC(t.unaryFilter.field);return gS.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return aI()}}function FC(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function UC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var qC=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},BC=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&aI(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t(function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.kn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Ln=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Ln(r)},t}(),HC=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new qC,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new KC(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=$C(e.target.error);n.Bn.reject(new KC(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new KC(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(nI("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new QC(e)},t}(),zC=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Jg())&&rI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nI("SimpleDb","Removing database:",t),YC(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Jg(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Gg(this,void 0,void 0,function(){var e,n=this;return Kg(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(nI("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new KC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new yI(vI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new KC(t,n))},i.onupgradeneeded=function(t){nI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){nI("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a,s,u;return Kg(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Kg(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Hn(t)];case 2:return s.db=h.sent(),e=HC.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),BC.reject(t)}).kn(),u={},a.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return nI("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),GC=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return YC(this.Zn.delete())},t}(),KC=function(t){function e(e,n){var r=this;return(r=t.call(this,vI.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Hg(e,t),e}(yI);function WC(t){return"IndexedDbTransactionError"===t.name}var QC=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nI("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nI("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),YC(n)},t.prototype.add=function(t){return nI("SimpleDb","ADD",this.store.name,t,t),YC(this.store.add(t))},t.prototype.get=function(t){var e=this;return YC(this.store.get(t)).next(function(n){return void 0===n&&(n=null),nI("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return nI("SimpleDb","DELETE",this.store.name,t),YC(this.store.delete(t))},t.prototype.count=function(){return nI("SimpleDb","COUNT",this.store.name),YC(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){nI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new BC(function(n,r){e.onerror=function(t){var e=$C(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new BC(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new GC(i),a=e(i.primaryKey,i.value,o);if(a instanceof BC){var s=a.catch(function(t){return o.done(),BC.reject(t)});n.push(s)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return BC.Ln(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function YC(t){return new BC(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$C(t.target.error);n(e)}})}var XC=!1;function $C(t){var e=zC.Qn(Jg());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return XC||(XC=!0,setTimeout(function(){throw r},0)),r}}return t}var ZC=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new qC,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new yI(vI.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function JC(t,e){if(rI("AsyncQueue",e+": "+t),WC(t))return new yI(vI.UNAVAILABLE,e+": "+t);throw t}var tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eA=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function nA(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=iA(e)),e=rA(t.get(n),e);return iA(e)}function rA(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function iA(t){return t+"\x01\x01"}function oA(t){var e=t.length;if(sI(e>=2),2===e)return sI("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),AI.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&aI(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:aI()}o=a+2}return new AI(r)}var aA=function(t,e){this.seconds=t,this.nanoseconds=e},sA=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sA.store="owner",sA.key="owner";var uA=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};uA.store="mutationQueues",uA.keyPath="userId";var cA=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cA.store="mutations",cA.keyPath="batchId",cA.userMutationsIndex="userMutationsIndex",cA.userMutationsKeyPath=["userId","batchId"];var lA=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,nA(e)]},t.key=function(t,e,n){return[t,nA(e),n]},t}();lA.store="documentMutations",lA.PLACEHOLDER=new lA;var hA=function(t,e){this.path=t,this.readTime=e},fA=function(t,e){this.path=t,this.version=e},dA=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};dA.store="remoteDocuments",dA.readTimeIndex="readTimeIndex",dA.readTimeIndexPath="readTime",dA.collectionReadTimeIndex="collectionReadTimeIndex",dA.collectionReadTimeIndexPath=["parentPath","readTime"];var pA=function(t){this.byteSize=t};pA.store="remoteDocumentGlobal",pA.key="remoteDocumentGlobalKey";var vA=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vA.store="targets",vA.keyPath="targetId",vA.queryTargetsIndexName="queryTargetsIndex",vA.queryTargetsKeyPath=["canonicalId","targetId"];var yA=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yA.store="targetDocuments",yA.keyPath=["targetId","path"],yA.documentTargetsIndex="documentTargetsIndex",yA.documentTargetsKeyPath=["path","targetId"];var gA=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gA.key="targetGlobalKey",gA.store="targetGlobal";var mA=function(t,e){this.collectionId=t,this.parent=e};mA.store="collectionParents",mA.keyPath=["collectionId","parent"];var bA=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bA.store="clientMetadata",bA.keyPath="clientId";var wA=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wA.store="bundles",wA.keyPath="bundleId";var _A=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_A.store="namedQueries",_A.keyPath="name";var kA=Xg(Xg(Xg(Xg([uA.store,cA.store,lA.store,dA.store,vA.store,sA.store,gA.store,yA.store],[bA.store]),[pA.store]),[mA.store]),[wA.store,_A.store]),EA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Hg(e,t),e}(eA);function IA(t,e){var n=uI(t);return zC.zn(n.ps,e)}var SA=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=yT(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=gT(a,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=gT(a,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},WT())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fI(this.mutations,t.mutations,function(t,e){return bT(t,e)})&&fI(this.baseMutations,t.baseMutations,function(t,e){return bT(t,e)})},t}(),TA=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){sI(e.mutations.length===r.length);for(var i=GT(),o=e.mutations,a=0;a<o.length;a++)i=i.zt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),CA=function(t){this.Os=t};function AA(t,e){if(e.document)return IC(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=NI.Et(e.noDocument.path),r=DA(e.noDocument.readTime);return new lS(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=NI.Et(e.unknownDocument.path);return r=DA(e.unknownDocument.version),new hS(i,r)}return aI()}function xA(t,e,n){var r=OA(n),i=e.key.path.X().it();if(e instanceof cS){var o=function(t,e){return{name:gC(t,e.key),fields:e.bt().mapValue.fields,updateTime:hC(t,e.version.j())}}(t.Os,e),a=e.hasCommittedMutations;return new dA(null,null,o,a,r,i)}if(e instanceof lS){var s=e.key.path.it(),u=PA(e.version);return a=e.hasCommittedMutations,new dA(null,new hA(s,u),null,a,r,i)}if(e instanceof hS){var c=e.key.path.it(),l=PA(e.version);return new dA(new fA(c,l),null,null,!0,r,i)}return aI()}function OA(t){var e=t.j();return[e.seconds,e.nanoseconds]}function NA(t){var e=new SI(t[0],t[1]);return TI.K(e)}function PA(t){var e=t.j();return new aA(e.seconds,e.nanoseconds)}function DA(t){var e=new SI(t.seconds,t.nanoseconds);return TI.K(e)}function RA(t,e){for(var n=(e.baseMutations||[]).map(function(e){return TC(t.Os,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return TC(t.Os,e)}),o=SI.fromMillis(e.localWriteTimeMs);return new SA(e.batchId,o,n,i)}function LA(t){var e,n,r=DA(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?DA(t.lastLimboFreeSnapshotVersion):TI.min();return void 0!==t.query.documents?(sI(1===(n=t.query).documents.length),e=qS(RS(wC(n.documents[0])))):e=function(t){return qS(xC(t))}(t.query),new YS(e,t.targetId,0,t.lastListenSequenceNumber,r,i,pI.fromBase64String(t.resumeToken))}function MA(t,e){var n,r=PA(e.kt),i=PA(e.lastLimboFreeSnapshotVersion);n=yS(e.target)?CC(t.Os,e.target):AC(t.Os,e.target);var o=e.resumeToken.toBase64();return new vA(e.targetId,pS(e.target),r,o,e.sequenceNumber,i,n)}function jA(t){var e=xC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?BS(e,e.limit,"L"):e}var VA=function(){function t(){}return t.prototype.ks=function(t,e){return FA(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:DA(e.createTime),version:e.version};var e})},t.prototype.Ms=function(t,e){return FA(t).put({bundleId:(n=e).id,createTime:PA(pC(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return UA(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:jA(e.bundledQuery),readTime:DA(e.readTime)};var e})},t.prototype.$s=function(t,e){return UA(t).put(function(t){return{name:t.name,readTime:PA(pC(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function FA(t){return IA(t,wA.store)}function UA(t){return IA(t,_A.store)}var qA=function(){function t(){this.Bs=new BA}return t.prototype.qs=function(t,e){return this.Bs.add(e),BC.resolve()},t.prototype.Us=function(t,e){return BC.resolve(this.Bs.getEntries(e))},t}(),BA=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new jT(AI.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jT(AI.H)).it()},t}(),HA=function(){function t(){this.Qs=new BA}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:nA(i)};return zA(t).put(o)}return BC.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[dI(e),""],!1,!0);return zA(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(oA(o.parent))}return n})},t}();function zA(t){return IA(t,mA.store)}var GA={Ks:!1,Ws:0,js:0,Gs:0},KA=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function WA(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){if(t.code!==vI.FAILED_PRECONDITION||t.message!==tA)throw t;return nI("LocalStore","Unexpectedly lost primary lease"),[2]})})}KA.Xs=10,KA.Zs=1e3,KA.ti=new KA(41943040,KA.Xs,KA.Zs),KA.ei=new KA(-1,0,0);var QA=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.si(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){DI(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return RI(this.ii)},t}(),YA=function(){function t(){this.ri=new QA(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:TI.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?BC.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function XA(t,e,n){var r=t.store(cA.store),i=t.store(lA.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.hs({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){sI(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=lA.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return BC.Ln(o).next(function(){return c})}function $A(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw aI();e=t.noDocument}return JSON.stringify(e).length}var ZA=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return sI(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tx(t).hs({index:cA.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=ex(t),a=tx(t);return a.add({}).next(function(s){sI("number"==typeof s);for(var u=new SA(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return SC(t.Os,e)}),i=n.mutations.map(function(e){return SC(t.Os,e)});return new cA(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new jT(function(t,e){return hI(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],v=lA.key(i.userId,p.key.path,s);h=h.add(p.key.path.X()),l.push(a.put(c)),l.push(o.put(v,lA.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[s]=u.keys()}),BC.Ln(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return tx(t).get(e).next(function(t){return t?(sI(t.userId===n.userId),RA(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?BC.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return tx(t).hs({index:cA.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(sI(e.batchId>=r),o=RA(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tx(t).hs({index:cA.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tx(t).rs(cA.userMutationsIndex,n).next(function(t){return t.map(function(t){return RA(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=lA.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ex(t).hs({range:i},function(r,i,a){var s=r[0],u=r[2],c=oA(r[1]);if(s===n.userId&&e.path.isEqual(c))return tx(t).get(u).next(function(t){if(!t)throw aI();sI(t.userId===n.userId),o.push(RA(n.Qt,t))});a.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new jT(hI),i=[];return e.forEach(function(e){var o=lA.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ex(t).hs({range:a},function(t,i,o){var a=t[0],s=t[2],u=oA(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),BC.Ln(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=lA.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new jT(hI);return ex(t).hs({range:a},function(t,e,o){var a=t[0],u=t[2],c=oA(t[1]);a===n.userId&&r.nt(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Si(t,s)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(tx(t).get(e).next(function(t){if(null===t)throw aI();sI(t.userId===n.userId),r.push(RA(n.Qt,t))}))}),BC.Ln(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return XA(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),BC.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return BC.resolve();var r=IDBKeyRange.lowerBound(lA.prefixForUser(e.userId)),i=[];return ex(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=oA(t[1]);i.push(o)}else r.done()}).next(function(){sI(0===i.length)})})},t.prototype.Oi=function(t,e){return JA(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return nx(t).get(this.userId).next(function(t){return t||new uA(e.userId,-1,"")})},t}();function JA(t,e,n){var r=lA.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ex(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function tx(t){return IA(t,cA.store)}function ex(t){return IA(t,lA.store)}function nx(t){return IA(t,uA.store)}var rx=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),ix=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new rx(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return TI.K(new SI(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return ox(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return sI(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return ox(t).hs(function(a,s){var u=LA(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return BC.Ln(o)}).next(function(){return i})},t.prototype.In=function(t,e){return ox(t).hs(function(t,n){var r=LA(n);e(r)})},t.prototype.qi=function(t){return ax(t).get(gA.key).next(function(t){return sI(null!==t),t})},t.prototype.Ui=function(t,e){return ax(t).put(gA.key,e)},t.prototype.Gi=function(t,e){return ox(t).put(MA(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=pS(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ox(t).hs({range:r,index:vA.queryTargetsIndexName},function(t,n,r){var o=LA(n);vS(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=sx(t);return e.forEach(function(e){var a=nA(e.path);i.push(o.put(new yA(n,a))),i.push(r.Ti.nr(t,n,e))}),BC.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=sx(t);return BC.forEach(e,function(e){var o=nA(e.path);return BC.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=sx(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sx(t),i=WT();return r.hs({range:n,us:!0},function(t,e,n){var r=oA(t[1]),o=new NI(r);i=i.add(o)}).next(function(){return i})},t.prototype.Oi=function(t,e){var n=nA(e.path),r=IDBKeyRange.bound([n],[dI(n)],!1,!0),i=0;return sx(t).hs({index:yA.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return ox(t).get(e).next(function(t){return t?LA(t):null})},t}();function ox(t){return IA(t,vA.store)}function ax(t){return IA(t,gA.store)}function sx(t){return IA(t,yA.store)}function ux(t,e){var n=t[1],r=e[1],i=hI(t[0],e[0]);return 0===i?hI(n,r):i}var cx=function(){function t(t){this.cr=t,this.buffer=new jT(ux),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ux(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lx=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;nI("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Gg(e,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return WC(e=n.sent())?(nI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,WA(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),hx=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return BC.resolve(II.q);var r=new cx(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(nI("LruGarbageCollector","Garbage collection skipped; disabled"),BC.resolve(GA)):this.pr(t).next(function(r){return r<n.params.zs?(nI("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),GA):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(nI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,a=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),eI()<=_m.DEBUG&&nI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),BC.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),fx=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new hx(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return dx(t,n)},t.prototype.ir=function(t,e,n){return dx(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return dx(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return nx(t).ls(function(r){return JA(t,r,e).next(function(t){return t&&(n=!0),BC.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,function(a,s){if(s<=e){var u=n.Cr(t,a).next(function(e){if(!e)return o++,r._i(t,a).next(function(){return r.li(a),sx(t).delete([0,nA(a.path)])})});i.push(u)}}).next(function(){return BC.Ln(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return dx(t,e)},t.prototype.Dr=function(t,e){var n,r=sx(t),i=II.q;return r.hs({index:yA.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==II.q&&e(new NI(oA(n)),i),i=a,n=o):i=II.q}).next(function(){i!==II.q&&e(new NI(oA(n)),i)})},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function dx(t,e){return sx(t).put(function(t,e){return new yA(0,nA(t.path),e)}(e,t.bs))}var px=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return gx(t).put(mx(e),n)},t.prototype.li=function(t,e){var n=gx(t),r=mx(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Mr(t,r)})},t.prototype._i=function(t,e){var n=this;return gx(t).get(mx(e)).next(function(t){return n.Lr(t)})},t.prototype.$r=function(t,e){var n=this;return gx(t).get(mx(e)).next(function(t){var e=n.Lr(t);return e?{hi:e,size:$A(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=qT();return this.Br(t,e,function(t,e){var i=n.Lr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=qT(),i=new RT(NI.H);return this.Br(t,e,function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,$A(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return BC.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return gx(t).hs({range:r},function(t,e,r){for(var a=NI.Et(t);o&&NI.H(o,a)<0;)n(o,null),o=i.oe();o&&o.isEqual(a)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=HT(),o=e.path.length+1,a={};if(n.isEqual(TI.min())){var s=e.path.it();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.it(),c=OA(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=dA.collectionReadTimeIndex}return gx(t).hs(a,function(t,n,a){if(t.length===o){var s=AA(r.Qt,n);e.path.nt(s.key.path)?s instanceof cS&&KS(e,s)&&(i=i.zt(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new vx(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return yx(t).get(pA.key).next(function(t){return sI(!!t),t})},t.prototype.Mr=function(t,e){return yx(t).put(pA.key,e)},t.prototype.Lr=function(t){if(t){var e=AA(this.Qt,t);return e instanceof lS&&e.version.isEqual(TI.min())?null:e}return null},t}(),vx=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new QA(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Hg(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new jT(function(t,e){return hI(t.rt(),e.rt())});return this.ri.forEach(function(o,a){var s=e.Gr.get(o);if(a.hi){var u=xA(e.jr.Qt,a.hi,e.ci(o));i=i.add(o.path.X());var c=$A(u);r+=c-s,n.push(e.jr.ai(t,o,u))}else if(r-=s,e.Wr){var l=xA(e.jr.Qt,new lS(o,TI.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),BC.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(YA);function yx(t){return IA(t,pA.store)}function gx(t){return IA(t,dA.store)}function mx(t){return t.path.it()}var bx=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;sI(n<r&&n>=0&&r<=11);var o=new HC("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(sA.store)}(t),function(t){t.createObjectStore(uA.store,{keyPath:uA.keyPath}),t.createObjectStore(cA.store,{keyPath:cA.keyPath,autoIncrement:!0}).createIndex(cA.userMutationsIndex,cA.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lA.store)}(t),wx(t),function(t){t.createObjectStore(dA.store)}(t));var a=BC.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yA.store),t.deleteObjectStore(vA.store),t.deleteObjectStore(gA.store)}(t),wx(t)),a=a.next(function(){return function(t){var e=t.store(gA.store),n=new gA(0,0,TI.min().j(),0);return e.put(gA.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(cA.store).rs().next(function(n){t.deleteObjectStore(cA.store),t.createObjectStore(cA.store,{keyPath:cA.keyPath,autoIncrement:!0}).createIndex(cA.userMutationsIndex,cA.userMutationsKeyPath,{unique:!0});var r=e.store(cA.store),i=n.map(function(t){return r.put(t)});return BC.Ln(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(bA.store,{keyPath:bA.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.zr(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(pA.store)}(t),i.Hr(o)})),n<7&&r>=7&&(a=a.next(function(){return i.Jr(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(dA.store);e.createIndex(dA.readTimeIndex,dA.readTimeIndexPath,{unique:!1}),e.createIndex(dA.collectionReadTimeIndex,dA.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Xr(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(wA.store,{keyPath:wA.keyPath})}(t),function(t){t.createObjectStore(_A.store,{keyPath:_A.keyPath})}(t)})),a},t.prototype.Hr=function(t){var e=0;return t.store(dA.store).hs(function(t,n){e+=$A(n)}).next(function(){var n=new pA(e);return t.store(pA.store).put(pA.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(uA.store),r=t.store(cA.store);return n.rs().next(function(n){return BC.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(cA.userMutationsIndex,i).next(function(r){return BC.forEach(r,function(r){sI(r.userId===n.userId);var i=RA(e.Qt,r);return XA(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(yA.store),n=t.store(dA.store);return t.store(gA.store).get(gA.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new AI(n),a=function(t){return[0,nA(t)]}(o);r.push(e.get(a).next(function(n){return n?BC.resolve():function(n){return e.put(new yA(0,nA(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return BC.Ln(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(mA.store,{keyPath:mA.keyPath});var n=e.store(mA.store),r=new BA,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:nA(i)})}};return e.store(dA.store).hs({us:!0},function(t,e){var n=new AI(t);return i(n.X())}).next(function(){return e.store(lA.store).hs({us:!0},function(t,e){var n=oA(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(vA.store);return n.hs(function(t,r){var i=LA(r),o=MA(e.Qt,i);return n.put(o)})},t}();function wx(t){t.createObjectStore(yA.store,{keyPath:yA.keyPath}).createIndex(yA.documentTargetsIndex,yA.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vA.store,{keyPath:vA.keyPath}).createIndex(vA.queryTargetsIndexName,vA.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gA.store)}var _x="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kx=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=a,this.document=s,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new yI(vI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new fx(this,i),this.ho=n+"main",this.Qt=new CA(u),this.lo=new zC(this.ho,11,new bx(this.Qt)),this._o=new ix(this.Ti,this.Qt),this.Ei=new HA,this.fo=function(t,e){return new px(t,e)}(this.Qt,this.Ei),this.wo=new VA,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&rI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yI(vI.FAILED_PRECONDITION,_x);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new II(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Gg(e,void 0,void 0,function(){return Kg(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Gg(e,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Gg(e,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ix(e).put(new bA(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(WC(e))return nI("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return Ex(t).get(sA.key).next(function(t){return BC.resolve(e.Do(t))})},t.prototype.Co=function(t){return Ix(t).delete(this.clientId)},t.prototype.xo=function(){return Gg(this,void 0,void 0,function(){var t,e,n,r=this;return Kg(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=IA(t,bA.store);return e.rs().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return BC.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Oo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?BC.resolve(!0):Ex(t).get(sA.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new yI(vI.FAILED_PRECONDITION,_x);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ix(t).rs().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&nI("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Mo=function(){return Gg(this,void 0,void 0,function(){var t=this;return Kg(this,function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[sA.store,bA.store],function(e){var n=new EA(e,II.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ix(e).rs().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return ZA.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nI("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",kA,function(o){return r=new EA(o,i.so?i.so.next():II.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw rI("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new yI(vI.FAILED_PRECONDITION,tA);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return Ex(t).get(sA.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yI(vI.FAILED_PRECONDITION,_x)})},t.prototype.So=function(t){var e=new sA(this.clientId,this.allowTabSynchronization,Date.now());return Ex(t).put(sA.key,e)},t.Kn=function(){return zC.Kn()},t.prototype.vo=function(t){var e=this,n=Ex(t);return n.get(sA.key).next(function(t){return e.Do(t)?(nI("IndexedDbPersistence","Releasing primary lease."),n.delete(sA.key)):BC.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rI("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps(function(){return e.Mo()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return nI("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rI("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){rI("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ex(t){return IA(t,sA.store)}function Ix(t){return IA(t,bA.store)}function Sx(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tx=function(t,e){this.progress=t,this.Go=e},Cx=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=qT();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=UT();return i.forEach(function(t,e){e||(e=new lS(t,TI.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return NI.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):FS(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new NI(e)).next(function(t){var e=HT();return t instanceof cS&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=HT();return this.Ei.Us(t,i).next(function(a){return BC.forEach(a,function(a){var s=function(t,e){return new PS(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.nc(t,s,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=gT(u,r.get(c),o.vs);r=l instanceof cS?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){KS(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=WT(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof kT&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof cS&&(c=c.zt(t,e))}),c})},t}(),Ax=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=WT(),i=WT(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xx=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(TI.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var a=i.hc(e,o);return(LS(e)||MS(e))&&i.lc(e.limitType,a,r,n)?i.uc(t,e):(eI()<=_m.DEBUG&&nI("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),GS(e)),i.ac.Kr(t,e,n).next(function(t){return a.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new jT(WS(t));return e.forEach(function(e,r){r instanceof cS&&KS(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return eI()<=_m.DEBUG&&nI("QueryEngine","Using full collection scan to execute query:",GS(e)),this.ac.Kr(t,e,TI.min())},t}(),Ox=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new RT(hI),this.dc=new QA(function(t){return pS(t)},vS),this.wc=TI.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new Cx(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Nx(t,e,n,r){return new Ox(t,e,n,r)}function Px(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o;return Kg(this,function(a){switch(a.label){case 0:return n=uI(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(a){return o=a,r=n.persistence.Qo(e),i=new Cx(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],a=WT(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.Xo(t,a).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Dx(t,e){var n=uI(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=BC.resolve();return o.forEach(function(t){a=a.next(function(){return r._i(e,t)}).next(function(e){var o=e,a=n.Fs.get(t);sI(null!==a),(!o||o.version._(a)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),a.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Rx(t){var e=uI(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Lx(t,e){var n=uI(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var a=[];e.Fe.forEach(function(e,o){var s=i.get(o);if(s){a.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=s.Lt(u,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return sI(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(s,c,e)&&a.push(n._o.Hi(t,c))}}});var s=UT();if(e.ke.forEach(function(r,i){e.Me.has(r)&&a.push(n.persistence.Ti.Or(t,r))}),a.push(Mx(t,o,e.ke,r,void 0).next(function(t){s=t})),!r.isEqual(TI.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});a.push(u)}return BC.Ln(a).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,s)})}).then(function(t){return n.fc=i,t})}function Mx(t,e,n,r,i){var o=WT();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=UT();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof lS&&a.version.isEqual(TI.min())?(e.li(n,u),o=o.zt(n,a)):null==s||a.version._(s.version)>0||0===a.version._(s.version)&&s.hasPendingWrites?(e.ai(a,u),o=o.zt(n,a)):nI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function jx(t,e){var n=uI(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Vx(t,e){var n=uI(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?BC.resolve(r=i):n._o.Bi(t).next(function(i){return r=new YS(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Fx(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:r=uI(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!WC(a=s.sent()))throw a;return nI("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ux(t,e,n){var r=uI(t),i=TI.min(),o=WT();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=uI(t),i=r.dc.get(n);return void 0!==i?BC.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,qS(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:TI.min(),n?o:WT())}).next(function(t){return{documents:t,Rc:o}})})}function qx(t,e){var n=uI(t),r=uI(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Bx(t){var e=uI(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=uI(t),i=UT(),o=OA(n),a=gx(e),s=IDBKeyRange.lowerBound(o,!0);return a.hs({index:dA.readTimeIndex,range:s},function(t,e){var n=AA(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:NA(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Hx(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){return[2,(e=uI(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=gx(t),n=TI.min();return e.hs({index:dA.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=NA(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function zx(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Kg(this,function(p){switch(p.label){case 0:for(i=uI(t),o=WT(),a=UT(),s=GT(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.zt(h,e.yc(l)),s=s.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Vx(i,function(t){return qS(RS(AI.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Mx(t,f,a,TI.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Gx(t,e,n){return void 0===n&&(n=WT()),Gg(this,void 0,void 0,function(){var r,i;return Kg(this,function(o){switch(o.label){case 0:return[4,Vx(t,qS(jA(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=uI(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=pC(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var a=r.Lt(pI.T,o);return i.fc=i.fc.zt(a.targetId,a),i._o.Hi(t,a).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.$s(t,e)})})]}})})}var Kx=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return BC.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:pC(n.createTime)}),BC.resolve()},t.prototype.Ls=function(t,e){return BC.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:jA(t.bundledQuery),readTime:pC(t.readTime)}}(e)),BC.resolve()},t}(),Wx=function(){function t(){this.vc=new jT(Qx.Sc),this.Dc=new jT(Qx.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Qx(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Qx(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Oc=function(t){var e=this,n=new NI(new AI([])),r=new Qx(n,t),i=new Qx(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.kc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new NI(new AI([])),n=new Qx(e,t),r=new Qx(e,t+1),i=WT();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Oi=function(t){var e=new Qx(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Qx=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return NI.H(t.key,e.key)||hI(t.Lc,e.Lc)},t.Cc=function(t,e){return hI(t.Lc,e.Lc)||NI.H(t.key,e.key)},t}(),Yx=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new jT(Qx.Sc)}return t.prototype.Ai=function(t){return BC.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++;var o=new SA(i,e,n,r);this.zo.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Bc=this.Bc.add(new Qx(u.key,i)),this.Ei.qs(t,u.key.path.X())}return BC.resolve(o)},t.prototype.Pi=function(t,e){return BC.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return BC.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return BC.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return BC.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Qx(e,0),i=new Qx(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Lc);o.push(e)}),BC.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new jT(hI);return e.forEach(function(t){var e=new Qx(t,0),i=new Qx(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Lc)})}),BC.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;NI.wt(i)||(i=i.child(""));var o=new Qx(new NI(i),0),a=new jT(hI);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(a=a.add(t.Lc)),!0)},o),BC.resolve(this.Qc(a))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;sI(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return BC.forEach(e.mutations,function(i){var o=new Qx(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new Qx(e,0),r=this.Bc.Re(n);return BC.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return BC.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Xx=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new RT(NI.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:a,readTime:n}),this.size+=a-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return BC.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=qT();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),BC.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=HT(),i=new NI(e.path.child("")),o=this.docs.ee(i);o.ce();){var a=o.oe(),s=a.value,u=s.hi,c=s.readTime;if(!e.path.nt(a.key.path))break;c._(n)<=0||u instanceof cS&&KS(e,u)&&(r=r.zt(u.key,u))}return BC.resolve(r)},t.prototype.jc=function(t,e){return BC.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new $x(this)},t.prototype.kr=function(t){return BC.resolve(this.size)},t}(),$x=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Hg(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),BC.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(YA),Zx=function(){function t(t){this.persistence=t,this.Gc=new QA(function(t){return pS(t)},vS),this.lastRemoteSnapshotVersion=TI.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Wx,this.targetCount=0,this.Jc=rx.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),BC.resolve()},t.prototype.Qi=function(t){return BC.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return BC.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),BC.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),BC.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new rx(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,BC.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),BC.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,BC.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Gc.delete(a),o.push(r.Yi(t,s.targetId)),i++)}),BC.Ln(o).next(function(){return i})},t.prototype.Zi=function(t){return BC.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return BC.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),BC.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),BC.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),BC.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return BC.resolve(n)},t.prototype.Oi=function(t,e){return BC.resolve(this.Hc.Oi(e))},t}(),Jx=function(){function t(t,e){var n=this;this.Yc={},this.so=new II(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Zx(this),this.Ei=new qA,this.fo=function(t,e){return new Xx(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new CA(e),this.wo=new Kx(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Yx(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;nI("MemoryPersistence","Starting transaction:",t);var i=new tO(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).kn().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return BC.$n(Object.values(this.Yc).map(function(n){return function(){return n.Oi(t,e)}}))},t}(),tO=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Hg(e,t),e}(eA),eO=function(){function t(t){this.persistence=t,this.na=new Wx,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw aI()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),BC.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),BC.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),BC.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return BC.forEach(this.ra,function(r){var i=NI._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return BC.$n([function(){return BC.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function nO(t,e){return"firestore_clients_"+t+"_"+e}function rO(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function iO(t,e){return"firestore_targets_"+t+"_"+e}var oO=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new yI(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(rI("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),aO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new yI(r.error.code,r.error.message)),i?new t(e,r.state,o):(rI("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=YT(),a=0;i&&a<r.activeTargetIds.length;++a)i=GI(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(rI("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uO=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rI("SharedClientState","Failed to parse online state: "+e),null)},t}(),cO=function(){function t(){this.activeTargetIds=YT()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lO=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new RT(hI),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=nO(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new cO),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Gg(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Kg(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(nO(this.persistenceKey,r)))&&(o=sO.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(a=this.storage.getItem(this.ya))&&(s=this.pa(a))&&this.ba(s),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.Mo()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(iO(this.persistenceKey,t));if(n){var r=aO.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(iO(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nI("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nI("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nI("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void rI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Gg(e,void 0,void 0,function(){var t,e,r,i,o,a;return Kg(this,function(s){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(a=function(t){var e=II.q;if(null!=t)try{var n=JSON.parse(t);sI("number"==typeof n),e=n}catch(t){rI("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==II.q&&this.M(a);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new oO(this.currentUser,t,e,n),i=rO(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=rO(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=iO(this.persistenceKey,t),i=new aO(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return sO.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return oO.ca(new mI(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return aO.ca(r,e)},t.prototype.pa=function(t){return uO.ca(t)},t.prototype.Ya=function(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(nI("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this._a.su(a,s).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=YT();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),hO=function(){function t(){this.iu=new cO,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new cO,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),fO=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),dO=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){nI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){nI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vO=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),yO=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Hg(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var a=new $E;a.listenOnce(QE.COMPLETE,function(){try{switch(a.getLastErrorCode()){case WE.NO_ERROR:var e=a.getResponseJson();nI("Connection","XHR received:",JSON.stringify(e)),i(e);break;case WE.TIMEOUT:nI("Connection",'RPC "'+t+'" timed out'),o(new yI(vI.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:var n=a.getStatus();if(nI("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vI).indexOf(e)>=0?e:vI.UNKNOWN}(r.status);o(new yI(s,r.message))}else o(new yI(vI.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new yI(vI.UNAVAILABLE,"Connection failed."));break;default:aI()}}finally{nI("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new BE,o=G_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jg())||"object"==typeof navigator&&"ReactNative"===navigator.product||Jg().indexOf("Electron/")>=0||(n=Jg()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0||Jg().indexOf("MSAppHost/")>=0||em()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");nI("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new vO({fu:function(t){l?nI("Connection","Not sending because WebChannel is closed:",t):(c||(nI("Connection","Opening WebChannel transport."),u.open(),c=!0),nI("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,XE.EventType.OPEN,function(){l||nI("Connection","WebChannel transport opened.")}),f(u,XE.EventType.CLOSE,function(){l||(l=!0,nI("Connection","WebChannel transport closed"),h.Ru())}),f(u,XE.EventType.ERROR,function(t){l||(l=!0,iI("Connection","WebChannel transport errored:",t),h.Ru(new yI(vI.UNAVAILABLE,"The operation could not be completed")))}),f(u,XE.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];sI(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nI("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=CT[t];if(void 0!==e)return DT(e)}(i),a=r.message;void 0===o&&(o=vI.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.Ru(new yI(o,a)),u.close()}else nI("Connection","WebChannel received:",n),h.Pu(n)}}),f(o,YE.STAT_EVENT,function(t){10===t.stat?nI("Connection","Detected buffering proxy"):11===t.stat&&nI("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Au()},0),h},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);nI("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return nI("RestConnection","Received: ",t),t},function(e){throw iI("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+pO[t]},t}());function gO(){return"undefined"!=typeof window?window:null}function mO(){return"undefined"!=typeof document?document:null}function bO(t){return new lC(t,!0)}var wO=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&nI("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,function(){return e.Mu=Date.now(),t()}),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),_O=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new wO(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Gg(this,void 0,void 0,function(){return Kg(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===vI.RESOURCE_EXHAUSTED?(rI(e.toString()),rI("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===vI.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new yI(vI.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u(function(){return Gg(t,void 0,void 0,function(){return Kg(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return nI("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(nI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),kO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,a}return Hg(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:aI()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(sI(void 0===e||"string"==typeof e),pI.fromBase64String(e||"")):(sI(void 0===e||e instanceof Uint8Array),pI.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?vI.UNKNOWN:DT(t.code);return new yI(e,t.message||"")}(s);n=new rC(r,i,o,a||null)}else if("documentChange"in e){i=mC(t,(r=e.documentChange).document.name),o=pC(r.document.updateTime);var s=new oS({mapValue:{fields:r.document.fields}}),u=(a=new cS(i,o,s,{}),r.targetIds||[]);n=new eC(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=mC(t,(r=e.documentDelete).document),o=r.readTime?pC(r.readTime):TI.min(),s=new lS(i,o),n=new eC([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=mC(t,(r=e.documentRemove).document),n=new eC([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return aI();var c=e.filter;i=new NT(r=c.count||0),n=new nC(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return TI.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?TI.min():e.readTime?pC(e.readTime):TI.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=_C(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=yS(r)?{documents:CC(t,r)}:{query:AC(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=fC(t,e.resumeToken):e.kt._(TI.min())>0&&(n.readTime=hC(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return aI()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=_C(this.Qt),e.removeTarget=t,this.th(e)},e}(_O),EO=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,a.lh=!1,a}return Hg(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(sI(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(sI(void 0!==e),t.map(function(t){return function(t,e){var n=pC(t.updateTime?t.updateTime:e);n.isEqual(TI.min())&&(n=pC(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fT(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=pC(t.commitTime);return this.listener.dh(n,e)}return sI(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=_C(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return SC(e.Qt,t)})};this.th(n)},e}(_O),IO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Hg(e,t),e.prototype.Ih=function(){if(this.Th)throw new yI(vI.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===vI.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===vI.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),SO=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(rI(e),this.Rh=!1):nI("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),TO=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou(function(t){n.Ps(function(){return Gg(o,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return LO(this)?(nI("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return(e=uI(t)).Nh.add(4),[4,AO(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,CO(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.kh=new SO(n,r)};function CO(t){return Gg(this,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:if(!LO(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function AO(t){return Gg(this,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xO(t,e){var n=uI(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),RO(n)?DO(n):XO(n).Hu()&&NO(n,e))}function OO(t,e){var n=uI(t),r=XO(n);n.xh.delete(e),r.Hu()&&PO(n,e),0===n.xh.size&&(r.Hu()?r.Xu():LO(n)&&n.kh.set("Unknown"))}function NO(t,e){t.Mh.on(e.targetId),XO(t).uh(e)}function PO(t,e){t.Mh.on(e),XO(t).hh(e)}function DO(t){t.Mh=new oC({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),XO(t).start(),t.kh.Ph()}function RO(t){return LO(t)&&!XO(t).zu()&&t.xh.size>0}function LO(t){return 0===uI(t).Nh.size}function MO(t){t.Mh=void 0}function jO(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){return t.xh.forEach(function(e,n){NO(t,e)}),[2]})})}function VO(t,e){return Gg(this,void 0,void 0,function(){return Kg(this,function(n){return MO(t),RO(t)?(t.kh.Vh(e),DO(t)):t.kh.set("Unknown"),[2]})})}function FO(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o;return Kg(this,function(a){switch(a.label){case 0:if(t.kh.set("Online"),!(e instanceof rC&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o;return Kg(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Lh(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.xh.delete(o),t.Mh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),nI("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,UO(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof eC?t.Mh.dn(e):e instanceof nC?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(TI.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Rx(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}}),n.Oe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(pI.T,n.kt)),PO(t,e);var r=new YS(n.target,e,1,n.sequenceNumber);NO(t,r)}}),t.Dh.$h(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return nI("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,UO(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function UO(t,e,n){return Gg(this,void 0,void 0,function(){var r=this;return Kg(this,function(i){switch(i.label){case 0:if(!WC(e))throw e;return t.Nh.add(1),[4,AO(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return Rx(t.bh)}),t._s.po(function(){return Gg(r,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return nI("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,CO(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function qO(t,e){return e().catch(function(n){return UO(t,n,e)})}function BO(t){return Gg(this,void 0,void 0,function(){var e,n,r,i,o;return Kg(this,function(a){switch(a.label){case 0:e=uI(t),n=$O(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return LO(t)&&t.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,jx(e.bh,r)];case 3:return null===(i=a.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=$O(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,UO(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return HO(e)&&zO(e),[2]}})})}function HO(t){return LO(t)&&!$O(t).zu()&&t.Ch.length>0}function zO(t){$O(t).start()}function GO(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){return $O(t).Eh(),[2]})})}function KO(t){return Gg(this,void 0,void 0,function(){var e,n,r;return Kg(this,function(i){for(e=$O(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function WO(t,e,n){return Gg(this,void 0,void 0,function(){var r,i;return Kg(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=TA.from(r,e,n),[4,qO(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,BO(t)];case 2:return o.sent(),[2]}})})}function QO(t,e){return Gg(this,void 0,void 0,function(){return Kg(this,function(n){switch(n.label){case 0:return e&&$O(t)._h?[4,function(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return PT(r=e.code)&&r!==vI.ABORTED?(n=t.Ch.shift(),$O(t).Yu(),[4,qO(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,BO(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return HO(t)&&zO(t),[2]}})})}function YO(t,e){return Gg(this,void 0,void 0,function(){var n;return Kg(this,function(r){switch(r.label){case 0:return n=uI(t),e?(n.Nh.delete(2),[4,CO(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,AO(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function XO(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=uI(t);return r.Ih(),new kO(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:jO.bind(null,t),Tu:VO.bind(null,t),ah:FO.bind(null,t)}),t.Fh.push(function(n){return Gg(e,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),RO(t)?DO(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),MO(t),e.label=3;case 3:return[2]}})})})),t.Uh}function $O(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=uI(t);return r.Ih(),new EO(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:GO.bind(null,t),Tu:QO.bind(null,t),wh:KO.bind(null,t),dh:WO.bind(null,t)}),t.Fh.push(function(n){return Gg(e,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,BO(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(nI("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var ZO=function(){this.Kh=void 0,this.listeners=[]},JO=function(){this.queries=new QA(function(t){return zS(t)},HS),this.onlineState="Unknown",this.Wh=new Set};function tN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Kg(this,function(c){switch(c.label){case 0:if(n=uI(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ZO),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.jh(r)];case 2:return a.Kh=c.sent(),[3,4];case 3:return s=c.sent(),u=JC(s,"Initialization of query '"+GS(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&iN(n),[2]}})})}function eN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a;return Kg(this,function(s){return n=uI(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function nN(t,e){for(var n=uI(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].zh(a)&&(r=!0);s.Kh=a}}r&&iN(n)}function rN(t,e,n){var r=uI(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function iN(t){t.Wh.forEach(function(t){t.next()})}var oN=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ZT(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ZT.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),aN=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),sN=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return mC(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?IC(this.Qt,t.document,!1):new lS(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return pC(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new sN(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Pc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||WT()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Gg(this,void 0,void 0,function(){var t,e,n,r,i;return Kg(this,function(o){switch(o.label){case 0:return[4,zx(this.bh,new sN(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Gx(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tx(Object.assign({},this.progress),t))]}})})}}();var uN=function(t){this.key=t},cN=function(t){this.key=t},lN=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=WT(),this.De=WT(),this.hl=WS(t),this.ll=new XT(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new $T,i=e?e.ll:this.ll,o=e?e.De:this.De,a=i,s=!1,u=LS(this.query)&&i.size===this.query.limit?i.last():null,c=MS(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof cS?e:null;h&&(h=KS(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),LS(this.query)||MS(this.query))for(;a.size>this.query.limit;){var l=LS(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:a,dl:r,lc:s,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aI()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var a=e?this.Tl():[],s=0===this.ul.size&&this.Be?1:0,u=s!==this.al;return this.al=s,0!==o.length||u?{snapshot:new ZT(this.query,t.ll,i,o,t.De,0===s,u,!1),Il:a}:{Il:a}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new $T,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=WT(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new cN(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new uN(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=WT();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ZT.Ne(this.query,this.ll,this.De,0===this.al)},t}(),hN=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fN=function(t){this.key=t,this.Pl=!1},dN=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new QA(function(t){return zS(t)},HS),this.Sl=new Map,this.Dl=[],this.Cl=new RT(NI.H),this.xl=new Map,this.Nl=new Wx,this.Fl={},this.Ol=new Map,this.kl=rx.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function pN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:return n=HN(t),(i=n.vl.get(e))?(n.Vl.Oa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Vx(n.bh,qS(e))];case 2:return o=s.sent(),a=n.Vl.Oa(o.targetId),[4,vN(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Ll&&xO(n.yl,o),s.label=4;case 4:return[2,r]}})})}function vN(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a,s,u,c;return Kg(this,function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a;return Kg(this,function(s){switch(s.label){case 0:return(i=e.view.fl(n)).lc?[4,Ux(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.wi(i,t.Ll,o),[2,(AN(t,e.targetId,a.Il),a.snapshot)]}})})}(t,e,n,r)},[4,Ux(t.bh,e,!0)];case 1:return i=l.sent(),o=new lN(e,i.Rc),a=o.fl(i.documents),s=tC.$e(n,r&&"Offline"!==t.onlineState),u=o.wi(a,t.Ll,s),AN(t,n,u.Il),c=new hN(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function yN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:return n=uI(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!HS(t,e)})),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Fx(n.bh,r.targetId,!1).then(function(){n.Vl.$a(r.targetId),OO(n.yl,r.targetId),TN(n,r.targetId)}).catch(WA)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return TN(n,r.targetId),[4,Fx(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function gN(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:r=zN(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=uI(t),i=SI.now(),o=e.reduce(function(t,e){return t.add(e.key)},WT());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=mT(c,n.get(c.key));null!=l&&a.push(new kT(c.key,l,sS(l.proto.mapValue),dT.exists(!0)))}return r.zo.Ri(t,i,a,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=s.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new RT(hI)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,NN(r,i.ri)];case 3:return s.sent(),[4,BO(r.yl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=JC(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function mN(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:n=uI(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Lx(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.xl.get(e);r&&(sI(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?sI(r.Pl):t.Qe.size>0&&(sI(r.Pl),r.Pl=!1))}),[4,NN(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,WA(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function bN(t,e,n){var r=uI(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=uI(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&iN(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function wN(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a,s,u;return Kg(this,function(c){switch(c.label){case 0:return(r=uI(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(a=(a=new RT(NI.H)).zt(o,new lS(o,TI.min())),s=WT().add(o),u=new JT(TI.min(),new Map,new jT(hI),a,s),[4,mN(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),ON(r),[3,4];case 2:return[4,Fx(r.bh,e,!1).then(function(){return TN(r,e,n)}).catch(WA)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function _N(t,e){return Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:n=uI(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Dx(n.bh,e)];case 2:return i=o.sent(),SN(n,r,null),IN(n,r),n.Vl.Na(r,"acknowledged"),[4,NN(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,WA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kN(t,e,n){return Gg(this,void 0,void 0,function(){var r,i;return Kg(this,function(o){switch(o.label){case 0:r=uI(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=uI(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return sI(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),SN(r,e,n),IN(r,e),r.Vl.Na(e,"rejected",n),[4,NN(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,WA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function EN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:LO((n=uI(t)).yl)||nI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=uI(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=s.sent(),a=JC(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function IN(t,e){(t.Ol.get(e)||[]).forEach(function(t){t.resolve()}),t.Ol.delete(e)}function SN(t,e,n){var r=uI(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function TN(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach(function(e){t.Nl.Oi(e)||CN(t,e)})}function CN(t,e){var n=t.Cl.get(e);null!==n&&(OO(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),ON(t))}function AN(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof uN?(t.Nl.nr(o.key,e),xN(t,o)):o instanceof cN?(nI("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||CN(t,o.key)):aI()}}function xN(t,e){var n=e.key;t.Cl.get(n)||(nI("SyncEngine","New document in limbo: "+n),t.Dl.push(n),ON(t))}function ON(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new fN(e)),t.Cl=t.Cl.zt(e,n),xO(t.yl,new YS(qS(RS(e.path)),n,2,II.q))}}function NN(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a;return Kg(this,function(s){switch(s.label){case 0:return r=uI(t),i=[],o=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,s){a.push(r.$l(s,e,n).then(function(t){if(t){r.Ll&&r.Vl.Ba(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ax.oc(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.bl.ah(i),[4,function(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Kg(this,function(l){switch(l.label){case 0:n=uI(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return BC.forEach(e,function(e){return BC.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return BC.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!WC(r=l.sent()))throw r;return nI("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.fc.get(s),c=u.$t(u.kt),n.fc=n.fc.zt(s,c));return[2]}})})}(r.bh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function PN(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return(n=uI(t)).currentUser.isEqual(e)?[3,3]:(nI("SyncEngine","User change. New user:",e.A()),[4,Px(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach(function(t){t.forEach(function(t){t.reject(new yI(vI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,NN(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function DN(t,e){var n=uI(t),r=n.xl.get(e);if(r&&r.Pl)return WT().add(r.key);var i=WT(),o=n.Sl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.vl.get(s[a]);i=i.Pe(u.view._l)}return i}function RN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:return[4,Ux((n=uI(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&AN(n,e.targetId,i.Il),i)]}})})}function LN(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){return[2,Bx((e=uI(t)).bh).then(function(t){return NN(e,t)})]})})}function MN(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o;return Kg(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=uI(t),r=uI(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):BC.resolve(null)})})}((i=uI(t)).bh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,BO(i.yl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(SN(i,e,r||null),IN(i,e),function(t,e){uI(uI(t).zo).xi(e)}(i.bh,e)):aI(),a.label=4;case 4:return[4,NN(i,o)];case 5:return a.sent(),[3,7];case 6:nI("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function jN(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Kg(this,function(c){switch(c.label){case 0:return HN(n=uI(t)),zN(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,VN(n,r.it())]);case 1:return i=c.sent(),n.Ml=!0,[4,YO(n.yl,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)xO(n.yl,a[o]);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(s=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.La(e)?s.push(e):u=u.then(function(){return TN(n,e),Fx(n.bh,e,!0)}),OO(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,VN(n,s)];case 5:return c.sent(),function(t){var e=uI(t);e.xl.forEach(function(t,n){OO(e.yl,n)}),e.Nl.kc(),e.xl=new Map,e.Cl=new RT(NI.H)}(n),n.Ml=!1,[4,YO(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function VN(t,e,n){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Kg(this,function(v){switch(v.label){case 0:n=uI(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Sl.get(s=a[o]))&&0!==c.length?[4,Vx(n.bh,qS(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,RN(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qx(n.bh,s)];case 8:return p=v.sent(),[4,Vx(n.bh,p)];case 9:return u=v.sent(),[4,vN(n,FN(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function FN(t){return DS(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function UN(t){var e=uI(t);return uI(uI(e.bh).persistence).Uo()}function qN(t,e,n,r){return Gg(this,void 0,void 0,function(){var i,o,a;return Kg(this,function(s){switch(s.label){case 0:return(i=uI(t)).Ml?(nI("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bx(i.bh)];case 3:return o=s.sent(),a=JT.Le(e,"current"===n),[4,NN(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Fx(i.bh,e,!0)];case 6:return s.sent(),TN(i,e,r),[3,8];case 7:aI(),s.label=8;case 8:return[2]}})})}function BN(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Kg(this,function(f){switch(f.label){case 0:if(!(r=HN(t)).Ml)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(a=o[i])?(nI("SyncEngine","Adding an already active target "+a),[3,5]):[4,qx(r.bh,a)]:[3,6];case 2:return s=f.sent(),[4,Vx(r.bh,s)];case 3:return u=f.sent(),[4,vN(r,FN(s),u.targetId,!1)];case 4:f.sent(),xO(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Kg(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Fx(r.bh,t,!1).then(function(){OO(r.yl,t),TN(r,t)}).catch(WA)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function HN(t){var e=uI(t);return e.yl.Dh.$h=mN.bind(null,e),e.yl.Dh.vn=DN.bind(null,e),e.yl.Dh.Lh=wN.bind(null,e),e.bl.ah=nN.bind(null,e.gl),e.bl.Bl=rN.bind(null,e.gl),e}function zN(t){var e=uI(t);return e.yl.Dh.Bh=_N.bind(null,e),e.yl.Dh.qh=kN.bind(null,e),e}var GN=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return this.Qt=bO(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Nx(this.persistence,new xx,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Jx(eO.ia,this.Qt)},t.prototype.Wl=function(t){return new hO},t.prototype.terminate=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}})})},t}(),KN=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Hg(e,t),e.prototype.initialize=function(e){return Gg(this,void 0,void 0,function(){return Kg(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Hx(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,zN(this.Yl._a)];case 4:return n.sent(),[4,BO(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Nx(this.persistence,new xx,t.Jl,this.Qt)},e.prototype.zl=function(t){return new lx(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Sx(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?KA.Ys(this.cacheSizeBytes):KA.ti;return new kx(this.synchronizeTabs,e,t.clientId,n,t._s,gO(),mO(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new hO},e}(GN),WN=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Hg(e,t),e.prototype.initialize=function(e){return Gg(this,void 0,void 0,function(){var n,r=this;return Kg(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof lO?(this.Vl._a={eu:MN.bind(null,n),nu:qN.bind(null,n),su:BN.bind(null,n),Uo:UN.bind(null,n),tu:LN.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Gg(r,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return[4,jN(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=gO();if(!lO.Kn(e))throw new yI(vI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Sx(t.yu.t,t.yu.persistenceKey);return new lO(e,t._s,n,t.clientId,t.Jl)},e}(KN),QN=function(){function t(){}return t.prototype.initialize=function(t,e){return Gg(this,void 0,void 0,function(){var n=this;return Kg(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return bN(n._a,t,1)},this.yl.Dh.n_=PN.bind(null,this._a),[4,YO(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new JO},t.prototype.Xl=function(t){var e=bO(t.yu.t),n=new yO(t.yu);return function(t,e,n){return new IO(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,a=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return bN(a._a,t,0)},o=dO.Kn()?new dO:new fO,new TO(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,a){var s=new dN(t,e,n,r,i,o);return a&&(s.Ml=!0),s}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return e=uI(t),nI("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,AO(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}})})}(this.yl)},t}(),YN=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),XN=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new qC,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Gg(this,void 0,void 0,function(){var t,e,n,r;return Kg(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new aN(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Gg(this,void 0,void 0,function(){var t,e;return Kg(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Gg(this,void 0,void 0,function(){var t,e;return Kg(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yI(vI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new OI(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),$N=function(t){this._methodName=t},ZN=function(t){this.d_=t};function JN(t,e,n){if(!n)throw new yI(vI.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function tP(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yI(vI.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function eP(t,e,n,r){if(!0===e&&!0===r)throw new yI(vI.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function nP(t){if(!NI.wt(t))throw new yI(vI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function rP(t){if(NI.wt(t))throw new yI(vI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function iP(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":aI()}function oP(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new yI(vI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iP(t);throw new yI(vI.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function aP(t,e){if(e<=0)throw new yI(vI.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var sP=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yI(vI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yI(vI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,eP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),uP=new Map,cP=function(){function t(t,e){this.w_="(lite)",this.E_=new sP({}),this.T_=!1,t instanceof JE?(this.I_=t,this.m_=new wI):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yI(vI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new JE(t.options.projectId)}(t),this.m_=new _I(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new yI(vI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new yI(vI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new sP(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new wI;switch(t.type){case"gapi":var e=t.client;return sI(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new EI(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new yI(vI.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=uP.get(this))&&(nI("ComponentProvider","Removing Datastore"),uP.delete(this),t.terminate()),Promise.resolve();var t},t}(),lP=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fP(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),hP=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),fP=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,RS(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Hg(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new lP(this.firestore,null,new NI(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(hP);function dP(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ZN&&(t=t.d_),JN("collection","path",e),t instanceof cP)return rP(n=AI.ot.apply(AI,Xg([e],r))),new fP(t,null,n);if(!(t instanceof lP||t instanceof fP))throw new yI(vI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rP(n=AI.ot.apply(AI,Xg([t.path],r)).child(AI.ot(e))),new fP(t.firestore,null,n)}function pP(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ZN&&(t=t.d_),1===arguments.length&&(e=lI.u()),JN("doc","path",e),t instanceof cP)return nP(n=AI.ot.apply(AI,Xg([e],r))),new lP(t,null,new NI(n));if(!(t instanceof lP||t instanceof fP))throw new yI(vI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nP(n=t.D_.child(AI.ot.apply(AI,Xg([e],r)))),new lP(t.firestore,t instanceof fP?t.v_:null,new NI(n))}function vP(t,e){return t instanceof ZN&&(t=t.d_),e instanceof ZN&&(e=e.d_),(t instanceof lP||t instanceof fP)&&(e instanceof lP||e instanceof fP)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function yP(t,e){return t instanceof ZN&&(t=t.d_),e instanceof ZN&&(e=e.d_),t instanceof hP&&e instanceof hP&&t.firestore===e.firestore&&HS(t.C_,e.C_)&&t.v_===e.v_}var gP=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yI(vI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yI(vI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return hI(this.x_,t.x_)||hI(this.N_,t.N_)},t}(),mP=/^__.*__$/,bP=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new kT(t,this.data,this.Gt,e,this.fieldTransforms):new _T(t,this.data,e,this.fieldTransforms)},t}(),wP=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new kT(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function _P(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aI()}}var kP=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return BP(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(_P(this.k_)&&mP.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),EP=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||bO(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new kP({k_:t,methodName:e,j_:n,path:OI.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function IP(t){var e=t.p_(),n=bO(t.I_);return new EP(t.I_,!!e.ignoreUndefinedProperties,n)}function SP(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);VP("Data must be an object, but it was:",a,r);var s,u,c=MP(r,a);if(o.merge)s=new LI(a.Gt),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=FP(e,f[h],n);if(!a.contains(d))throw new yI(vI.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");HP(l,d)||l.push(d)}s=new LI(l),u=a.fieldTransforms.filter(function(t){return s.Tt(t.field)})}else s=null,u=a.fieldTransforms;return new bP(new oS(c),s,u)}var TP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($N);function CP(t,e,n){return new kP({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var AP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.z_=function(t){return new hT(t.path,new rT)},e.prototype.isEqual=function(t){return t instanceof e},e}($N),xP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Hg(e,t),e.prototype.z_=function(t){var e=CP(this,t,!0),n=this.H_.map(function(t){return LP(t,e)}),r=new iT(n);return new hT(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($N),OP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Hg(e,t),e.prototype.z_=function(t){var e=CP(this,t,!0),n=this.H_.map(function(t){return LP(t,e)}),r=new aT(n);return new hT(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($N),NP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Hg(e,t),e.prototype.z_=function(t){var e=new uT(t.Qt,ZS(t.Qt,this.J_));return new hT(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($N);function PP(t,e,n,r){var i=t.G_(1,e,n);VP("Data must be an object, but it was:",i,r);var o=[],a=new aS;DI(r,function(t,r){var s=qP(e,t,n);r instanceof ZN&&(r=r.d_);var u=i.U_(s);if(r instanceof TP)o.push(s);else{var c=LP(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new LI(o);return new wP(a.Pt(),s,i.fieldTransforms)}function DP(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[FP(e,r,n)],u=[i];if(o.length%2!=0)throw new yI(vI.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(FP(e,o[c])),u.push(o[c+1]);for(var l=[],h=new aS,f=s.length-1;f>=0;--f)if(!HP(l,s[f])){var d=s[f],p=u[f];p instanceof ZN&&(p=p.d_);var v=a.U_(d);if(p instanceof TP)l.push(d);else{var y=LP(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new LI(l);return new wP(h.Pt(),g,a.fieldTransforms)}function RP(t,e,n,r){return void 0===r&&(r=!1),LP(n,t.G_(r?4:3,e))}function LP(t,e){if(t instanceof ZN&&(t=t.d_),jP(t))return VP("Unsupported field value:",e,t),MP(t,e);if(t instanceof $N)return function(t,e){if(!_P(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=LP(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ZN&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ZS(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=SI.fromDate(t);return{timestampValue:hC(e.Qt,n)}}if(t instanceof SI)return n=new SI(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hC(e.Qt,n)};if(t instanceof gP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gI)return{bytesValue:fC(e.Qt,t.I)};if(t instanceof lP){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:vC(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+iP(t))}(t,e)}function MP(t,e){var n={};return RI(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):DI(t,function(t,r){var i=LP(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function jP(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof SI||t instanceof gP||t instanceof gI||t instanceof lP||t instanceof $N)}function VP(t,e,n){if(!jP(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=iP(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function FP(t,e,n){if(e instanceof ZN&&(e=e.d_),e instanceof XN)return e.f_;if("string"==typeof e)return qP(t,e);throw BP("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var UP=new RegExp("[~\\*/\\[\\]]");function qP(t,e,n){if(e.search(UP)>=0)throw BP("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(XN.bind.apply(XN,Xg([void 0],e.split("."))))).f_}catch(r){throw BP("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function BP(t,e,n,r,i){var o=r&&!r.et(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new yI(vI.INVALID_ARGUMENT,(s+=". ")+t+u)}function HP(t,e){return t.some(function(t){return t.isEqual(e)})}var zP=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Gg(this,void 0,void 0,function(){var e,n=this;return Kg(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new yI(vI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Gg(this,void 0,void 0,function(){var n,r,i,o,a,s;return Kg(this,function(u){switch(u.label){case 0:return n=uI(t),r=_C(n.Qt)+"/documents",i={documents:e.map(function(t){return gC(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){sI(!!e.found);var n=mC(t,e.found.name),r=pC(e.found.updateTime),i=new oS({mapValue:{fields:e.found.fields}});return new cS(n,r,i,{})}(t,e):"missing"in e?function(t,e){sI(!!e.missing),sI(!!e.readTime);var n=mC(t,e.missing),r=pC(e.readTime);return new lS(n,r)}(t,e):aI()}(n.Qt,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());sI(!!e),s.push(e)}),s)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof lS||t instanceof cS?n.sf(t):aI()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new xT(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Gg(this,void 0,void 0,function(){var t,e=this;return Kg(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=NI._t(n);e.mutations.push(new OT(r,e.jt(r)))}),[4,function(t,e){return Gg(this,void 0,void 0,function(){var n,r,i;return Kg(this,function(o){switch(o.label){case 0:return n=uI(t),r=_C(n.Qt)+"/documents",i={writes:e.map(function(t){return SC(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof cS)e=t.version;else{if(!(t instanceof lS))throw aI();e=TI.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yI(vI.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?dT.updateTime(e):dT.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(TI.min()))throw new yI(vI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dT.updateTime(e)}return dT.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),GP=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new wO(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u(function(){return Gg(t,void 0,void 0,function(){var t,e,n=this;return Kg(this,function(r){return t=new zP(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!HI(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!PT(e)}return!1},t}(),KP=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=mI.UNAUTHENTICATED,this.clientId=lI.u(),this._f=function(){},this.C=new qC,this.credentials.v(function(t){nI("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Gg(this,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new yI(vI.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new qC;return this._s.Tf(function(){return Gg(t,void 0,void 0,function(){var t,n;return Kg(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=JC(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function WP(t,e){return Gg(this,void 0,void 0,function(){var n,r,i=this;return Kg(this,function(o){switch(o.label){case 0:return t._s.Af(),nI("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Gg(i,void 0,void 0,function(){return Kg(this,function(t){switch(t.label){case 0:return[4,Px(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function QP(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,YP(t)];case 1:return n=i.sent(),nI("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Gg(this,void 0,void 0,function(){var n,r;return Kg(this,function(i){switch(i.label){case 0:return(n=uI(t))._s.Af(),nI("RemoteStore","RemoteStore received new credentials"),r=LO(n),n.Nh.add(3),[4,AO(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,CO(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function YP(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(nI("FirestoreClient","Using default OfflineComponentProvider"),[4,WP(t,new GN)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function XP(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(nI("FirestoreClient","Using default OnlineComponentProvider"),[4,QP(t,new QN)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function $P(t){return YP(t).then(function(t){return t.persistence})}function ZP(t){return YP(t).then(function(t){return t.bh})}function JP(t){return XP(t).then(function(t){return t.yl})}function tD(t){return XP(t).then(function(t){return t._a})}function eD(t){return Gg(this,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:return[4,XP(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=pN.bind(null,e._a),n.Hh=yN.bind(null,e._a),n)]}})})}function nD(t,e,n){var r=this;void 0===n&&(n={});var i=new qC;return t._s.Ps(function(){return Gg(r,void 0,void 0,function(){var r;return Kg(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new YN({next:function(o){e.Ps(function(){return eN(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new yI(vI.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new yI(vI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new oN(RS(n.path),o,{includeMetadataChanges:!0,nl:!0});return tN(t,a)},[4,eD(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function rD(t,e,n){var r=this;void 0===n&&(n={});var i=new qC;return t._s.Ps(function(){return Gg(r,void 0,void 0,function(){var r;return Kg(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new YN({next:function(n){e.Ps(function(){return eN(t,a)}),n.fromCache&&"server"===r.source?i.reject(new yI(vI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new oN(n,o,{includeMetadataChanges:!0,nl:!0});return tN(t,a)},[4,eD(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var iD=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new wO(this,"async_queue_retry"),this.vf=function(){var e=mO();e&&nI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=mO();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=mO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Gg(this,void 0,void 0,function(){var t,e=this;return Kg(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!WC(t=n.sent()))throw t;return nI("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,rI("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=ZC.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&aI()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Gg(this,void 0,void 0,function(){var t;return Kg(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function oD(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new qC,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var aD=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new iD,r.w_="name"in e?e.name:"[DEFAULT]",r}return Hg(e,t),e.prototype.b_=function(){return this.qf||uD(this),this.qf.terminate()},e}(cP);function sD(t){return t.qf||uD(t),t.qf.df(),t.qf}function uD(t){var e=t.p_(),n=function(t,e,n){return new ZE(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new KP(t.m_,t.Bf,n)}function cD(t,e,n){var r=this,i=new qC;return t._s.enqueue(function(){return Gg(r,void 0,void 0,function(){var r;return Kg(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,WP(t,n)];case 1:return o.sent(),[4,QP(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vI.FAILED_PRECONDITION||t.code===vI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lD(t){if(t.R_||t.P_)throw new yI(vI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hD=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),KI(t)){case 0:return null;case 1:return t.booleanValue;case 2:return VI(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(FI(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw aI()}},t.prototype.Hf=function(t,e){var n=this,r={};return DI(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new gP(VI(t.latitude),VI(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=qI(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(BI(t));default:return null}},t.prototype.Qf=function(t){var e=jI(t);return new SI(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=AI.ot(t);sI(UC(n));var r=new JE(n.get(1),n.get(3)),i=new NI(n.Y(5));return r.isEqual(e)||rI("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),fD=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new lP(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new dD(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(pD("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),dD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(fD);function pD(t,e){return"string"==typeof e?qP(t,e):e instanceof ZN?e.d_.f_:e.f_}function vD(t){if(MS(t)&&0===t.xt.length)throw new yI(vI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yD=function(){};function gD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var mD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Hg(e,t),e.prototype.td=function(t){var e=IP(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new yI(vI.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){SD(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(ID(r,t,l[c]));s={arrayValue:{values:u}}}else s=ID(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||SD(a,o),s=RP(n,"where",a,"in"===o||"not-in"===o);var h=gS.create(i,o,s);return function(t,e){if(e.Ct()){var n=VS(t);if(null!==n&&!n.isEqual(e.field))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jS(t);null!==r&&TD(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new yI(vI.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new hP(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new PS(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(yD),bD=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Hg(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new yI(vI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yI(vI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new AS(e,n);return function(t,e){if(null===jS(t)){var n=VS(t);null!==n&&TD(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new hP(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new PS(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(yD),wD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Hg(e,t),e.prototype.td=function(t){return new hP(t.firestore,t.v_,BS(t.C_,this.od,this.ad))},e}(yD),_D=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Hg(e,t),e.prototype.td=function(t){var e=ED(t,this.type,this.ud,this.hd);return new hP(t.firestore,t.v_,function(t,e){return new PS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(yD),kD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Hg(e,t),e.prototype.td=function(t){var e=ED(t,this.type,this.ud,this.hd);return new hP(t.firestore,t.v_,function(t,e){return new PS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(yD);function ED(t,e,n,r){if(n[0]instanceof ZN&&(n[0]=n[0].d_),n[0]instanceof fD)return function(t,e,n,r,i){if(!r)throw new yI(vI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=US(t);a<s.length;a++){var u=s[a];if(u.field.ut())o.push(JI(e,r.key));else{var c=r.field(u.field);if(UI(c))throw new yI(vI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new yI(vI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new TS(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=IP(t.firestore);return function(t,e,n,r,i,o){var a=t.xt;if(i.length>a.length)throw new yI(vI.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ut()){if("string"!=typeof c)throw new yI(vI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!FS(t)&&-1!==c.indexOf("/"))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(AI.ot(c));if(!NI.wt(l))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new NI(l);s.push(JI(e,h))}else{var f=RP(n,r,c);s.push(f)}}return new TS(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ID(t,e,n){if(n instanceof ZN&&(n=n.d_),"string"==typeof n){if(""===n)throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!FS(e)&&-1!==n.indexOf("/"))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(AI.ot(n));if(!NI.wt(r))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return JI(t,new NI(r))}if(n instanceof lP)return JI(t,n.S_);throw new yI(vI.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+iP(n)+".")}function SD(t,e){if(!Array.isArray(t)||0===t.length)throw new yI(vI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yI(vI.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function TD(t,e,n){if(!n.isEqual(e))throw new yI(vI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function CD(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var AD=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Hg(e,t),e.prototype.Wf=function(t){return new gI(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new lP(this.firestore,null,e)},e}(hD),xD=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),OD=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).Yf=e,s.ld=e,s.metadata=o,s}return Hg(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new ND(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(pD("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(fD),ND=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(OD),PD=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new xD(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new ND(n.Yf,n.Xf,r.key,r,new xD(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new yI(vI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new ND(t.Yf,t.Xf,e.doc.key,e.doc,new xD(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ND(t.Yf,t.Xf,e.doc.key,e.doc,new xD(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:DD(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function DD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aI()}}function RD(t,e){return t instanceof OD&&e instanceof OD?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof PD&&e instanceof PD&&t.Yf===e.Yf&&yP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var LD=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Hg(e,t),e.prototype.Wf=function(t){return new gI(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new lP(this.firestore,null,e)},e}(hD);function MD(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=oP(t,lP);var o=oP(t.firestore,aD),a=IP(o);return e instanceof ZN&&(e=e.d_),VD(o,[("string"==typeof e||e instanceof XN?DP(a,"updateDoc",t.S_,e,n,r):PP(a,"updateDoc",t.S_,e)).F_(t.S_,dT.exists(!0))])}function jD(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ZN&&(t=t.d_);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||oD(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(oD(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof lP)c=oP(t.firestore,aD),l=RS(t.S_.path),u={next:function(e){i[s]&&i[s](FD(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=oP(t,hP);c=oP(d.firestore,aD),l=d.C_;var p=new LD(c);u={next:function(t){i[s]&&i[s](new PD(c,p,d,t))},error:i[s+1],complete:i[s+2]},vD(t.C_)}return function(t,e,n,r){var i=this,o=new YN(r),a=new oN(e,o,n);return t._s.Ps(function(){return Gg(i,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return e=tN,[4,eD(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.i_(),t._s.Ps(function(){return Gg(i,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return e=eN,[4,eD(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(sD(c),l,h,u)}function VD(t,e){return function(t,e){var n=this,r=new qC;return t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var n;return Kg(this,function(i){switch(i.label){case 0:return n=gN,[4,tD(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(sD(t),e)}function FD(t,e,n){var r=n.docs.get(e.S_),i=new LD(t);return new OD(t,i,e.S_,r,new xD(n.hasPendingWrites,n.fromCache),e.v_)}var UD=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=IP(t)}return t.prototype.set=function(t,e,n){this.md();var r=qD(t,this.Yf),i=CD(r.v_,e,n),o=SP(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,dT.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,a=qD(t,this.Yf);return e instanceof ZN&&(e=e.d_),o="string"==typeof e||e instanceof XN?DP(this.Id,"WriteBatch.update",a.S_,e,n,r):PP(this.Id,"WriteBatch.update",a.S_,e),this.Ed.push(o.F_(a.S_,dT.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=qD(t,this.Yf);return this.Ed=this.Ed.concat(new xT(e.S_,dT.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new yI(vI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function qD(t,e){if(t instanceof ZN&&(t=t.d_),t.firestore!==e)throw new yI(vI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var BD=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Hg(e,t),e.prototype.get=function(e){var n=this,r=qD(e,this.Yf),i=new LD(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new OD(n.Yf,i,r.S_,t.Zf,new xD(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=IP(t)}return t.prototype.get=function(t){var e=this,n=qD(t,this.Yf),r=new AD(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return aI();var i=t[0];if(i instanceof lS)return new fD(e.Yf,r,n.S_,null,n.v_);if(i instanceof cS)return new fD(e.Yf,r,i.key,i,n.v_);throw aI()})},t.prototype.set=function(t,e,n){var r=qD(t,this.Yf),i=CD(r.v_,e,n),o=SP(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=qD(t,this.Yf);return e instanceof ZN&&(e=e.d_),o="string"==typeof e||e instanceof XN?DP(this.Id,"Transaction.update",a.S_,e,n,r):PP(this.Id,"Transaction.update",a.S_,e),this.Ad.update(a.S_,o),this},t.prototype.delete=function(t){var e=qD(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function HD(){if("undefined"==typeof Uint8Array)throw new yI(vI.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zD(){if("undefined"==typeof atob)throw new yI(vI.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var GD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.fromBase64String=function(t){return zD(),new e(gI.fromBase64String(t))},e.fromUint8Array=function(t){return HD(),new e(gI.fromUint8Array(t))},e.prototype.toBase64=function(){return zD(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return HD(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ZN),KD=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lD(t=oP(t,aD));var n=sD(t),r=t.p_(),i=new QN;return cD(n,i,new KN(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lD(t=oP(t,aD));var e=sD(t),n=t.p_(),r=new QN;return cD(e,r,new WN(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new yI(vI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new qC;return t.Bf.Tf(function(){return Gg(e,void 0,void 0,function(){var e;return Kg(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Gg(this,void 0,void 0,function(){return Kg(this,function(e){switch(e.label){case 0:return zC.Kn()?[4,zC.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Sx(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),WD=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof JE||(i.Pd=e),i}return Hg(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=oP(t,cP)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&iI("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Gg(e,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:return[4,$P(t)];case 1:return e=r.sent(),[4,JP(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=uI(t);return e.Nh.delete(0),CO(e)}(n))]}})})})}(sD(oP(this.d_,aD)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Gg(e,void 0,void 0,function(){var e,n;return Kg(this,function(r){switch(r.label){case 0:return[4,$P(t)];case 1:return e=r.sent(),[4,JP(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Gg(this,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return(e=uI(t)).Nh.add(0),[4,AO(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}})})}(n))]}})})})}(sD(oP(this.d_,aD)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&eP("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new qC;return t._s.Ps(function(){return Gg(e,void 0,void 0,function(){var e;return Kg(this,function(r){switch(r.label){case 0:return e=EN,[4,tD(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(sD(oP(this.d_,aD)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new YN(e);return t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return e=function(t,e){uI(t).Wh.add(e),e.next()},[4,eD(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var e;return Kg(this,function(n){switch(n.label){case 0:return e=function(t,e){uI(t).Wh.delete(e)},[4,eD(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(sD(t=oP(t,aD)),oD(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new yI(vI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sR(this,dP(this.d_,t))}catch(t){throw JD(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ZD(this,pP(this.d_,t))}catch(t){throw JD(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new iR(this,function(t,e){if(t=oP(t,cP),JN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yI(vI.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hP(t,null,function(t){return new PS(AI.ct(),t)}(e))}(this.d_,t))}catch(t){throw JD(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new qC;return t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var n;return Kg(this,function(i){switch(i.label){case 0:return[4,function(t){return XP(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new GP(t._s,n,e,r).run(),[2]}})})}),r.promise}(sD(t),function(n){return e(new BD(t,n))})}(this.d_,function(n){return t(new YD(e,n))})},e.prototype.batch=function(){var t=this;return sD(this.d_),new XD(new UD(this.d_,function(e){return VD(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new yI(vI.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new yI(vI.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ZN),QD=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Hg(e,t),e.prototype.Wf=function(t){return new GD(new gI(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return ZD.yd(e,this.firestore,null)},e}(hD),YD=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new QD(e),r}return Hg(e,t),e.prototype.get=function(t){var e=this,n=uR(t);return this.d_.get(n).then(function(t){return new nR(e.Yf,new OD(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=uR(t);return n?(tP("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=uR(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,Xg([a,e,n],i)),this},e.prototype.delete=function(t){var e=uR(t);return this.d_.delete(e),this},e}(ZN),XD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.set=function(t,e,n){var r=uR(t);return n?(tP("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=uR(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,Xg([a,e,n],i)),this},e.prototype.delete=function(t){var e=uR(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(ZN),$D=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Hg(e,t),e.prototype.fromFirestore=function(t,e){var n=new ND(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new rR(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new QD(t),n),i.set(n,o)),o},e}(ZN);$D.Vd=new WeakMap;var ZD=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new QD(e),r}return Hg(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new yI(vI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new lP(n.d_,r,new NI(t)))},e.yd=function(t,n,r){return new e(n,new lP(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sR(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sR(this.firestore,dP(this.d_,t))}catch(t){throw JD(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ZN&&(t=t.d_),t instanceof lP&&vP(this.d_,t)},e.prototype.set=function(t,e){e=tP("DocumentReference.set",e);try{return function(t,e,n){t=oP(t,lP);var r=oP(t.firestore,aD),i=CD(t.v_,e,n);return VD(r,[SP(IP(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,dT.Kt())])}(this.d_,t,e)}catch(t){throw JD(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?MD(this.d_,t):MD.apply(void 0,Xg([this.d_,t,e],n))}catch(t){throw JD(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return VD(oP((t=this.d_).firestore,aD),[new xT(t.S_,dT.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=tR(e),i=eR(e,function(e){return new nR(t.firestore,new OD(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return jD(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=oP(t,lP);var e=oP(t.firestore,aD),n=sD(e),r=new LD(e);return function(t,e){var n=this,r=new qC;return t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var n;return Kg(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Gg(this,void 0,void 0,function(){var r,i;return Kg(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=uI(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof cS?n.resolve(i):i instanceof lS?n.resolve(null):n.reject(new yI(vI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=JC(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,ZP(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new OD(e,r,t.S_,n,new xD(n instanceof cS&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=oP(t,lP);var e=oP(t.firestore,aD);return nD(sD(e),t.S_,{source:"server"}).then(function(n){return FD(e,t,n)})}(this.d_):function(t){t=oP(t,lP);var e=oP(t.firestore,aD);return nD(sD(e),t.S_).then(function(n){return FD(e,t,n)})}(this.d_)).then(function(t){return new nR(e.firestore,new OD(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter($D.gd(this.firestore,t)))},e}(ZN);function JD(t,e,n){return t.message=t.message.replace(e,n),t}function tR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!oD(r))return r}return{}}function eR(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=oD(t[0])?t[0]:oD(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var nR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Hg(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ZD(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return RD(this.d_,t.d_)},e}(ZN),rR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(nR),iR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new QD(e),r}return Hg(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,gD(this.d_,function(t,e,n){var r=e,i=pD("where",t);return new mD(i,r,n)}(t,n,r)))}catch(t){throw JD(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,gD(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=pD("orderBy",t);return new bD(r,n)}(t,n)))}catch(t){throw JD(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,gD(this.d_,function(t){return aP("limit",t),new wD("limit",t,"F")}(t)))}catch(t){throw JD(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,gD(this.d_,function(t){return aP("limitToLast",t),new wD("limitToLast",t,"L")}(t)))}catch(t){throw JD(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gD(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _D("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw JD(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gD(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _D("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw JD(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gD(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kD("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw JD(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gD(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kD("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw JD(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return yP(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=oP(t,hP);var e=oP(t.firestore,aD),n=sD(e),r=new LD(e);return function(t,e){var n=this,r=new qC;return t._s.Ps(function(){return Gg(n,void 0,void 0,function(){var n;return Kg(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Gg(this,void 0,void 0,function(){var r,i,o,a,s;return Kg(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ux(t,e,!0)];case 1:return s=u.sent(),r=new lN(e,s.Rc),i=r.fl(s.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=JC(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,ZP(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new PD(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=oP(t,hP);var e=oP(t.firestore,aD),n=sD(e),r=new LD(e);return rD(n,t.C_,{source:"server"}).then(function(n){return new PD(e,r,t,n)})}(this.d_):function(t){t=oP(t,hP);var e=oP(t.firestore,aD),n=sD(e),r=new LD(e);return vD(t.C_),rD(n,t.C_).then(function(n){return new PD(e,r,t,n)})}(this.d_)).then(function(t){return new aR(e.firestore,new PD(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=tR(e),i=eR(e,function(e){return new aR(t.firestore,new PD(t.firestore.d_,t.Xf,t.d_,e._d))});return jD(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter($D.gd(this.firestore,t)))},e}(ZN),oR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Hg(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new rR(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(ZN),aR=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Hg(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new iR(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new rR(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new oR(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new rR(n.Yf,r))})},e.prototype.isEqual=function(t){return RD(this.d_,t.d_)},e}(ZN),sR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Hg(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new ZD(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ZD(this.firestore,void 0===t?pP(this.d_):pP(this.d_,t))}catch(t){throw JD(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=oP(t.firestore,aD),r=pP(t),i=CD(t.v_,e);return VD(n,[SP(IP(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,dT.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new ZD(e.firestore,t)})},e.prototype.isEqual=function(t){return vP(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter($D.gd(this.firestore,t)))},e}(iR);function uR(t){return t instanceof ZN&&(t=t.d_),oP(t,lP)}var cR,lR=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(XN.bind.apply(XN,Xg([void 0],e))))||this}return Hg(e,t),e.documentId=function(){return new e(OI.ht().rt())},e.prototype.isEqual=function(t){return t instanceof ZN&&(t=t.d_),t instanceof XN&&this.d_.f_.isEqual(t.f_)},e}(ZN),hR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hg(e,t),e.serverTimestamp=function(){var t=new AP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new TP("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xP("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new OP("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new NP("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(ZN),fR={Firestore:WD,GeoPoint:gP,Timestamp:SI,Blob:GD,Transaction:YD,WriteBatch:XD,DocumentReference:ZD,DocumentSnapshot:nR,Query:iR,QueryDocumentSnapshot:rR,QuerySnapshot:aR,CollectionReference:sR,FieldPath:lR,FieldValue:hR,setLogLevel:function(t){tI.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new vm("firestore",function(t){return function(t,e){return new WD(t,new aD(t,e),new KD)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fR)))})(cR=qm),cR.registerVersion("@firebase/firestore","2.1.5");var dR,pR=((dR=function(){function t(){v(this,t)}return g(t,[{key:"signIn",value:function(t,e){return qg(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",qm.auth().signInWithEmailAndPassword(t,e).then(function(){return{status:"logged in"}}).catch(function(t){return{status:"error",errorMessage:t.message}}));case 1:case"end":return n.stop()}},n)}))}},{key:"signOut",value:function(){qm.auth().signOut().then(function(){console.log("Signed Out")}).catch(function(t){console.error(t)})}},{key:"getSignInStatus",value:function(){return new D(function(t){var e=qm.auth().onAuthStateChanged(function(e){t.next(e)});return function(){return e()}})}}]),t}()).\u0275fac=function(t){return new(t||dR)},dR.\u0275prov=Et({token:dR,factory:dR.\u0275fac,providedIn:"root"}),dR);qm.initializeApp({apiKey:"AIzaSyA-VnpxuMGw5OAb71i-9SrZdLXJsho8D6o",authDomain:"star-wars-all-stars.firebaseapp.com",databaseURL:"https://star-wars-all-stars-default-rtdb.firebaseio.com",projectId:"star-wars-all-stars",storageBucket:"star-wars-all-stars.appspot.com",messagingSenderId:"775785381521",appId:"1:775785381521:web:08cd5039529aac26704930",measurementId:"G-T7RS5XF38F"});var vR,yR,gR,mR=qm.firestore(),bR=((gR=function(){function t(){v(this,t)}return g(t,[{key:"returnMovieDomainModel",value:function(t,e){return{director:t.fields.director,docId:e,openingCrawl:this.getRidOfLineBreaks(t.fields.opening_crawl),pk:t.pk,producer:t.fields.producer,releaseDate:t.fields.release_date,title:t.fields.title,characters:t.fields.characters,created:t.fields.created,edited:t.fields.edited,episodeId:t.fields.episode_id,planets:t.fields.planets,species:t.fields.species,starships:t.fields.starships,vehicles:t.fields.vehicles,model:t.model}}},{key:"returnMovieDTO",value:function(t,e){var n;return{fields:{director:t.director,opening_crawl:this.getRidOfLineBreaks(t.openingCrawl),producer:t.producer,release_date:t.releaseDate,title:t.title,created:null!==(n=t.created)&&void 0!==n?n:(new Date).toISOString(),edited:(new Date).toISOString(),episode_id:"",characters:[],planets:[],species:[],starships:[],vehicles:[]},pk:e+1,model:""}}},{key:"getRidOfLineBreaks",value:function(t){if(t)return t.replace(/[\n\r]+/gm," ")}}]),t}()).\u0275fac=function(t){return new(t||gR)},gR.\u0275prov=Et({token:gR,factory:gR.\u0275fac,providedIn:"root"}),gR),wR=((yR=function(){function t(e){v(this,t),this.mapper=e}return g(t,[{key:"add",value:function(t){return qg(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mR.collection("films").get().then(function(t){return t.docs.length}).then(function(e){return mR.collection("films").add(Object.assign({},n.mapper.returnMovieDTO(t,e)))});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(console.error("Error adding document: ",e.t0),e.t0));case 9:case"end":return e.stop()}},e,null,[[0,6]])}))}},{key:"delete",value:function(t){return qg(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mR.collection("films").doc(t).delete();case 3:console.log("Document successfully deleted!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error removing document: ",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))}},{key:"saveChangesMovie",value:function(t,e){var n;return qg(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,mR.collection("films").doc(e.docId).update({"fields.title":t.title,"fields.opening_crawl":t.openingCrawl,"fields.producer":t.producer,"fields.release_date":t.releaseDate,"fields.director":t.director,"fields.created":null!==(n=e.created)&&void 0!==n?n:new Date,"fields.edited":new Date});case 3:console.log("Document successfully updated!"),r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",console.error(r.t0));case 9:case"end":return r.stop()}},r,null,[[0,6]])}))}},{key:"returnMovieDataObserver",value:function(){var t=this,e=mR.collection("films");return new D(function(n){var r=e.onSnapshot(function(e){var r=[];e.forEach(function(e){r.push(t.mapper.returnMovieDomainModel(e.data(),e.id))}),n.next(r)});return function(){return r()}})}},{key:"getRelevantPeople",value:function(t){return new D(function(e){if(!(t.length<1)){t=t.splice(0,10);var n=mR.collection("people").where("pk","in",t).onSnapshot(function(t){var n=[];t.forEach(function(t){var e=t.data();n.push(e)}),e.next(n)});return function(){return n()}}e.next(null)})}},{key:"getRelevantPlanets",value:function(t){return new D(function(e){if(!(t.length<1)){t=t.splice(0,10);var n=mR.collection("planets").where("pk","in",t).onSnapshot(function(t){var n=[];t.forEach(function(t){var e=t.data();n.push(e)}),e.next(n)});return function(){return n()}}e.next(null)})}},{key:"findMovie",value:function(t){var e=this;return new D(function(n){var r=mR.collection("films").where("fields.title","==",t).onSnapshot(function(t){var r=[];t.forEach(function(t){r.push(e.mapper.returnMovieDomainModel(t.data(),t.id))}),n.next(r)});return function(){return r()}})}}]),t}()).\u0275fac=function(t){return new(t||yR)(vr(bR))},yR.\u0275prov=Et({token:yR,factory:yR.\u0275fac,providedIn:"root"}),yR),_R=((vR=function t(){v(this,t),this.movieItem=null,this.movieItemSubject=new Kd(this.movieItem)}).\u0275prov=Et({token:vR,factory:vR.\u0275fac=function(t){return new(t||vR)},providedIn:"root"}),vR),kR=["loginForm"],ER=["email_ref"];function IR(t,e){1&t&&(Qo(0,"span",4),va(1,"Please enter a valid e-mail"),Yo())}function SR(t,e){1&t&&(Qo(0,"span",4),va(1,"Please enter your e-mail"),Yo())}function TR(t,e){1&t&&(Qo(0,"span",4),va(1,"Please enter your password"),Yo())}function CR(t,e){1&t&&(Qo(0,"span",4),va(1,"Please enter a password"),Yo())}var AR,xR,OR=((xR=function(){function t(e,n){v(this,t),this.loginStateService=e,this.auth=n}return g(t,[{key:"ngAfterViewInit",value:function(){this.loginFormElement.nativeElement.focus()}},{key:"closeLoginModal",value:function(){this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1}},{key:"submitForm",value:function(){var t=this;this.loginFormCredentials.valid&&this.auth.signIn(this.loginFormCredentials.value.email,this.loginFormCredentials.value.password).then(function(e){"error"===e.status?t.statusMessage=e.errorMessage:(t.loginFormCredentials.reset(),t.closeLoginModal())})}}]),t}()).\u0275fac=function(t){return new(t||xR)(Go(Ug),Go(pR))},xR.\u0275cmp=te({type:xR,selectors:[["app-login"]],viewQuery:function(t,e){var n;1&t&&(iu(kR,1),iu(ER,1)),2&t&&(ru(n=au())&&(e.loginFormCredentials=n.first),ru(n=au())&&(e.loginFormElement=n.first))},inputs:{isLoginModalVisible:"isLoginModalVisible"},decls:28,vars:5,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group","align-right"],["type","button",1,"bi","bi-x-circle",3,"click"],[1,"help-block"],[1,"form-group"],[1,"label-w-100"],["name","email","type","email","id","inputEmail","placeholder","Email","ngModel","","required","","email","",1,"form-control"],["email","ngModel","email_ref",""],["class","help-block",4,"ngIf"],["name","password","type","password","placeholder","Password","ngModel","","required","","password","",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-default","align-center"]],template:function(t,e){if(1&t&&(Qo(0,"form",0,1),ra("ngSubmit",function(){return e.submitForm()}),Qo(2,"div",2),Qo(3,"button",3),ra("click",function(){return e.closeLoginModal()}),Yo(),Yo(),Qo(4,"span",4),va(5),Yo(),Qo(6,"div",5),Qo(7,"h2"),va(8,"Login"),Yo(),Qo(9,"label",6),Qo(10,"span"),va(11,"Email address"),Yo(),Xo(12,"input",7,8),Yo(),Ho(15,IR,2,0,"span",9),Ho(16,SR,2,0,"span",9),Yo(),Qo(17,"div",5),Qo(18,"label",6),Qo(19,"span"),va(20,"Password"),Yo(),Xo(21,"input",10,11),Yo(),Ho(23,TR,2,0,"span",9),Ho(24,CR,2,0,"span",9),Yo(),Qo(25,"div",5),Qo(26,"button",12),va(27,"Submit"),Yo(),Yo(),Yo()),2&t){var n=zo(1),r=zo(13),i=zo(22);yi(5),ya(e.statusMessage),yi(10),Ko("ngIf",!r.valid&&r.touched),yi(1),Ko("ngIf",!r.valid&&!r.touched&&n.submitted),yi(7),Ko("ngIf",!i.valid&&i.touched),yi(1),Ko("ngIf",!i.valid&&!i.touched&&n.submitted)}},directives:[Wf,sf,Hf,Ah,af,Kf,Yf,$f,kl],styles:["form[_ngcontent-%COMP%]{min-width:337px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;background:#fff;z-index:100;padding:15px;border-radius:15px;left:35%;top:15%}@media screen and (max-width:414px){form[_ngcontent-%COMP%]{left:2%;top:15%;width:95%}}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.bi[_ngcontent-%COMP%]{cursor:pointer}.align-right[_ngcontent-%COMP%]{text-align:right}.align-center[_ngcontent-%COMP%]{text-align:center}.label-w-100[_ngcontent-%COMP%]{width:100%}.bi-x-circle[_ngcontent-%COMP%]{background-color:transparent;border:none}"]}),xR),NR=((AR=function(){function t(){v(this,t),this.response=new Gs}return g(t,[{key:"emitTrue",value:function(){this.response.emit(!0)}},{key:"emitFalse",value:function(){this.response.emit(!1)}}]),t}()).\u0275fac=function(t){return new(t||AR)},AR.\u0275cmp=te({type:AR,selectors:[["app-confirmation"]],outputs:{response:"response"},decls:13,vars:0,consts:[[1,"container-fluid","absolute-popup-window","background-white"],[1,"row"],[1,"col-md-6","align-center"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"p"),va(2,"You've unsaved changes."),Yo(),Qo(3,"p"),Qo(4,"strong"),va(5,"Are you sure you want to cancel?"),Yo(),Yo(),Qo(6,"div",1),Qo(7,"div",2),Qo(8,"button",3),ra("click",function(){return e.emitTrue()}),va(9,"Yes"),Yo(),Yo(),Qo(10,"div",2),Qo(11,"button",3),ra("click",function(){return e.emitFalse()}),va(12,"No"),Yo(),Yo(),Yo(),Yo())},styles:[".absolute-popup-window[_ngcontent-%COMP%]{padding:15px;border-radius:15px;width:30%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;z-index:100;left:35%;top:35%}.background-white[_ngcontent-%COMP%]{background:#fff}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),AR),PR=["editMovieForm"];function DR(t,e){if(1&t){var n=Jo();Qo(0,"div",3),ra("click",function(){return Ke(n),aa().closePopUp()}),Yo()}}var RR=function(t){return{absolute:t}};function LR(t,e){if(1&t){var n=Jo();Qo(0,"div",4),Qo(1,"form",5,6),ra("ngSubmit",function(){return Ke(n),aa().closeAndSave()}),Qo(3,"dl",7),Qo(4,"h1"),va(5),Yo(),Qo(6,"dt"),va(7,"Movie title:"),Yo(),Qo(8,"dd"),Xo(9,"input",8),Yo(),Qo(10,"dt"),va(11,"Producers:"),Yo(),Qo(12,"dd"),Xo(13,"input",9),Yo(),Qo(14,"dt"),va(15,"Release date:"),Yo(),Qo(16,"dd"),Xo(17,"input",10),Yo(),Qo(18,"dt"),va(19,"Director:"),Yo(),Qo(20,"dd"),Xo(21,"input",11),Yo(),Qo(22,"dt"),va(23,"Opening crawl:"),Yo(),Qo(24,"dd"),Xo(25,"textarea",12),Yo(),Qo(26,"div",13),Qo(27,"button",14),ra("click",function(){return Ke(n),aa().confirmYourDecision()}),Xo(28,"i",15),va(29," Cancel "),Yo(),Qo(30,"button",16),va(31," Save "),Xo(32,"i",17),Yo(),Yo(),Yo(),Yo(),Yo()}if(2&t){var r=zo(2),i=aa();yi(1),Ko("ngClass",Ms(8,RR,!0===i.isPopUp)),yi(4),ya(i.moviePayload.title),yi(4),Ko("ngModel",i.moviePayload.title),yi(4),Ko("ngModel",i.moviePayload.producer),yi(4),Ko("ngModel",i.moviePayload.releaseDate),yi(4),Ko("ngModel",i.moviePayload.director),yi(4),Ko("ngModel",i.moviePayload.openingCrawl),yi(5),Ko("disabled",!r.valid)}}function MR(t,e){if(1&t){var n=Jo();Qo(0,"app-confirmation",18),ra("response",function(t){return Ke(n),aa().handleConfirmationResponse(t)}),Yo()}}var jR,VR=((jR=function(){function t(e,n,r){v(this,t),this.moviesService=e,this.router=n,this.toggleService=r,this.isVisible=new Gs,this.isConfirmationOpen=!1}return g(t,[{key:"handleConfirmationResponse",value:function(t){!0===t&&this.isPopUp?this.closePopUp():!0!==t||this.isPopUp?this.closeConfirmation():this.router.navigate(["../"])}},{key:"closePopUp",value:function(){this.toggleService.movieItemSubject.next(null)}},{key:"confirmYourDecision",value:function(){this.editMovieForm.dirty?this.isConfirmationOpen=!0:this.isPopUp?this.closePopUp():this.router.navigate(["../"])}},{key:"closeConfirmation",value:function(){this.isConfirmationOpen=!1}},{key:"closeAndSave",value:function(){var t=this;this.editMovieForm.valid&&(this.isConfirmationOpen=!1,this.router.navigate(["movies"]),this.moviesService.saveChangesMovie(this.editMovieForm.value,this.moviePayload).then(function(){t.closePopUp()}))}}]),t}()).\u0275fac=function(t){return new(t||jR)(Go(wR),Go(ag),Go(_R))},jR.\u0275cmp=te({type:jR,selectors:[["app-movies-edition"]],viewQuery:function(t,e){var n;1&t&&iu(PR,1),2&t&&ru(n=au())&&(e.editMovieForm=n.first)},inputs:{moviePayload:"moviePayload",isPopUp:"isPopUp"},outputs:{isVisible:"isVisible"},decls:3,vars:3,consts:[["class","shadow",3,"click",4,"ngIf"],["class","container-fluid",4,"ngIf"],[3,"response",4,"ngIf"],[1,"shadow",3,"click"],[1,"container-fluid"],[3,"ngClass","ngSubmit"],["editMovieForm","ngForm"],[1,"dl-horizontal"],["type","text","name","title","required","",1,"form-control",3,"ngModel"],["type","text","name","producer","required","",1,"form-control",3,"ngModel"],["type","date","name","releaseDate","required","",1,"form-control",3,"ngModel"],["type","text","name","director","required","",1,"form-control",3,"ngModel"],["name","openingCrawl","required","",1,"form-control",3,"ngModel"],[1,"button-container"],["type","button",1,"btn","btn-info",3,"click"],[1,"bi","bi-chevron-left"],["type","submit",1,"btn","btn-info",3,"disabled"],[1,"bi","bi-check2"],[3,"response"]],template:function(t,e){1&t&&(Ho(0,DR,1,0,"div",0),Ho(1,LR,33,10,"div",1),Ho(2,MR,1,0,"app-confirmation",2)),2&t&&(Ko("ngIf",e.isPopUp&&e.moviePayload),yi(1),Ko("ngIf",e.moviePayload),yi(1),Ko("ngIf",e.isConfirmationOpen))},directives:[kl,Wf,sf,Hf,ml,Ah,Yf,af,Kf,NR],styles:['form[_ngcontent-%COMP%]{background:#fff}.absolute[_ngcontent-%COMP%]{padding:15px;border-radius:15px;width:80%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;z-index:100;left:10%;top:15%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 0 10px}@media screen and (max-width:414px){.absolute[_ngcontent-%COMP%]{width:95%;min-height:650px;left:2%;top:5%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px 0 0}}.shadow[_ngcontent-%COMP%]{content:"";position:absolute;background:rgba(0,0,0,.2);top:0;left:0;width:100vw;height:100vh;z-index:99}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.bi[_ngcontent-%COMP%]{cursor:pointer}.align-right[_ngcontent-%COMP%]{text-align:right}.col-md-4[_ngcontent-%COMP%]{padding:0;margin-top:15px}.align-center[_ngcontent-%COMP%]{text-align:center}textarea[_ngcontent-%COMP%]{min-height:200px;resize:vertical}']}),jR),FR=["searchMovieForm"],UR=["navbar_brand"],qR=["navbar_mobile_menu"];function BR(t,e){1&t&&Xo(0,"app-login",30)}function HR(t,e){1&t&&(Xo(0,"app-movies-edition",31),qs(1,"async")),2&t&&Ko("moviePayload",Bs(1,2,aa().movieToDisplay$))("isPopUp",!0)}function zR(t,e){if(1&t){var n=Jo();Qo(0,"div",32),ra("click",function(){return Ke(n),aa().hideLoginModal()}),Yo()}}function GR(t,e){if(1&t){var n=Jo();Qo(0,"button",33),ra("click",function(){return Ke(n),aa().makeLoginModalVisible()}),va(1," Login "),Yo()}}function KR(t,e){if(1&t){var n=Jo();Qo(0,"button",34),ra("click",function(){return Ke(n),aa().signOut()}),va(1," Logout "),Yo()}}function WR(t,e){1&t&&(Qo(0,"div",35),Qo(1,"a",36),va(2,"About"),Yo(),Yo())}var QR,YR,XR,$R,ZR=function(){return{exact:!0}},JR=function(t){return{active:t}},tL=((XR=function(){function t(e,n,r,i,o,a){var s=this;v(this,t),this.router=e,this.loginStateService=n,this.auth=r,this.moviesService=i,this.editionModalStatus=o,this.route=a,this.title="StarWars",this.loginModalVisibility=!1,this.signInStatus$=this.auth.getSignInStatus(),this.movieToDisplay$=o.movieItemSubject,e.events.subscribe(function(t){s.locationURLSegment=location.pathname})}return g(t,[{key:"onDocumentKeydown",value:function(t){"Escape"===t.key&&(this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1)}},{key:"ngDoCheck",value:function(){this.loginModalVisibility=this.loginStateService.loginModalVisibility,this.isPeopleActive=!!this.router.url.includes("people"),this.isPlanetsActive=!!this.router.url.includes("planets")}},{key:"ngAfterViewInit",value:function(){var t=this;this.navbarBrand.nativeElement.onfocus=function(){t.loginStateService.noKeyboardPagination=!1,t.loginStateService.loginModalVisibility=!1}}},{key:"makeLoginModalVisible",value:function(){this.loginStateService.noKeyboardPagination=!0,this.loginStateService.loginModalVisibility=!0}},{key:"hideLoginModal",value:function(){this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1}},{key:"findMovie",value:function(){var t=this;this.movieTitleToSearch=this.searchForm.value.searchInput,this.searchForm.reset(),this.moviesService.findMovie(this.movieTitleToSearch).pipe(Cp(),B(function(e){if(e.length>0){var n=e.find(function(e){return e.title===t.movieTitleToSearch}).docId;t.router.navigate(["movies",t.movieTitleToSearch,n])}else t.router.navigate(["not-found"])})).subscribe()}},{key:"signOut",value:function(){this.auth.signOut()}},{key:"disableOnKeyDownPagination",value:function(t){this.loginStateService.noKeyboardPagination="focus"===t}},{key:"toggleNavbarMenuVisibility",value:function(){this.navbarMenuMobile.nativeElement.classList.toggle("collapse")}}]),t}()).\u0275fac=function(t){return new(t||XR)(Go(ag),Go(Ug),Go(pR),Go(wR),Go(_R),Go(Vv))},XR.\u0275cmp=te({type:XR,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&(iu(FR,1),iu(UR,1),iu(qR,1)),2&t&&(ru(n=au())&&(e.searchForm=n.first),ru(n=au())&&(e.navbarBrand=n.first),ru(n=au())&&(e.navbarMenuMobile=n.first))},hostBindings:function(t,e){1&t&&ra("keydown",function(t){return e.onDocumentKeydown(t)},!1,Dr)},decls:44,vars:21,consts:[["role","dialog","class","login-modal",4,"ngIf"],[3,"moviePayload","isPopUp",4,"ngIf"],["class","shadow",3,"click",4,"ngIf"],[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["type","button","data-toggle","collapsed","data-target","#navbar-options","aria-expanded","false",1,"navbar-toggle","collapsed",3,"click"],[1,"sr-only"],[1,"icon-bar"],["routerLink","/movies",1,"navbar-brand"],["navbar_brand",""],["id","navbar-options",1,"navbar-collapse","collapse"],["navbar_mobile_menu",""],["role","search",1,"navbar-form","navbar-left",3,"ngSubmit"],["searchMovieForm","ngForm"],[1,"form-group"],["type","text","placeholder","Search a movie","ngModel","","name","searchInput","required","",1,"form-control",3,"focus","blur"],["type","submit",1,"btn","btn-default",3,"disabled"],[1,"navbar-form","navbar-right"],["type","button","class","btn btn-default",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-8","col-md-offset-2"],[1,"nav","nav-tabs"],["role","presentation","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/movies"],["role","presentation",3,"ngClass"],["routerLink","/planets/1"],["routerLink","/people/1"],["class","about-container",4,"ngIf"],["role","dialog",1,"login-modal"],[3,"moviePayload","isPopUp"],[1,"shadow",3,"click"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"about-container"],["routerLink","/about"]],template:function(t,e){if(1&t&&(Ho(0,BR,1,0,"app-login",0),Ho(1,HR,2,4,"app-movies-edition",1),qs(2,"async"),Ho(3,zR,1,0,"div",2),Qo(4,"nav",3),Qo(5,"div",4),Qo(6,"div",5),Qo(7,"button",6),ra("click",function(){return e.toggleNavbarMenuVisibility()}),Qo(8,"span",7),va(9,"Toggle navigation"),Yo(),Xo(10,"span",8),Xo(11,"span",8),Xo(12,"span",8),Yo(),Qo(13,"a",9,10),va(15,"StarWars"),Yo(),Yo(),Qo(16,"div",11,12),Qo(18,"form",13,14),ra("ngSubmit",function(){return e.findMovie()}),Qo(20,"div",15),Qo(21,"input",16),ra("focus",function(){return e.disableOnKeyDownPagination("focus")})("blur",function(){return e.disableOnKeyDownPagination("blur")}),Yo(),Yo(),Qo(22,"button",17),va(23," Search "),Yo(),Yo(),Qo(24,"form",18),Ho(25,GR,2,0,"button",19),qs(26,"async"),Ho(27,KR,2,0,"button",20),qs(28,"async"),Yo(),Yo(),Yo(),Yo(),Qo(29,"div",4),Qo(30,"div",21),Qo(31,"div",22),Qo(32,"ul",23),Qo(33,"li",24),Qo(34,"a",25),va(35,"Movies"),Yo(),Yo(),Qo(36,"li",26),Qo(37,"a",27),va(38,"Planets"),Yo(),Yo(),Qo(39,"li",26),Qo(40,"a",28),va(41,"People"),Yo(),Yo(),Yo(),Xo(42,"router-outlet"),Yo(),Yo(),Yo(),Ho(43,WR,3,0,"div",29)),2&t){var n=zo(19);Ko("ngIf",e.loginModalVisibility),yi(1),Ko("ngIf",Bs(2,10,e.movieToDisplay$)),yi(2),Ko("ngIf",e.loginModalVisibility),yi(19),Ko("disabled",!n.valid),yi(3),Ko("ngIf",!Bs(26,12,e.signInStatus$)),yi(2),Ko("ngIf",Bs(28,14,e.signInStatus$)),yi(6),Ko("routerLinkActiveOptions",(r=ZR,i=tn()+16,(o=ze())[i]===vi?Uo(o,i,r()):function(t,e){return t[e]}(o,i))),yi(3),Ko("ngClass",Ms(17,JR,e.isPlanetsActive)),yi(3),Ko("ngClass",Ms(19,JR,e.isPeopleActive)),yi(4),Ko("ngIf","/about"!==e.locationURLSegment)}var r,i,o},directives:[kl,ug,Wf,sf,Hf,Ah,af,Kf,Yf,pg,ml,vg,OR,VR],pipes:[Dl],styles:['*[_ngcontent-%COMP%]{--grey-border-1px:1px solid #c7c7c7;--light-grey-bg:#f5f5f5}.content-table[_ngcontent-%COMP%]{width:100%}.display_none[_ngcontent-%COMP%]{display:none}.shadow[_ngcontent-%COMP%]{content:"";position:absolute;background:rgba(0,0,0,.2);top:0;left:0;width:100%;height:100%;z-index:99}.about-container[_ngcontent-%COMP%]{padding:10px 20px;text-align:right;position:fixed;bottom:0}']}),XR),eL=((YR=function(){function t(){v(this,t)}return g(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||YR)},YR.\u0275cmp=te({type:YR,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"loader"]],template:function(t,e){1&t&&(Qo(0,"div",0),va(1,"Loading..."),Yo())},styles:['.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7 1.8s ease-in-out infinite;animation:load7 1.8s ease-in-out infinite}.loader[_ngcontent-%COMP%]{color:#000;font-size:10px;margin:80px auto;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0}.loader[_ngcontent-%COMP%]:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader[_ngcontent-%COMP%]:after{left:3.5em}@-webkit-keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}']}),YR),nL=((QR=function(){function t(e){v(this,t),this.el=e,this.isOpen=!1}return g(t,[{key:"toggleOpen",value:function(){this.isOpen=!this.isOpen}},{key:"onDocumentClick",value:function(t){var e=t.target;e&&!this.el.nativeElement.contains(e)&&this.isOpen&&(this.isOpen=!this.isOpen)}}]),t}()).\u0275fac=function(t){return new(t||QR)(Go(Fa))},QR.\u0275dir=ae({type:QR,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(t,e){1&t&&ra("click",function(t){return e.toggleOpen(t)})("click",function(t){return e.onDocumentClick(t)},!1,Dr),2&t&&la("open",e.isOpen)}}),QR),rL=c("LvDl"),iL=(($R=function(){function t(){v(this,t)}return g(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t.slice(0);if(!r||""===e||!e)return r;if(r.length<=1)return r;if(!n||""===n){if("asc"===e)return r.sort(function(t,e){return new Date(t.releaseDate).valueOf()-new Date(e.releaseDate).valueOf()});if("desc"===e)return r.sort(function(t,e){return new Date(e.releaseDate).valueOf()-new Date(t.releaseDate).valueOf()})}return Object(rL.orderBy)(r,[n],[e])}}]),t}()).\u0275fac=function(t){return new(t||$R)},$R.\u0275pipe=se({name:"sort",type:$R,pure:!0}),$R);function oL(t,e){1&t&&Xo(0,"app-spinner")}function aL(t,e){if(1&t){var n=Jo();Qo(0,"i",7),ra("click",function(){return Ke(n),aa(2).switchSortingMethod()}),Yo()}}function sL(t,e){if(1&t){var n=Jo();Qo(0,"i",8),ra("click",function(){return Ke(n),aa(2).switchSortingMethod()}),Yo()}}function uL(t,e){if(1&t){var n=Jo();Qo(0,"li"),Qo(1,"button",13),ra("click",function(){Ke(n);var t=aa().$implicit,e=aa().ngIf;return aa().toggleEditionModal(e,t.docId)}),va(2,"Edit"),Yo(),Yo()}}var cL=function(t,e){return["/movies/",t,e]};function lL(t,e){if(1&t&&(Qo(0,"tr"),Qo(1,"td"),Qo(2,"div",9),Xo(3,"span",10),Qo(4,"span"),va(5),Yo(),Qo(6,"ul",11),Qo(7,"li"),Qo(8,"a",12),va(9,"View Details"),Yo(),Yo(),Ho(10,uL,3,0,"li",1),qs(11,"async"),Yo(),Yo(),Yo(),Qo(12,"td"),va(13),qs(14,"date"),Yo(),Yo()),2&t){var n=e.$implicit,r=aa(2);yi(5),ga(" ",n.title,""),yi(3),Ko("routerLink",js(8,cL,n.title,n.docId)),yi(2),Ko("ngIf",Bs(11,4,r.signInStatus$)),yi(3),ga(" ",Bs(14,6,n.releaseDate)," ")}}function hL(t,e){if(1&t&&(Qo(0,"tbody"),Qo(1,"tr"),Qo(2,"th"),va(3,"Title"),Yo(),Qo(4,"th"),va(5," Premiere "),Ho(6,aL,1,0,"i",4),Ho(7,sL,1,0,"i",5),Yo(),Yo(),Ho(8,lL,15,11,"tr",6),qs(9,"sort"),Yo()),2&t){var n=e.ngIf,r=aa();yi(6),Ko("ngIf","asc"===r.sortingMethod),yi(1),Ko("ngIf","desc"===r.sortingMethod),yi(1),Ko("ngForOf",(i=n,o=r.sortingMethod,a=ze(),s=Re(a,29),zs(a,Hs(a,29)?Us(a,tn(),4,s.transform,i,o,s):s.transform(i,o))))("ngForTrackBy",r.trackByFn)}var i,o,a,s}function fL(t,e){1&t&&(Qo(0,"button",14),va(1," Create a new entry "),Yo())}var dL,pL,vL,yL=((dL=function(){function t(e,n,r){v(this,t),this.moviesService=e,this.auth=n,this.togglerService=r,this.sortingMethod=gL.ascending,this.myMovies$=this.moviesService.returnMovieDataObserver(),this.signInStatus$=this.auth.getSignInStatus()}return g(t,[{key:"toggleEditionModal",value:function(t,e){var n=t.find(function(t){return e===t.docId});this.togglerService.movieItemSubject.next(n)}},{key:"switchSortingMethod",value:function(){this.sortingMethod=this.sortingMethod===gL.ascending?gL.descending:gL.ascending}}]),t}()).\u0275fac=function(t){return new(t||dL)(Go(wR),Go(pR),Go(_R))},dL.\u0275cmp=te({type:dL,selectors:[["app-movies-table"]],decls:9,vars:9,consts:[[1,"table","table-bordered"],[4,"ngIf"],[1,"container-fluid","align-left"],["type","button","class","btn btn-primary","routerLink","create",4,"ngIf"],["class","bi bi-sort-numeric-down",3,"click",4,"ngIf"],["class","bi bi-sort-numeric-up-alt",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"bi","bi-sort-numeric-down",3,"click"],[1,"bi","bi-sort-numeric-up-alt",3,"click"],["appDropdown","",1,"dropdown"],[1,"caret"],["aria-labelledby","dropdownMenu1",1,"dropdown-menu"],[3,"routerLink"],["type","button",1,"edit-button",3,"click"],["type","button","routerLink","create",1,"btn","btn-primary"]],template:function(t,e){1&t&&($o(0),Qo(1,"table",0),Ho(2,oL,1,0,"app-spinner",1),qs(3,"async"),Ho(4,hL,10,7,"tbody",1),qs(5,"async"),Yo(),Qo(6,"div",2),Ho(7,fL,2,0,"button",3),qs(8,"async"),Yo(),Zo()),2&t&&(yi(2),Ko("ngIf",Bs(3,3,!e.myMovies$)),yi(2),Ko("ngIf",Bs(5,5,e.myMovies$)),yi(3),Ko("ngIf",Bs(8,7,e.signInStatus$)))},directives:[kl,eL,wl,nL,ug,sg],pipes:[Dl,iL,Rl],styles:[".caret[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{cursor:pointer}.align-left[_ngcontent-%COMP%]{text-align:start}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.edit-button[_ngcontent-%COMP%]{border:none;background-color:transparent;width:100%;text-align:left;padding-left:13%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#f5f4f4}"]}),dL),gL=function(t){return t.ascending="asc",t.descending="desc",t}({}),mL=((vL=function(){function t(){v(this,t)}return g(t,[{key:"personMapper",value:function(t,e){return{birthYear:t.fields.birth_year,created:t.fields.created,edited:t.fields.edited,eyeColor:t.fields.eye_color,gender:t.fields.gender,hairColor:t.fields.hair_color,height:t.fields.height,homeworld:t.fields.homeworld,image:t.fields.image,mass:t.fields.mass,name:t.fields.name,skinColor:t.fields.skin_color,pk:t.pk,model:t.model,docId:e}}}]),t}()).\u0275fac=function(t){return new(t||vL)},vL.\u0275prov=Et({token:vL,factory:vL.\u0275fac,providedIn:"root"}),vL),bL=((pL=function(){function t(e){v(this,t),this.mapper=e}return g(t,[{key:"subscribeToPeopleData",value:function(t){var e=this;return new D(function(n){var r=mR.collection("people").where("pk",">",t-10).limit(10).onSnapshot(function(t){var r=[];t.forEach(function(t){var n=t.data();r.push(e.mapper.personMapper(n,n.id))}),n.next(r)});return function(){return r()}})}}]),t}()).\u0275fac=function(t){return new(t||pL)(vr(mL))},pL.\u0275prov=Et({token:pL,factory:pL.\u0275fac,providedIn:"root"}),pL);function wL(t,e){1&t&&Xo(0,"app-spinner")}function _L(t,e){if(1&t&&($o(0),Qo(1,"tr"),Qo(2,"td"),va(3),Yo(),Qo(4,"td"),va(5),Yo(),Yo(),Zo()),2&t){var n=e.$implicit;yi(3),ya(n.name),yi(2),ya(n.birthYear)}}var kL=function(t){return{active:t}},EL=function(t){return["/people",t]};function IL(t,e){if(1&t&&(Qo(0,"li",6),Qo(1,"a",7),va(2),Yo(),Yo()),2&t){var n=e.$implicit,r=aa(2);Ko("ngClass",Ms(3,kL,r.matchButtonAndPagenumber(n))),yi(1),Ko("routerLink",Ms(5,EL,n)),yi(1),ya(n)}}function SL(t,e){if(1&t&&($o(0),Qo(1,"table",1),Qo(2,"tbody"),Qo(3,"tr"),Qo(4,"th"),va(5,"Name"),Yo(),Qo(6,"th"),va(7,"Date of birf"),Yo(),Yo(),Ho(8,_L,6,2,"ng-container",2),Yo(),Yo(),Qo(9,"nav",3),Qo(10,"ul",4),Ho(11,IL,3,7,"li",5),Yo(),Yo(),Zo()),2&t){var n=e.ngIf,r=aa();yi(8),Ko("ngForOf",n)("ngForTrackBy",r.trackByFn),yi(3),Ko("ngForOf",r.pages)("ngForTrackBy",r.trackByFn)}}var TL,CL,AL,xL=((AL=function(){function t(e,n,r,i){var o=this;v(this,t),this.getPeopleService=e,this.router=n,this.route=r,this.loginStateService=i,this.pages=[1,2,3,4,5,6,7,8,9],this.itemsToDisplayPerPage=10,this.myPeople$=this.route.params.pipe(B(function(t){return t.pageNumber}),ip(function(t){return o.getPeopleService.subscribeToPeopleData(10*Number.parseInt(t))}))}return g(t,[{key:"onDocumentKeydown",value:function(t){var e=Number(this.route.snapshot.params.pageNumber);"ArrowLeft"!==t.key||this.loginStateService.noKeyboardPagination||e>1&&this.router.navigate(["people",e-1]),"ArrowRight"!==t.key||this.loginStateService.noKeyboardPagination||e<9&&this.router.navigate(["people",e+1])}},{key:"matchButtonAndPagenumber",value:function(t){if(t===Number(this.route.snapshot.params.pageNumber))return!0}}]),t}()).\u0275fac=function(t){return new(t||AL)(Go(bL),Go(ag),Go(Vv),Go(Ug))},AL.\u0275cmp=te({type:AL,selectors:[["app-people-table"]],hostBindings:function(t,e){1&t&&ra("keydown",function(t){return e.onDocumentKeydown(t)},!1,Dr)},decls:3,vars:4,consts:[[4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"routerLink"]],template:function(t,e){1&t&&(Ho(0,wL,1,0,"app-spinner",0),Ho(1,SL,12,4,"ng-container",0),qs(2,"async")),2&t&&(Ko("ngIf",!e.myPeople$),yi(1),Ko("ngIf",Bs(2,2,e.myPeople$)))},directives:[kl,eL,wl,ml,ug],pipes:[Dl],styles:["table[_ngcontent-%COMP%]{width:100%}.pagination[_ngcontent-%COMP%]{cursor:pointer}"]}),AL),OL=((CL=function(){function t(){v(this,t)}return g(t,[{key:"planetMapper",value:function(t,e){return{climate:t.fields.climate,created:t.fields.created,diameter:t.fields.diameter,edited:t.fields.edited,gravity:t.fields.gravity,name:t.fields.name,orbitalPeriod:t.fields.orbital_period,population:t.fields.population,rotationPeriod:t.fields.rotation_period,surfaceWater:t.fields.surface_water,terrain:t.fields.terrain,pk:t.pk,model:t.model,docId:e}}}]),t}()).\u0275fac=function(t){return new(t||CL)},CL.\u0275prov=Et({token:CL,factory:CL.\u0275fac,providedIn:"root"}),CL),NL=((TL=function(){function t(e){v(this,t),this.mapper=e}return g(t,[{key:"subscribeToPlanetsData",value:function(t){var e=this;return new D(function(n){var r=mR.collection("planets").where("pk",">",t-10).limit(10).onSnapshot(function(t){var r=[];t.forEach(function(t){var n=t.data();r.push(e.mapper.planetMapper(n,n.id))}),n.next(r)});return function(){return r()}})}}]),t}()).\u0275fac=function(t){return new(t||TL)(vr(OL))},TL.\u0275prov=Et({token:TL,factory:TL.\u0275fac,providedIn:"root"}),TL);function PL(t,e){1&t&&Xo(0,"app-spinner")}function DL(t,e){if(1&t&&($o(0),Qo(1,"tr"),Qo(2,"td"),va(3),Yo(),Qo(4,"td"),va(5),Yo(),Yo(),Zo()),2&t){var n=e.$implicit;yi(3),ya(n.name),yi(2),ya(n.population)}}var RL=function(t){return{active:t}},LL=function(t){return["/planets",t]};function ML(t,e){if(1&t&&(Qo(0,"li",6),Qo(1,"a",7),va(2),Yo(),Yo()),2&t){var n=e.$implicit,r=aa(2);Ko("ngClass",Ms(3,RL,r.matchButtonAndPagenumber(n))),yi(1),Ko("routerLink",Ms(5,LL,n)),yi(1),ya(n)}}function jL(t,e){if(1&t&&($o(0),Qo(1,"table",1),Qo(2,"tbody"),Qo(3,"tr"),Qo(4,"th"),va(5,"Planet name"),Yo(),Qo(6,"th"),va(7,"Population"),Yo(),Yo(),Ho(8,DL,6,2,"ng-container",2),Yo(),Yo(),Qo(9,"nav",3),Qo(10,"ul",4),Ho(11,ML,3,7,"li",5),Yo(),Yo(),Zo()),2&t){var n=e.ngIf,r=aa();yi(8),Ko("ngForOf",n)("ngForTrackBy",r.trackByFn),yi(3),Ko("ngForOf",r.pages)("ngForTrackBy",r.trackByFn)}}var VL,FL,UL,qL=((FL=function(){function t(e,n,r,i){var o=this;v(this,t),this.getPlanetsService=e,this.router=n,this.route=r,this.loginStateService=i,this.pages=[1,2,3,4,5,6],this.itemsToDisplayPerPage=10,this.myPlanets$=this.route.params.pipe(B(function(t){return t.pageNumber}),ip(function(t){return o.getPlanetsService.subscribeToPlanetsData(10*Number(t))}))}return g(t,[{key:"onDocumentKeydown",value:function(t){var e=Number(this.route.snapshot.params.pageNumber);"ArrowLeft"!==t.key||this.loginStateService.noKeyboardPagination||e>1&&this.router.navigate(["planets",e-1]),"ArrowRight"!==t.key||this.loginStateService.noKeyboardPagination||e<6&&this.router.navigate(["planets",e+1])}},{key:"matchButtonAndPagenumber",value:function(t){if(t===Number(this.route.snapshot.params.pageNumber))return!0}}]),t}()).\u0275fac=function(t){return new(t||FL)(Go(NL),Go(ag),Go(Vv),Go(Ug))},FL.\u0275cmp=te({type:FL,selectors:[["app-planets-table"]],hostBindings:function(t,e){1&t&&ra("keydown",function(t){return e.onDocumentKeydown(t)},!1,Dr)},decls:3,vars:4,consts:[[4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"routerLink"]],template:function(t,e){1&t&&(Ho(0,PL,1,0,"app-spinner",0),Ho(1,jL,12,4,"ng-container",0),qs(2,"async")),2&t&&(Ko("ngIf",!e.myPlanets$),yi(1),Ko("ngIf",Bs(2,2,e.myPlanets$)))},directives:[kl,eL,wl,ml,ug],pipes:[Dl],styles:[".pagination[_ngcontent-%COMP%]{cursor:pointer}"]}),FL),BL=((VL=function t(){v(this,t)}).\u0275fac=function(t){return new(t||VL)},VL.\u0275cmp=te({type:VL,selectors:[["app-page-not-found"]],decls:4,vars:0,consts:[["routerLink","/movies"]],template:function(t,e){1&t&&(Qo(0,"h1"),va(1,"Page not found!"),Yo(),Qo(2,"a",0),va(3,"Refresh"),Yo())},directives:[ug],styles:[""]}),VL),HL=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?s(p(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?s(p(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?s(p(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(cR){r=!0,n=!!cR&&cR||new Error(cR)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){u(n,t);var e=l(n);function n(t,r){return v(this,n),e.call(this)}return g(n,[{key:"schedule",value:function(t){return this}}]),n}(S))),zL=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;v(this,t),this.SchedulerAction=e,this.now=n}return g(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),GL=new(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(t){u(n,t);var e=l(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zL.now;return v(this,n),(r=e.call(this,t,function(){return n.delegate&&n.delegate!==f(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):s(p(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(zL)))(HL),KL=((UL=function(){function t(e,n,r){v(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return g(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return td(this.value);case"E":return t=this.error,new D(function(e){return e.error(t)});case"C":return np()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new UL("C"),UL.undefinedValueNotification=new UL("N",void 0),UL),WL=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return g(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new QL(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(KL.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(KL.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(KL.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(A),QL=function t(e,n){v(this,t),this.notification=e,this.destination=n},YL=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return g(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}s(p(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new XL(this._getNow(),t)),this._trimBufferThenGetEvents()),s(p(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new M;if(this.isStopped||this.hasError?e=S.EMPTY:(this.observers.push(t),e=new j(this,t)),i&&t.add(t=new WL(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||GL).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(F),XL=function t(e,n){v(this,t),this.time=e,this.value=n},$L=["editMovieForm"];function ZL(t,e){1&t&&Xo(0,"app-spinner")}function JL(t,e){if(1&t&&(Qo(0,"dl",14),Qo(1,"h1"),va(2),Yo(),Qo(3,"dt"),va(4,"Movie title:"),Yo(),Qo(5,"dd"),va(6),Yo(),Qo(7,"dt"),va(8,"Producers:"),Yo(),Qo(9,"dd"),va(10),Yo(),Qo(11,"dt"),va(12,"Release date:"),Yo(),Qo(13,"dd"),va(14),qs(15,"date"),Yo(),Qo(16,"dt"),va(17,"Director:"),Yo(),Qo(18,"dd"),va(19),Yo(),Qo(20,"dt"),va(21,"Opening crawl:"),Yo(),Qo(22,"dd",15),va(23),Yo(),Yo()),2&t){var n=e.ngIf;yi(2),ya(n.title),yi(4),ya(n.title),yi(4),ya(n.producer),yi(4),ya(Bs(15,6,n.releaseDate)),yi(5),ya(n.director),yi(4),ya(n.openingCrawl)}}function tM(t,e){if(1&t){var n=Jo();Qo(0,"button",16),ra("click",function(){Ke(n);var t=aa(2);return t.isElementHidden=!t.isElementHidden}),va(1," Edit "),Yo()}}function eM(t,e){if(1&t){var n=Jo();Qo(0,"button",17),ra("click",function(){return Ke(n),aa(2).deleteMovie()}),va(1," Delete "),Yo()}}var nM=function(t,e){return["/movies/",t,e]};function rM(t,e){if(1&t&&(Qo(0,"li"),Qo(1,"a",23),va(2),Qo(3,"span",24),va(4),Yo(),Yo(),Yo()),2&t){var n=e.$implicit;yi(1),Ko("routerLink",js(3,nM,n.title,n.docId)),yi(1),ga("",n.title," "),yi(2),ya(n.director)}}function iM(t,e){if(1&t&&(Qo(0,"div",12),Qo(1,"div",18),Qo(2,"button",19),va(3," Movies with the same title: "),Xo(4,"span",20),Yo(),Qo(5,"ul",21),Ho(6,rM,5,6,"li",22),Yo(),Yo(),Yo()),2&t){var n=aa(2);yi(6),Ko("ngForOf",n.moviesWithTheSameTitles)}}function oM(t,e){if(1&t&&(Qo(0,"li"),Qo(1,"a"),va(2),Yo(),Yo()),2&t){var n=e.$implicit;yi(2),ya(n.fields.name)}}function aM(t,e){if(1&t&&(Qo(0,"div",18),Qo(1,"button",19),va(2," Show relevant characters "),Xo(3,"span",20),Yo(),Qo(4,"ul",21),Ho(5,oM,3,1,"li",22),Yo(),Yo()),2&t){var n=e.ngIf;yi(5),Ko("ngForOf",n)}}function sM(t,e){if(1&t&&(Qo(0,"li"),Qo(1,"a"),va(2),Yo(),Yo()),2&t){var n=e.$implicit;yi(2),ya(n.fields.name)}}function uM(t,e){if(1&t&&(Qo(0,"div",18),Qo(1,"button",19),va(2," Show relevant planets "),Xo(3,"span",20),Yo(),Qo(4,"ul",21),Ho(5,sM,3,1,"li",22),Yo(),Yo()),2&t){var n=e.ngIf;yi(5),Ko("ngForOf",n)}}function cM(t,e){if(1&t&&(Qo(0,"div",3),Ho(1,JL,24,8,"dl",4),qs(2,"async"),Qo(3,"div",5),Qo(4,"div"),Qo(5,"button",6),Xo(6,"i",7),va(7," Back "),Yo(),Yo(),Qo(8,"div"),Ho(9,tM,2,0,"button",8),qs(10,"async"),Ho(11,eM,2,0,"button",9),qs(12,"async"),Yo(),Yo(),Qo(13,"div",10),Ho(14,iM,7,1,"div",11),Qo(15,"div",12),Ho(16,aM,6,1,"div",13),qs(17,"async"),Yo(),Qo(18,"div",12),Ho(19,uM,6,1,"div",13),qs(20,"async"),Yo(),Yo(),Yo()),2&t){var n=aa();yi(1),Ko("ngIf",Bs(2,6,n.displayFormVisibility$)),yi(8),Ko("ngIf",Bs(10,8,n.signInStatus$)),yi(2),Ko("ngIf",Bs(12,10,n.signInStatus$)),yi(3),Ko("ngIf",n.moviesWithTheSameTitles[0]),yi(2),Ko("ngIf",Bs(17,12,n.myPeople$)),yi(3),Ko("ngIf",Bs(20,14,n.myPlanet$))}}function lM(t,e){if(1&t&&(Xo(0,"app-movies-edition",25),qs(1,"async")),2&t){var n=aa();Ko("isPopUp",!1)("moviePayload",Bs(1,2,n.editFormVisibility$))}}var hM,fM=((hM=function(){function t(e,n,r,i){var o=this;v(this,t),this.route=e,this.moviesService=n,this.router=r,this.auth=i,this.isElementHidden=!0,this.moviesWithTheSameTitles=[],this.foundInfo$=this.route.params.pipe(B(function(t){return t.details}),ip(function(t){return o.moviesService.findMovie(t).pipe((e=new YL(void 0,void 0,void 0),function(t){return ft(function(){return e},void 0)(t)}),at(),B(function(t){var e,n=o.route.snapshot.params.movieID;return 0===t.length?o.router.navigate(["not-found"]):e=t.length>1?t.find(function(t){return t.docId===n}):t[0],o.moviesWithTheSameTitles=t.filter(function(t){return t.docId!==n}),o.myPeople$=o.moviesService.getRelevantPeople(e.characters),o.myPlanet$=o.moviesService.getRelevantPlanets(e.planets),e}));var e})),this.spinnerVisibility$=this.foundInfo$,this.displayFormVisibility$=this.foundInfo$,this.editFormVisibility$=this.foundInfo$,this.signInStatus$=this.auth.getSignInStatus()}return g(t,[{key:"ngOnInit",value:function(){this.route.toString().includes("edit")&&(this.isElementHidden=!this.isElementHidden)}},{key:"saveMovie",value:function(){var t=this.route.snapshot.params.movieID;this.router.navigate(["movies"]),this.moviesService.saveChangesMovie(this.movieInformation.value,t)}},{key:"deleteMovie",value:function(){var t=this;this.moviesService.delete(this.route.snapshot.params.movieID).then(function(){t.router.navigate(["movies"])})}}]),t}()).\u0275fac=function(t){return new(t||hM)(Go(Vv),Go(wR),Go(ag),Go(pR))},hM.\u0275cmp=te({type:hM,selectors:[["app-movies-display"]],viewQuery:function(t,e){var n;1&t&&iu($L,1),2&t&&ru(n=au())&&(e.movieInformation=n.first)},decls:4,vars:5,consts:[[4,"ngIf"],["class","container-fluid",4,"ngIf"],[3,"isPopUp","moviePayload",4,"ngIf"],[1,"container-fluid"],["class","dl-horizontal",4,"ngIf"],[1,"button-container"],["type","button","routerLink","../../",1,"btn","btn-info"],[1,"bi","bi-chevron-left"],["type","button","class","btn btn-default","routerLink","edit",3,"click",4,"ngIf"],["type","button","class","btn btn-default margin-left-5px","routerLink","/movies",3,"click",4,"ngIf"],[1,"relevant-entities-block"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["class","dropdown","appDropdown","",4,"ngIf"],[1,"dl-horizontal"],[1,"crawl"],["type","button","routerLink","edit",1,"btn","btn-default",3,"click"],["type","button","routerLink","/movies",1,"btn","btn-default","margin-left-5px",3,"click"],["appDropdown","",1,"dropdown"],["type","button","id","dropdownMenu1","data-toggle","dropdown","aria-haspopup","true","aria-expanded","true",1,"btn","btn-default","dropdown-toggle"],[1,"caret"],["aria-labelledby","dropdownMenu1",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"help-block"],[3,"isPopUp","moviePayload"]],template:function(t,e){1&t&&(Ho(0,ZL,1,0,"app-spinner",0),qs(1,"async"),Ho(2,cM,21,16,"div",1),Ho(3,lM,2,4,"app-movies-edition",2)),2&t&&(Ko("ngIf",!Bs(1,3,e.spinnerVisibility$)),yi(2),Ko("ngIf",e.isElementHidden),yi(1),Ko("ngIf",!e.isElementHidden))},directives:[kl,eL,sg,nL,wl,ug,VR],pipes:[Dl,Rl],styles:["input[_ngcontent-%COMP%]{margin:0;line-height:.9;border:var(--grey-border-1px);border-bottom:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:4px;width:100%;background-color:var(--light-grey-bg)}textarea[_ngcontent-%COMP%]{min-height:120px;resize:none;border:none;border:var(--grey-border-1px)}.crawl[_ngcontent-%COMP%]{word-wrap:break-word}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{background-color:#fff}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#ffe1e1}.align-right[_ngcontent-%COMP%]{text-align:end;padding:0}.dropdown-menu[_ngcontent-%COMP%]{max-height:250px;cursor:pointer;overflow-y:auto}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.relevant-entities-block[_ngcontent-%COMP%]{margin-top:15px;display:flex;flex-direction:row;justify-content:flex-start;align-content:space-between}.col-md-3[_ngcontent-%COMP%]{padding-left:0}@media screen and (max-width:414px){.relevant-entities-block[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.col-md-3[_ngcontent-%COMP%]{padding-left:15px}}.dropdown-toggle[_ngcontent-%COMP%]{margin-bottom:5px;width:100%}"]}),hM),dM=function t(){v(this,t)};function pM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function vM(t){return{type:6,styles:t,offset:null}}function yM(t){Promise.resolve(null).then(t)}var gM=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;yM(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),mM=function(){function t(e){var n=this;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?yM(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++r==a&&n._onFinish()}),t.onDestroy(function(){++i==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function bM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wM(t){switch(t.length){case 0:return new gM;case 1:return t[0];default:return new mM(t)}}function _M(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function kM(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&EM(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&EM(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&EM(n,"destroy",t))})}}function EM(t,e,n){var r=n.totalTime,i=IM(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function IM(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function SM(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function TM(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var CM=function(t,e){return!1},AM=function(t,e){return!1},xM=function(t,e,n){return[]},OM=bM();(OM||"undefined"!=typeof Element)&&(CM=function(t,e){return t.contains(e)},AM=function(){if(OM||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:AM}(),xM=function(t,e,n){var r=[];if(n)for(var i=t.querySelectorAll(e),o=0;o<i.length;o++)r.push(i[o]);else{var a=t.querySelector(e);a&&r.push(a)}return r});var NM,PM=null,DM=!1,RM=AM,LM=CM,MM=xM,jM=((NM=function(){function t(){v(this,t)}return g(t,[{key:"validateStyleProperty",value:function(t){return function(t){PM||(PM=("undefined"!=typeof document?document.body:null)||{},DM=!!PM.style&&"WebkitAppearance"in PM.style);var e=!0;return PM.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in PM.style)&&DM&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in PM.style),e}(t)}},{key:"matchesElement",value:function(t,e){return RM(t,e)}},{key:"containsElement",value:function(t,e){return LM(t,e)}},{key:"query",value:function(t,e,n){return MM(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new gM(n,r)}}]),t}()).\u0275fac=function(t){return new(t||NM)},NM.\u0275prov=Et({token:NM,factory:NM.\u0275fac}),NM),VM=function(){var t=function t(){v(this,t)};return t.NOOP=new jM,t}();function FM(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UM(parseFloat(e[1]),e[2])}function UM(t,e){switch(e){case"s":return 1e3*t;default:return t}}function qM(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=UM(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=UM(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function BM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function HM(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else BM(t,n);return n}function zM(t,e,n){return n?e+":"+n+";":""}function GM(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=zM(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=zM(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function KM(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=tj(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),bM()&&GM(t))}function WM(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=tj(e);t.style[n]=""}),bM()&&GM(t))}function QM(t){return Array.isArray(t)?1==t.length?t[0]:pM(t):t}var YM=new RegExp("{{\\s*(.+?)\\s*}}","g");function XM(t){var e=[];if("string"==typeof t){for(var n;n=YM.exec(t);)e.push(n[1]);YM.lastIndex=0}return e}function $M(t,e,n){var r=t.toString(),i=r.replace(YM,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function ZM(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var JM=/-+([a-z0-9])/g;function tj(t){return t.replace(JM,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function ej(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}var nj=new Set(["true","1"]),rj=new Set(["false","0"]);function ij(t,e){var n=nj.has(t)||rj.has(t),r=nj.has(e)||rj.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?nj.has(t):rj.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?nj.has(e):rj.has(e)),a&&s}}var oj=new RegExp("s*:selfs*,?","g");function aj(t,e,n){return new sj(t).build(e,n)}var sj=function(){function e(t){v(this,e),this._driver=t}return g(e,[{key:"build",value:function(t,e){var n=new uj(e);return this._resetContextStyleTimingState(n),ej(this,QM(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(cj(t)){var e=t;Object.keys(e).forEach(function(t){XM(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=ZM(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=ej(this,QM(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(ij(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(ij(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:lj(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return ej(n,t,e)}),options:lj(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=ej(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:lj(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hj(qM(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=hj(0,0,"");return i.dynamic=!0,i.strValue=r,i}return hj((n=n||qM(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:vM({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=vM(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(cj(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=XM(a)).length&&l.forEach(function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(cj(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(cj(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:ej(this,QM(t.animation),e),options:lj(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:lj(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lj(t.options)}}},{key:"visitQuery",value:function(e,n){var r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;var o=t(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(oj,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(e.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,SM(n.collectedStyles,n.currentQuerySelector,{});var u=ej(this,QM(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:e.selector,options:lj(e.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:qM(t.timings,e.errors,!0);return{type:12,animation:ej(this,QM(t.animation),e),timings:n,options:null}}}]),e}(),uj=function t(e){v(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function cj(t){return!Array.isArray(t)&&"object"==typeof t}function lj(t){var e;return t?(t=BM(t)).params&&(t.params=(e=t.params)?BM(e):null):t={},t}function hj(t,e,n){return{duration:t,delay:e,easing:n}}function fj(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var dj=function(){function t(){v(this,t),this._map=new Map}return g(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var r,i=this._map.get(t);i||this._map.set(t,i=[]),(r=i).push.apply(r,n(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),pj=new RegExp(":enter","g"),vj=new RegExp(":leave","g");function yj(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new gj).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var gj=function(){function t(){v(this,t)}return g(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new dj;var l=new bj(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),ej(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[fj(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?FM(n.duration):null,o=null!=n.delay?FM(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),ej(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mj);var a=FM(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return ej(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?FM(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),ej(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return qM(e.params?$M(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?FM(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mj);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),ej(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;ej(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),mj={},bj=function(){function t(e,n,r,i,o,a,s,u){v(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mj,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new wj(this._driver,n,0),s.push(this.currentTimeline)}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=FM(r.duration)),null!=r.delay&&(i.delay=FM(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=$M(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=mj,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new _j(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,r,i,o,a){var s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(pj,"."+this._enterClassName)).replace(vj,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),s.push.apply(s,n(u))}return o||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}]),t}(),wj=function(){function t(e,n,r,i){v(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return g(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]="*"}):HM(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=$M(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=HM(o,!0);Object.keys(s).forEach(function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?ZM(e.values()):[],a=n.size?ZM(n.values()):[];if(r){var s=i[0],u=BM(s);s.offset=0,u.offset=1,i=[s,u]}return fj(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),_j=function(t){u(n,t);var e=l(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return g(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=HM(t[0],!1);u.offset=0,o.push(u);var c=HM(t[0],!1);c.offset=kj(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=HM(t[h],!1);f.offset=kj((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return fj(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(wj);function kj(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Ej=function t(){v(this,t)},Ij=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"normalizePropertyName",value:function(t,e){return tj(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(Sj[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Ej),Sj=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Tj(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Cj={},Aj=function(){function t(e,n,r){v(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return g(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Cj,f=this.buildStyles(n,a&&a.params||Cj,l),d=s&&s.params||Cj,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:yj(t,e,this.ast.animation,i,o,f,p,b,u,l),_=0;if(w.forEach(function(t){_=Math.max(t.duration+t.delay,_)}),l.length)return Tj(e,this._triggerName,n,r,m,f,p,[],[],y,g,_,l);w.forEach(function(t){var n=t.element,r=SM(y,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=SM(g,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var k=ZM(v.values());return Tj(e,this._triggerName,n,r,m,f,p,w,k,y,g,_)}}]),t}(),xj=function(){function t(e,n){v(this,t),this.styles=e,this.defaultParams=n}return g(t,[{key:"buildStyles",value:function(t,e){var n={},r=BM(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=$M(o,r,e)),n[t]=o})}}),n}}]),t}(),Oj=function(){function t(e,n){var r=this;v(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new xj(t.style,t.options&&t.options.params||{})}),Nj(this.states,"true","1"),Nj(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new Aj(e,t,r.states))}),this.fallbackTransition=new Aj(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return g(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function Nj(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Pj=new dj,Dj=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return g(t,[{key:"register",value:function(t,e){var n=[],r=aj(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=_M(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=yj(this._driver,e,a,"ng-enter","ng-leave",{},{},i,Pj,o)).forEach(function(t){var e=SM(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,"*")})});var u=wM(n.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=IM(e,"","","");return kM(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Rj=[],Lj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jj=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=BM(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),Vj=new jj("void"),Fj=function(){function t(e,n,r){v(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Kj(n,this._hostClassName)}return g(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=SM(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=SM(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Kj(t,"ng-trigger"),Kj(t,"ng-trigger-"+e),u[e]=Vj),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new qj(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Kj(t,"ng-trigger"),Kj(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new jj(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Vj),"void"===c.value||u.value!==c.value){var l=SM(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Kj(t,"ng-animate-queued"),a.onStart(function(){Wj(t,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){WM(t,p),KM(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach(function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&wM(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Vj,s=new jj("void"),u=new qj(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Lj||(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Kj(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=IM(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,kM(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),Uj=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return g(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new Fj(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Bj(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Bj(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Kj(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wj(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Bj(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Bj(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return wM(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Lj,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Kj(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?wM(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var r=this,i=new dj,o=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=r.driver.query(t,".ng-animate-queued",!0),n=0;n<e.length;n++)h.add(e[n])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Gj(d,this.collectedEnterElements),v=new Map,y=0;p.forEach(function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach(function(t){return Kj(t,n)})});for(var g=[],m=new Set,b=new Set,w=0;w<this.collectedLeaveElements.length;w++){var _=this.collectedLeaveElements[w],k=_.__ng_removed;k&&k.setForRemoval&&(g.push(_),m.add(_),k.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):b.add(_))}var E=new Map,I=Gj(d,Array.from(m));I.forEach(function(t,e){var n="ng-leave"+y++;E.set(e,n),t.forEach(function(t){return Kj(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return Wj(t,n)})}),I.forEach(function(t,e){var n=E.get(e);t.forEach(function(t){return Wj(t,n)})}),g.forEach(function(t){r.processLeaveNode(t)})});for(var S=[],T=[],C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(function(t){var e=t.player,n=t.element;if(S.push(e),r.collectedEnterElements.length){var a=n.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!f||!r.driver.containsElement(f,n),d=E.get(n),p=v.get(n),y=r._buildInstruction(t,i,p,d,h);if(y.errors&&y.errors.length)T.push(y);else{if(h)return e.onStart(function(){return WM(n,y.fromStyles)}),e.onDestroy(function(){return KM(n,y.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return WM(n,y.fromStyles)}),e.onDestroy(function(){return KM(n,y.toStyles)}),void o.push(e);y.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(n,y.timelines),s.push({instruction:y,player:e,element:n}),y.queriedElements.forEach(function(t){return SM(u,t,[]).push(e)}),y.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),y.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(T.length){var A=[];T.forEach(function(t){A.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return A.push("- ".concat(t,"\n"))})}),S.forEach(function(t){return t.destroy()}),this.reportError(A)}var x=new Map,O=new Map;s.forEach(function(t){var e=t.element;i.has(e)&&(O.set(e,e),r._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),o.forEach(function(t){var e=t.element;r._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){SM(x,e,[]).push(t),t.destroy()})});var N=g.filter(function(t){return Xj(t,c,l)}),P=new Map;zj(P,this.driver,b,l,"*").forEach(function(t){Xj(t,c,l)&&N.push(t)});var D=new Map;p.forEach(function(t,e){zj(D,r.driver,new Set(t),c,"!")}),N.forEach(function(t){var e=P.get(t),n=D.get(t);P.set(t,Object.assign(Object.assign({},e),n))});var R=[],L=[],M={};s.forEach(function(t){var e=t.element,n=t.player,s=t.instruction;if(i.has(e)){if(h.has(e))return n.onDestroy(function(){return KM(e,s.toStyles)}),n.disabled=!0,n.overrideTotalTime(s.totalTime),void o.push(n);var u=M;if(O.size>1){for(var c=e,l=[];c=c.parentNode;){var f=O.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return O.set(t,u)})}var d=r._buildAnimation(n.namespaceId,s,x,a,D,P);if(n.setRealPlayer(d),u===M)R.push(n);else{var p=r.playersByElement.get(u);p&&p.length&&(n.parentPlayer=wM(p)),o.push(n)}}else WM(e,s.fromStyles),n.onDestroy(function(){return KM(e,s.toStyles)}),L.push(n),h.has(e)&&o.push(n)}),L.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=wM(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var j=0;j<g.length;j++){var V=g[j],F=V.__ng_removed;if(Wj(V,"ng-leave"),!F||!F.hasAnimation){var U=[];if(u.size){var q=u.get(V);q&&q.length&&U.push.apply(U,n(q));for(var B=this.driver.query(V,".ng-animating",!0),H=0;H<B.length;H++){var z=u.get(B[H]);z&&z.length&&U.push.apply(U,n(z))}}var G=U.filter(function(t){return!t.destroyed});G.length?Qj(this,V,G):this.processLeaveNode(V)}}return g.length=0,R.forEach(function(t){r.players.push(t),t.onDone(function(){t.destroy();var e=r.players.indexOf(t);r.players.splice(e,1)}),t.play()}),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,n,r){var i,o=this,a=n.element,s=n.isRemovalTransition?void 0:t,u=n.isRemovalTransition?void 0:n.triggerName,c=e(n.timelines);try{var l=function(){var t=i.value.element,e=t!==a,c=SM(r,t,[]);o._getPreviousPlayers(t,e,s,u,n.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(i=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}WM(a,n.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new gM(e.duration,e.delay);var p,v,y=f!==u,g=(p=(n.get(f)||Rj).map(function(t){return t.getRealPlayer()}),v=[],Yj(p,v),v).filter(function(t){return!!t.element&&t.element===f}),m=i.get(f),b=o.get(f),w=_M(0,a._normalizer,0,e.keyframes,m,b),_=a._buildPlayer(e,w,g);if(e.subTimeline&&r&&h.add(f),y){var k=new qj(t,s,f);k.setRealPlayer(_),c.push(k)}return _});c.forEach(function(t){SM(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return Kj(t,"ng-animating")});var d=wM(f);return d.onDestroy(function(){l.forEach(function(t){return Wj(t,"ng-animating")}),KM(u,e.toStyles)}),h.forEach(function(t){SM(r,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new gM(t.duration,t.delay)}}]),t}(),qj=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new gM,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return kM(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){SM(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Bj(t){return t&&1===t.nodeType}function Hj(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function zj(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(Hj(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Mj,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return Hj(t,o[s++])}),a}function Gj(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;function o(t){if(!t)return 1;var e=i.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:r.has(a)?1:o(a),i.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function Kj(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Wj(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Qj(t,e,n){wM(n).onDone(function(){return t.processLeaveNode(e)})}function Yj(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof mM?Yj(r.players,e):e.push(r)}}function Xj(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var $j,Zj=function(){function e(t,n,r){var i=this;v(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Uj(t,n,r),this._timelineEngine=new Dj(t,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return g(e,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=aj(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new Oj(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(e,n,r,i){if("@"==r.charAt(0)){var o=t(TM(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}},{key:"listen",value:function(e,n,r,i,o){if("@"==r.charAt(0)){var a=t(TM(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(e,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}(),Jj=(($j=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}}),i}return g(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?pM(t):t;return nV(this._renderer,null,e,"register",[n]),new tV(e,this._renderer)}}]),n}(dM)).\u0275fac=function(t){return new(t||$j)(vr(qa),vr(hc))},$j.\u0275prov=Et({token:$j,factory:$j.\u0275fac}),$j),tV=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return g(n,[{key:"create",value:function(t,e){return new eV(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){v(this,t)}}()),eV=function(){function t(e,n,r,i){v(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return g(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return nV(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function nV(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var rV,iV,oV,aV,sV=((rV=function(){function e(t,n,r){v(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return g(e,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new uV("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)}),new cV(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,n,r){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var n=t(e,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(t){return new(t||rV)(vr(qa),vr(Zj),vr(Nu))},rV.\u0275prov=Et({token:rV,factory:rV.\u0275fac}),rV),uV=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return g(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),cV=function(e){u(r,e);var n=l(r);function r(t,e,i,o){var a;return v(this,r),(a=n.call(this,e,i,o)).factory=t,a.namespaceId=e,a}return g(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(e,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(s=t([i.substring(0,o),i.substr(o+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){a.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(e,n,r)}}]),r}(uV),lV=((iV=function(t){u(n,t);var e=l(n);function n(t,r,i){return v(this,n),e.call(this,t.body,r,i)}return n}(Zj)).\u0275fac=function(t){return new(t||iV)(vr(hc),vr(VM),vr(Ej))},iV.\u0275prov=Et({token:iV,factory:iV.\u0275fac}),iV),hV=[{provide:VM,useClass:jM},{provide:new tr("AnimationModuleType"),useValue:"NoopAnimations"},{provide:dM,useClass:Jj},{provide:Ej,useFactory:function(){return new Ij}},{provide:Zj,useClass:lV},{provide:qa,useFactory:function(t,e,n){return new sV(t,e,n)},deps:[sh,Zj,Nu]}],fV=((aV=function t(){v(this,t)}).\u0275mod=ie({type:aV}),aV.\u0275inj=It({factory:function(t){return new(t||aV)},providers:hV,imports:[bh]}),aV),dV=((oV=function(){function t(e,n){v(this,t),this.authService=e,this.router=n}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.authService.getSignInStatus().pipe(Cp(),B(function(t){return!!t||n.router.createUrlTree(["/movies"])}))}}]),t}()).\u0275fac=function(t){return new(t||oV)(vr(pR),vr(ag))},oV.\u0275prov=Et({token:oV,factory:oV.\u0275fac,providedIn:"root"}),oV),pV=["createMovieForm"];function vV(t,e){if(1&t){var n=Jo();Qo(0,"app-confirmation",15),ra("response",function(t){return Ke(n),aa().handleConfirmationResponse(t)}),Yo()}}var yV,gV,mV,bV=((yV=function(){function t(e,n){v(this,t),this.movieService=e,this.router=n,this.isConfirmationOpen=!1}return g(t,[{key:"handleConfirmationResponse",value:function(t){!0===t?this.router.navigate(["../"]):this.closeConfirmation()}},{key:"confirmYourDecision",value:function(){this.createMovieForm.touched?this.isConfirmationOpen=!0:this.router.navigate(["../"])}},{key:"closeConfirmation",value:function(){this.isConfirmationOpen=!1}},{key:"saveMovie",value:function(){var t=this;this.movieService.add(this.createMovieForm.value).then(function(){t.router.navigate(["../movies"])})}}]),t}()).\u0275fac=function(t){return new(t||yV)(Go(wR),Go(ag))},yV.\u0275cmp=te({type:yV,selectors:[["app-movies-create"]],viewQuery:function(t,e){var n;1&t&&iu(pV,1),2&t&&ru(n=au())&&(e.createMovieForm=n.first)},decls:34,vars:2,consts:[[1,"container-fluid"],[3,"ngSubmit"],["createMovieForm","ngForm"],[1,"dl-horizontal"],["type","text","ngModel","","name","title","required","",1,"form-control"],["type","text","ngModel","","name","producer","required","",1,"form-control"],["type","date","ngModel","","name","releaseDate","required","",1,"form-control"],["type","text","ngModel","","name","director","required","",1,"form-control"],["ngModel","","name","openingCrawl","required","",1,"form-control"],[1,"button-container"],["type","button",1,"btn","btn-info",3,"click"],[1,"bi","bi-chevron-left"],["type","submit",1,"btn","btn-info",3,"disabled"],[1,"bi","bi-check2"],[3,"response",4,"ngIf"],[3,"response"]],template:function(t,e){if(1&t&&(Qo(0,"div",0),Qo(1,"form",1,2),ra("ngSubmit",function(){return e.saveMovie()}),Qo(3,"dl",3),Qo(4,"h1"),va(5,"Add a new entry"),Yo(),Qo(6,"dt"),va(7,"Movie title:"),Yo(),Qo(8,"dd"),Xo(9,"input",4),Yo(),Qo(10,"dt"),va(11,"Producers:"),Yo(),Qo(12,"dd"),Xo(13,"input",5),Yo(),Qo(14,"dt"),va(15,"Release date:"),Yo(),Qo(16,"dd"),Xo(17,"input",6),Yo(),Qo(18,"dt"),va(19,"Director:"),Yo(),Qo(20,"dd"),Xo(21,"input",7),Yo(),Qo(22,"dt"),va(23,"Opening crawl:"),Yo(),Qo(24,"dd"),Xo(25,"textarea",8),Yo(),Qo(26,"div",9),Qo(27,"button",10),ra("click",function(){return e.confirmYourDecision()}),Xo(28,"i",11),va(29," Cancel "),Yo(),Qo(30,"button",12),va(31," Save "),Xo(32,"i",13),Yo(),Yo(),Yo(),Yo(),Yo(),Ho(33,vV,1,0,"app-confirmation",14)),2&t){var n=zo(2);yi(30),Ko("disabled",!n.valid),yi(3),Ko("ngIf",e.isConfirmationOpen)}},directives:[Wf,sf,Hf,Ah,af,Kf,Yf,kl,NR],styles:["textarea[_ngcontent-%COMP%]{resize:vertical;margin-bottom:15px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#ffe1e1}.align-right[_ngcontent-%COMP%]{text-align:end;padding:0}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),yV),wV=[{path:"movies",component:yL},{path:"about",component:(gV=function(){function t(){v(this,t)}return g(t,[{key:"ngOnInit",value:function(){}}]),t}(),gV.\u0275fac=function(t){return new(t||gV)},gV.\u0275cmp=te({type:gV,selectors:[["app-about-page"]],decls:44,vars:0,consts:[[1,"about-info-container"],["href","https://t.me/GEORGIY_APRAKSIN"],["href","https://www.interesnee.ru/"],["href","https://angular.io/"],["href","https://rxjs-dev.firebaseapp.com/"],["href","https://getbootstrap.com/docs/3.4/getting-started/"],["href","https://firebase.google.com/docs/firestore"],["href","https://github.com/dreamvibe1993"],["href","https://soundcloud.com/mister-dreamvibe"],["href","https://ekaterinburg.hh.ru/resume/416ea42dff089785ce0039ed1f345831765647"],[1,"button-container"],["type","button","routerLink","../",1,"btn","btn-info"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"h2"),va(2,"About"),Yo(),Qo(3,"h4"),va(4,"Hello there!"),Yo(),Qo(5,"p"),va(6," My name is "),Qo(7,"a",1),va(8,"George"),Yo(),va(9," and this app was made during my internship in "),Qo(10,"a",2),va(11,"INTERESNEE JS WINTER CAMP 2021"),Yo(),va(12,". "),Yo(),Qo(13,"strong"),va(14,"Stack: "),Yo(),Qo(15,"ul"),Qo(16,"li"),Qo(17,"a",3),va(18,"Angular 11"),Yo(),Yo(),Qo(19,"li"),Qo(20,"a",4),va(21,"RxJS 6.6.3"),Yo(),Yo(),Qo(22,"li"),Qo(23,"a",5),va(24,"Bootstap 3.4.1"),Yo(),Yo(),Qo(25,"li"),Qo(26,"a",6),va(27,"Cloud firestore"),Yo(),Yo(),Yo(),Qo(28,"p"),va(29,"Portfolio and stuff:"),Yo(),Qo(30,"ul"),Qo(31,"li"),Qo(32,"a",7),va(33,"Git Hub"),Yo(),Yo(),Qo(34,"li"),Qo(35,"a",8),va(36,"SoundCloud"),Yo(),Yo(),Yo(),Qo(37,"a",9),va(38,"Hire me"),Yo(),va(39,"\ud83e\udd29"),Xo(40,"br"),Yo(),Qo(41,"div",10),Qo(42,"button",11),va(43,"Back"),Yo(),Yo())},directives:[sg],styles:[".about-info-container[_ngcontent-%COMP%]{margin-bottom:25px}.button-container[_ngcontent-%COMP%]{text-align:right}"]}),gV)},{path:"movies/create",component:bV,canActivate:[dV],pathMatch:"full"},{path:"movies/:details/:movieID",component:fM},{path:"movies/:details/:movieID/edit",component:fM,canActivate:[dV]},{path:"people",component:xL},{path:"people/:pageNumber",component:xL},{path:"planets",component:qL},{path:"planets/:pageNumber",component:qL},{path:"not-found",component:BL},{path:"",redirectTo:"/movies",pathMatch:"full"},{path:"**",redirectTo:"/not-found"}],_V=((mV=function t(){v(this,t)}).\u0275mod=ie({type:mV,bootstrap:[tL]}),mV.\u0275inj=It({factory:function(t){return new(t||mV)},providers:[],imports:[[bh,Fg,Jf,Gd,Tg.forRoot(wV),fV]]}),mV);(function(){if(Hu)throw new Error("Cannot enable prod mode after platform setup.");Bu=!1})(),gh().bootstrapModule(_V).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();