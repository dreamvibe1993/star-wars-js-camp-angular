(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",v="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",_="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",x="[object Uint8Array]",O="[object Uint16Array]",N="[object Uint32Array]",P=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,j=RegExp(L.source),V=RegExp(M.source),F=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,$=RegExp(G.source),K=/^\s+|\s+$/g,W=/^\s+/,Q=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="["+ft+"]",pt="["+ht+"]",gt="\\d+",vt="[a-z\\xdf-\\xf6\\xf8-\\xff]",mt="[^\\ud800-\\udfff"+ft+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yt="\\ud83c[\\udffb-\\udfff]",bt="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",It="(?:"+vt+"|"+mt+")",St="(?:"+Et+"|"+mt+")",Tt="(?:"+pt+"|"+yt+")?",Ct="[\\ufe0e\\ufe0f]?"+Tt+"(?:\\u200d(?:"+[bt,wt,_t].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*",At="(?:"+["[\\u2700-\\u27bf]",wt,_t].join("|")+")"+Ct,kt="(?:"+[bt+pt+"?",pt,wt,_t,"[\\ud800-\\udfff]"].join("|")+")",xt=RegExp("['\u2019]","g"),Ot=RegExp(pt,"g"),Nt=RegExp(yt+"(?="+yt+")|"+kt+Ct,"g"),Pt=RegExp([Et+"?"+vt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[dt,Et,"$"].join("|")+")",St+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[dt,Et+It,"$"].join("|")+")",Et+"?"+It+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,At].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mt=-1,jt={};jt[S]=jt[T]=jt[C]=jt[A]=jt[k]=jt[x]=jt["[object Uint8ClampedArray]"]=jt[O]=jt[N]=!0,jt[a]=jt[u]=jt[E]=jt[c]=jt[I]=jt[l]=jt[h]=jt[f]=jt[p]=jt[g]=jt[v]=jt[m]=jt[y]=jt[b]=jt[_]=!1;var Vt={};Vt[a]=Vt[u]=Vt[E]=Vt[I]=Vt[c]=Vt[l]=Vt[S]=Vt[T]=Vt[C]=Vt[A]=Vt[k]=Vt[p]=Vt[g]=Vt[v]=Vt[m]=Vt[y]=Vt[b]=Vt[w]=Vt[x]=Vt["[object Uint8ClampedArray]"]=Vt[O]=Vt[N]=!0,Vt[h]=Vt[f]=Vt[_]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=parseFloat,qt=parseInt,Bt="object"==typeof global&&global&&global.Object===Object&&global,Ht="object"==typeof self&&self&&self.Object===Object&&self,zt=Bt||Ht||Function("return this")(),Gt=e&&!e.nodeType&&e,$t=Gt&&"object"==typeof t&&t&&!t.nodeType&&t,Kt=$t&&$t.exports===Gt,Wt=Kt&&Bt.process,Qt=function(){try{return $t&&$t.require&&$t.require("util").types||Wt&&Wt.binding&&Wt.binding("util")}catch(t){}}(),Yt=Qt&&Qt.isArrayBuffer,Xt=Qt&&Qt.isDate,Zt=Qt&&Qt.isMap,Jt=Qt&&Qt.isRegExp,te=Qt&&Qt.isSet,ee=Qt&&Qt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ue(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function de(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Ee("length");function ve(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function me(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):me(t,we,n)}function be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function we(t){return t!=t}function _e(t,e){var n=null==t?0:t.length;return n?Te(t,e)/n:NaN}function Ee(t){return function(e){return null==e?void 0:e[t]}}function Ie(t){return function(e){return null==t?void 0:t[e]}}function Se(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Te(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ae(t){return function(e){return t(e)}}function ke(t,e){return le(e,function(e){return t[e]})}function xe(t,e){return t.has(e)}function Oe(t,e){for(var n=-1,r=t.length;++n<r&&ye(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var De=Ie({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Re=Ie({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Ft[t]}function Me(t){return Dt.test(t)}function je(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Ve(t,e){return function(n){return t(e(n))}}function Fe(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[i++]=n)}return s}function Ue(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Be(t){return Me(t)?function(t){for(var e=Nt.lastIndex=0;Nt.test(t);)++e;return e}(t):ge(t)}function He(t){return Me(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.split("")}(t)}var ze=Ie({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ge=function t(e){var n,r=(e=null==e?zt:Ge.defaults(zt.Object(),e,Ge.pick(zt,Lt))).Array,ht=e.Date,ft=e.Error,dt=e.Function,pt=e.Math,gt=e.Object,vt=e.RegExp,mt=e.String,yt=e.TypeError,bt=r.prototype,wt=gt.prototype,_t=e["__core-js_shared__"],Et=dt.prototype.toString,It=wt.hasOwnProperty,St=0,Tt=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ct=wt.toString,At=Et.call(gt),kt=zt._,Nt=vt("^"+Et.call(It).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Kt?e.Buffer:void 0,Ft=e.Symbol,Bt=e.Uint8Array,Ht=Dt?Dt.allocUnsafe:void 0,Gt=Ve(gt.getPrototypeOf,gt),$t=gt.create,Wt=wt.propertyIsEnumerable,Qt=bt.splice,ge=Ft?Ft.isConcatSpreadable:void 0,Ie=Ft?Ft.iterator:void 0,$e=Ft?Ft.toStringTag:void 0,Ke=function(){try{var t=Xi(gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),We=e.clearTimeout!==zt.clearTimeout&&e.clearTimeout,Qe=ht&&ht.now!==zt.Date.now&&ht.now,Ye=e.setTimeout!==zt.setTimeout&&e.setTimeout,Xe=pt.ceil,Ze=pt.floor,Je=gt.getOwnPropertySymbols,tn=Dt?Dt.isBuffer:void 0,en=e.isFinite,nn=bt.join,rn=Ve(gt.keys,gt),on=pt.max,sn=pt.min,an=ht.now,un=e.parseInt,cn=pt.random,ln=bt.reverse,hn=Xi(e,"DataView"),fn=Xi(e,"Map"),dn=Xi(e,"Promise"),pn=Xi(e,"Set"),gn=Xi(e,"WeakMap"),vn=Xi(gt,"create"),mn=gn&&new gn,yn={},bn=Ao(hn),wn=Ao(fn),_n=Ao(dn),En=Ao(pn),In=Ao(gn),Sn=Ft?Ft.prototype:void 0,Tn=Sn?Sn.valueOf:void 0,Cn=Sn?Sn.toString:void 0;function An(t){if(zs(t)&&!Ds(t)&&!(t instanceof Nn)){if(t instanceof On)return t;if(It.call(t,"__wrapped__"))return ko(t)}return new On(t)}var kn=function(){function t(){}return function(e){if(!Hs(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function xn(){}function On(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Nn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function Mn(t){var e=this.__data__=new Dn(t);this.size=e.size}function jn(t,e){var n=Ds(t),r=!n&&Ps(t),i=!n&&!r&&js(t),o=!n&&!r&&!i&&Zs(t),s=n||r||i||o,a=s?Ce(t.length,mt):[],u=a.length;for(var c in t)!e&&!It.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||io(c,u))||a.push(c);return a}function Vn(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function Fn(t,e){return Eo(gi(t),Wn(e,0,t.length))}function Un(t){return Eo(gi(t))}function qn(t,e,n){(void 0!==n&&!xs(t[e],n)||void 0===n&&!(e in t))&&$n(t,e,n)}function Bn(t,e,n){var r=t[e];It.call(t,e)&&xs(r,n)&&(void 0!==n||e in t)||$n(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(xs(t[n][0],e))return n;return-1}function zn(t,e,n,r){return Jn(t,function(t,i,o){e(r,t,n(t),o)}),r}function Gn(t,e){return t&&vi(e,wa(e),t)}function $n(t,e,n){"__proto__"==e&&Ke?Ke(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Kn(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?void 0:ga(t,e[n]);return o}function Wn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,r,i,o){var s,u=1&e,h=2&e,_=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!Hs(t))return t;var P=Ds(t);if(P){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&It.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return gi(t,s)}else{var D=to(t),R=D==f||D==d;if(js(t))return ci(t,u);if(D==v||D==a||R&&!i){if(s=h||R?{}:no(t),!u)return h?function(t,e){return vi(t,Ji(t),e)}(t,function(t,e){return t&&vi(e,_a(e),t)}(s,t)):function(t,e){return vi(t,Zi(t),e)}(t,Gn(s,t))}else{if(!Vt[D])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case E:return li(t);case c:case l:return new r(+t);case I:return function(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case S:case T:case C:case A:case k:case x:case"[object Uint8ClampedArray]":case O:case N:return hi(t,n);case p:return new r;case g:case b:return new r(t);case m:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case w:return Tn?gt(Tn.call(t)):{}}}(t,D,u)}}o||(o=new Mn);var L=o.get(t);if(L)return L;o.set(t,s),Qs(t)?t.forEach(function(r){s.add(Qn(r,e,n,r,t,o))}):Gs(t)&&t.forEach(function(r,i){s.set(i,Qn(r,e,n,i,t,o))});var M=P?void 0:(_?h?zi:Hi:h?_a:wa)(t);return ie(M||t,function(r,i){M&&(r=t[i=r]),Bn(s,i,Qn(r,e,n,i,t,o))}),s}function Yn(t,e,n){var r=n.length;if(null==t)return!r;for(t=gt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Xn(t,e,n){if("function"!=typeof t)throw new yt(i);return yo(function(){t.apply(void 0,n)},e)}function Zn(t,e,n,r){var i=-1,o=ue,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=le(e,Ae(n))),r?(o=ce,s=!1):e.length>=200&&(o=xe,s=!1,e=new Ln(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}An.templateSettings={escape:F,evaluate:U,interpolate:q,variable:"",imports:{_:An}},(An.prototype=xn.prototype).constructor=An,(On.prototype=kn(xn.prototype)).constructor=On,(Nn.prototype=kn(xn.prototype)).constructor=Nn,Pn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Pn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Pn.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return It.call(e,t)?e[t]:void 0},Pn.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:It.call(e,t)},Pn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(fn||Dn),string:new Pn}},Rn.prototype.delete=function(t){var e=Qi(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Qi(this,t).get(t)},Rn.prototype.has=function(t){return Qi(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Qi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mn.prototype.get=function(t){return this.__data__.get(t)},Mn.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(t,e),this.size=n.size,this};var Jn=bi(ar),tr=bi(ur,!0);function er(t,e){var n=!0;return Jn(t,function(t,r,i){return n=!!e(t,r,i)}),n}function nr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Xs(s):n(s,a)))var a=s,u=o}return u}function rr(t,e){var n=[];return Jn(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function ir(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=ro),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ir(a,e-1,n,r,i):he(i,a):r||(i[i.length]=a)}return i}var or=wi(),sr=wi(!0);function ar(t,e){return t&&or(t,e,wa)}function ur(t,e){return t&&sr(t,e,wa)}function cr(t,e){return ae(e,function(e){return Us(t[e])})}function lr(t,e){for(var n=0,r=(e=oi(e,t)).length;null!=t&&n<r;)t=t[Co(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Ds(t)?r:he(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$e&&$e in gt(t)?function(t){var e=It.call(t,$e),n=t[$e];try{t[$e]=void 0;var r=!0}catch(o){}var i=Ct.call(t);return r&&(e?t[$e]=n:delete t[$e]),i}(t):function(t){return Ct.call(t)}(t)}function dr(t,e){return t>e}function pr(t,e){return null!=t&&It.call(t,e)}function gr(t,e){return null!=t&&e in gt(t)}function vr(t,e,n){for(var i=n?ce:ue,o=t[0].length,s=t.length,a=s,u=r(s),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=le(h,Ae(e))),c=sn(h.length,c),u[a]=!n&&(e||o>=120&&h.length>=120)?new Ln(a&&h):void 0}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(d?xe(d,g):i(l,g,n))){for(a=s;--a;){var v=u[a];if(!(v?xe(v,g):i(t[a],g,n)))continue t}d&&d.push(g),l.push(p)}}return l}function mr(t,e,n){var r=null==(t=po(t,e=oi(e,t)))?t:t[Co(Fo(e))];return null==r?void 0:ne(r,t,n)}function yr(t){return zs(t)&&fr(t)==a}function br(t,e,n,r,i){return t===e||(null==t||null==e||!zs(t)&&!zs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=Ds(t),f=Ds(e),d=s?u:to(t),_=f?u:to(e),S=(d=d==a?v:d)==v,T=(_=_==a?v:_)==v,C=d==_;if(C&&js(t)){if(!js(e))return!1;s=!0,S=!1}if(C&&!S)return o||(o=new Mn),s||Zs(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case c:case l:case g:return xs(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case p:var a=je;case y:if(a||(a=Ue),t.size!=e.size&&!(1&r))return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var f=qi(a(t),a(e),r,i,o,s);return s.delete(t),f;case w:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var A=S&&It.call(t,"__wrapped__"),k=T&&It.call(e,"__wrapped__");if(A||k){var x=A?t.value():t,O=k?e.value():e;return o||(o=new Mn),i(x,O,n,r,o)}}return!!C&&(o||(o=new Mn),function(t,e,n,r,i,o){var s=1&n,a=Hi(t),u=a.length;if(u!=Hi(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:It.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<u;){var g=t[l=a[c]],v=e[l];if(r)var m=s?r(v,g,l,e,t,o):r(g,v,l,t,e,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,br,i))}function wr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=gt(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],c=t[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Mn;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?br(l,c,3,r,h):f))return!1}}return!0}function _r(t){return!(!Hs(t)||(e=t,Tt&&Tt in e))&&(Us(t)?Nt:ot).test(Ao(t));var e}function Er(t){return"function"==typeof t?t:null==t?$a:"object"==typeof t?Ds(t)?Ar(t[0],t[1]):Cr(t):eu(t)}function Ir(t){if(!co(t))return rn(t);var e=[];for(var n in gt(t))It.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Sr(t,e){return t<e}function Tr(t,e){var n=-1,i=Ls(t)?r(t.length):[];return Jn(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Cr(t){var e=Yi(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Ar(t,e){return so(t)&&lo(e)?ho(Co(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?va(n,t):br(e,r,3)}}function kr(t,e,n,r,i){t!==e&&or(e,function(o,s){if(i||(i=new Mn),Hs(o))!function(t,e,n,r,i,o,s){var a=vo(t,n),u=vo(e,n),c=s.get(u);if(c)qn(t,n,c);else{var l=o?o(a,u,n+"",t,e,s):void 0,h=void 0===l;if(h){var f=Ds(u),d=!f&&js(u),p=!f&&!d&&Zs(u);l=u,f||d||p?Ds(a)?l=a:Ms(a)?l=gi(a):d?(h=!1,l=ci(u,!0)):p?(h=!1,l=hi(u,!0)):l=[]:Ks(u)||Ps(u)?(l=a,Ps(a)?l=sa(a):Hs(a)&&!Us(a)||(l=no(u))):h=!1}h&&(s.set(u,l),i(l,u,r,o,s),s.delete(u)),qn(t,n,l)}}(t,e,s,n,kr,r,i);else{var a=r?r(vo(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),qn(t,s,a)}},_a)}function xr(t,e){var n=t.length;if(n)return io(e+=e<0?n:0,n)?t[e]:void 0}function Or(t,e,n){e=e.length?le(e,function(t){return Ds(t)?function(e){return lr(e,1===t.length?t[0]:t)}:t}):[$a];var r=-1;return e=le(e,Ae(Wi())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=fi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(Tr(t,function(t,n,i){return{criteria:le(e,function(e){return e(t)}),index:++r,value:t}}))}function Nr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=lr(t,s);n(a,s)&&Fr(o,oi(s,t),a)}return o}function Pr(t,e,n,r){var i=r?be:ye,o=-1,s=e.length,a=t;for(t===e&&(e=gi(e)),n&&(a=le(t,Ae(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Qt.call(a,u,1),Qt.call(t,u,1);return t}function Dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;io(i)?Qt.call(t,i,1):Xr(t,i)}}return t}function Rr(t,e){return t+Ze(cn()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Mr(t,e){return bo(fo(t,e,$a),t+"")}function jr(t){return Vn(xa(t))}function Vr(t,e){var n=xa(t);return Eo(n,Wn(e,0,n.length))}function Fr(t,e,n,r){if(!Hs(t))return t;for(var i=-1,o=(e=oi(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u=Co(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var l=a[u];void 0===(c=r?r(l,u,a):void 0)&&(c=Hs(l)?l:io(e[i+1])?[]:{})}Bn(a,u,c),a=a[u]}return t}var Ur=mn?function(t,e){return mn.set(t,e),t}:$a,qr=Ke?function(t,e){return Ke(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:$a;function Br(t){return Eo(xa(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function zr(t,e){var n;return Jn(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Gr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Xs(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return $r(t,e,$a,n)}function $r(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,a=null===e,u=Xs(e),c=void 0===e;i<o;){var l=Ze((i+o)/2),h=n(t[l]),f=void 0!==h,d=null===h,p=h==h,g=Xs(h);if(s)var v=r||p;else v=c?p&&(r||f):a?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);v?i=l+1:o=l}return sn(o,4294967294)}function Kr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!xs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Wr(t){return"number"==typeof t?t:Xs(t)?NaN:+t}function Qr(t){if("string"==typeof t)return t;if(Ds(t))return le(t,Qr)+"";if(Xs(t))return Cn?Cn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yr(t,e,n){var r=-1,i=ue,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=ce;else if(o>=200){var c=e?null:Li(t);if(c)return Ue(c);s=!1,i=xe,u=new Ln}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function Xr(t,e){return null==(t=po(t,e=oi(e,t)))||delete t[Co(Fo(e))]}function Zr(t,e,n,r){return Fr(t,e,n(lr(t,e)),r)}function Jr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ti(t,e){var n=t;return n instanceof Nn&&(n=n.value()),fe(e,function(t,e){return e.func.apply(e.thisArg,he([t],e.args))},n)}function ei(t,e,n){var i=t.length;if(i<2)return i?Yr(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Zn(s[o]||a,t[u],e,n));return Yr(ir(s,1),e,n)}function ni(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;)n(s,t[r],r<o?e[r]:void 0);return s}function ri(t){return Ms(t)?t:[]}function ii(t){return"function"==typeof t?t:$a}function oi(t,e){return Ds(t)?t:so(t,e)?[t]:To(aa(t))}var si=Mr;function ai(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ui=We||function(t){return zt.clearTimeout(t)};function ci(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function li(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function hi(t,e){var n=e?li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Xs(t),s=void 0!==e,a=null===e,u=e==e,c=Xs(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function di(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=on(s-a,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function pi(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,h=on(s-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function vi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),i?$n(n,a,u):Bn(n,a,u)}return n}function mi(t,e){return function(n,r){var i=Ds(n)?re:zn,o=e?e():{};return i(n,t,Wi(r,2),o)}}function yi(t){return Mr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&oo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=gt(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function bi(t,e){return function(n,r){if(null==n)return n;if(!Ls(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=gt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=gt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function _i(t){return function(e){var n=Me(e=aa(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ai(n,1).join(""):e.slice(1);return r[t]()+i}}function Ei(t){return function(e){return fe(Ua(Pa(e).replace(xt,"")),t,"")}}function Ii(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=kn(t.prototype),r=t.apply(n,e);return Hs(r)?r:n}}function Si(t){return function(e,n,r){var i=gt(e);if(!Ls(e)){var o=Wi(n,3);e=wa(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}function Ti(t){return Bi(function(e){var n=e.length,r=n,o=On.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new yt(i);if(o&&!a&&"wrapper"==$i(s))var a=new On([],!0)}for(r=a?r:n;++r<n;){var u=$i(s=e[r]),c="wrapper"==u?Gi(s):void 0;a=c&&ao(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[$i(c[0])].apply(a,c[3]):1==s.length&&ao(s)?a[u]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ds(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ci(t,e,n,i,o,s,a,u,c,l){var h=128&e,f=1&e,d=2&e,p=24&e,g=512&e,v=d?void 0:Ii(t);return function m(){for(var y=arguments.length,b=r(y),w=y;w--;)b[w]=arguments[w];if(p)var _=Ki(m),E=Pe(b,_);if(i&&(b=di(b,i,o,p)),s&&(b=pi(b,s,a,p)),y-=E,p&&y<l){var I=Fe(b,_);return Di(t,e,Ci,m.placeholder,n,b,I,u,c,l-y)}var S=f?n:this,T=d?S[t]:t;return y=b.length,u?b=go(b,u):g&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==zt&&this instanceof m&&(T=v||Ii(T)),T.apply(S,b)}}function Ai(t,e){return function(n,r){return function(t,e,n,r){return ar(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function ki(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Wr(n),r=Wr(r)),i=t(n,r)}return i}}function xi(t){return Bi(function(e){return e=le(e,Ae(Wi())),Mr(function(n){var r=this;return t(e,function(t){return ne(t,r,n)})})})}function Oi(t,e){var n=(e=void 0===e?" ":Qr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Xe(t/Be(e)));return Me(e)?ai(He(r),0,t).join(""):r.slice(0,t)}function Ni(t){return function(e,n,i){return i&&"number"!=typeof i&&oo(e,n,i)&&(n=i=void 0),e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n,i){for(var o=-1,s=on(Xe((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:na(i),t)}}function Pi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=oa(e),n=oa(n)),t(e,n)}}function Di(t,e,n,r,i,o,s,a,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,u,c],f=n.apply(void 0,h);return ao(t)&&mo(f,h),f.placeholder=r,wo(f,t,e)}function Ri(t){var e=pt[t];return function(t,n){if(t=oa(t),(n=null==n?0:sn(ra(n),292))&&en(t)){var r=(aa(t)+"e").split("e");return+((r=(aa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=pn&&1/Ue(new pn([,-0]))[1]==1/0?function(t){return new pn(t)}:Xa;function Mi(t){return function(e){var n=to(e);return n==p?je(e):n==y?qe(e):function(t,e){return le(e,function(e){return[e,t[e]]})}(e,t(e))}}function ji(t,e,n,s,a,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(i);var f=s?s.length:0;if(f||(e&=-97,s=a=void 0),c=void 0===c?c:on(ra(c),0),l=void 0===l?l:ra(l),f-=a?a.length:0,64&e){var d=s,p=a;s=a=void 0}var g=h?void 0:Gi(t),v=[t,e,n,s,a,d,p,u,c,l];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?di(a,s,e[4]):s,t[4]=a?Fe(t[3],o):e[4]}(s=e[5])&&(t[5]=(a=t[5])?pi(a,s,e[6]):s,t[6]=a?Fe(t[5],o):e[6]),(s=e[7])&&(t[7]=s),128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,g),t=v[0],e=v[1],n=v[2],s=v[3],a=v[4],!(l=v[9]=void 0===v[9]?h?0:t.length:on(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Ii(t);return function o(){for(var s=arguments.length,a=r(s),u=s,c=Ki(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Fe(a,c);return(s-=l.length)<n?Di(t,e,Ci,o.placeholder,void 0,a,l,void 0,void 0,n-s):ne(this&&this!==zt&&this instanceof o?i:t,this,a)}}(t,e,l):32!=e&&33!=e||a.length?Ci.apply(void 0,v):function(t,e,n,i){var o=1&e,s=Ii(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==zt&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return ne(f,o?n:this,h)}}(t,e,n,s);else var m=function(t,e,n){var r=1&e,i=Ii(t);return function e(){return(this&&this!==zt&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return wo((g?Ur:mo)(m,v),t,e)}function Vi(t,e,n,r){return void 0===t||xs(t,wt[n])&&!It.call(r,n)?e:t}function Fi(t,e,n,r,i,o){return Hs(t)&&Hs(e)&&(o.set(e,t),kr(t,e,void 0,Fi,o),o.delete(e)),t}function Ui(t){return Ks(t)?void 0:t}function qi(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var h=-1,f=!0,d=2&n?new Ln:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],g=e[h];if(r)var v=s?r(g,p,h,e,t,o):r(p,g,h,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!pe(e,function(t,e){if(!xe(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)})){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Bi(t){return bo(fo(t,void 0,Ro),t+"")}function Hi(t){return hr(t,wa,Zi)}function zi(t){return hr(t,_a,Ji)}var Gi=mn?function(t){return mn.get(t)}:Xa;function $i(t){for(var e=t.name+"",n=yn[e],r=It.call(yn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ki(t){return(It.call(An,"placeholder")?An:t).placeholder}function Wi(){var t=An.iteratee||Ka;return t=t===Ka?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Yi(t){for(var e=wa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lo(i)]}return e}function Xi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _r(n)?n:void 0}var Zi=Je?function(t){return null==t?[]:(t=gt(t),ae(Je(t),function(e){return Wt.call(t,e)}))}:iu,Ji=Je?function(t){for(var e=[];t;)he(e,Zi(t)),t=Gt(t);return e}:iu,to=fr;function eo(t,e,n){for(var r=-1,i=(e=oi(e,t)).length,o=!1;++r<i;){var s=Co(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Bs(i)&&io(s,i)&&(Ds(t)||Ps(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:kn(Gt(t))}function ro(t){return Ds(t)||Ps(t)||!!(ge&&t&&t[ge])}function io(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Hs(n))return!1;var r=typeof e;return!!("number"==r?Ls(n)&&io(e,n.length):"string"==r&&e in n)&&xs(n[e],t)}function so(t,e){if(Ds(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Xs(t))||H.test(t)||!B.test(t)||null!=e&&t in gt(e)}function ao(t){var e=$i(t),n=An[e];if("function"!=typeof n||!(e in Nn.prototype))return!1;if(t===n)return!0;var r=Gi(n);return!!r&&t===r[0]}(hn&&to(new hn(new ArrayBuffer(1)))!=I||fn&&to(new fn)!=p||dn&&"[object Promise]"!=to(dn.resolve())||pn&&to(new pn)!=y||gn&&to(new gn)!=_)&&(to=function(t){var e=fr(t),n=e==v?t.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case bn:return I;case wn:return p;case _n:return"[object Promise]";case En:return y;case In:return _}return e});var uo=_t?Us:ou;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function lo(t){return t==t&&!Hs(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in gt(n))}}function fo(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=on(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),ne(t,this,u)}}function po(t,e){return e.length<2?t:lr(t,Hr(e,0,-1))}function go(t,e){for(var n=t.length,r=sn(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=io(o,n)?i[o]:void 0}return t}function vo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var mo=_o(Ur),yo=Ye||function(t,e){return zt.setTimeout(t,e)},bo=_o(qr);function wo(t,e,n){var r=e+"";return bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Y,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(s,function(n){var r="_."+n[0];e&n[1]&&!ue(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(X);return e?e[1].split(Z):[]}(r),n)))}function _o(t){var e=0,n=0;return function(){var r=an(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Eo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Io,So,To=(Io=Is(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(z,function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)}),e},function(t){return 500===So.size&&So.clear(),t}),So=Io.cache,Io);function Co(t){if("string"==typeof t||Xs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ao(t){if(null!=t){try{return Et.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ko(t){if(t instanceof Nn)return t.clone();var e=new On(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var xo=Mr(function(t,e){return Ms(t)?Zn(t,ir(e,1,Ms,!0)):[]}),Oo=Mr(function(t,e){var n=Fo(e);return Ms(n)&&(n=void 0),Ms(t)?Zn(t,ir(e,1,Ms,!0),Wi(n,2)):[]}),No=Mr(function(t,e){var n=Fo(e);return Ms(n)&&(n=void 0),Ms(t)?Zn(t,ir(e,1,Ms,!0),void 0,n):[]});function Po(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),me(t,Wi(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?on(r+i,0):sn(i,r-1)),me(t,Wi(e,3),i,!0)}function Ro(t){return null!=t&&t.length?ir(t,1):[]}function Lo(t){return t&&t.length?t[0]:void 0}var Mo=Mr(function(t){var e=le(t,ri);return e.length&&e[0]===t[0]?vr(e):[]}),jo=Mr(function(t){var e=Fo(t),n=le(t,ri);return e===Fo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vr(n,Wi(e,2)):[]}),Vo=Mr(function(t){var e=Fo(t),n=le(t,ri);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vr(n,void 0,e):[]});function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Uo=Mr(qo);function qo(t,e){return t&&t.length&&e&&e.length?Pr(t,e):t}var Bo=Bi(function(t,e){var n=null==t?0:t.length,r=Kn(t,e);return Dr(t,le(e,function(t){return io(t,n)?+t:t}).sort(fi)),r});function Ho(t){return null==t?t:ln.call(t)}var zo=Mr(function(t){return Yr(ir(t,1,Ms,!0))}),Go=Mr(function(t){var e=Fo(t);return Ms(e)&&(e=void 0),Yr(ir(t,1,Ms,!0),Wi(e,2))}),$o=Mr(function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,Yr(ir(t,1,Ms,!0),void 0,e)});function Ko(t){if(!t||!t.length)return[];var e=0;return t=ae(t,function(t){if(Ms(t))return e=on(t.length,e),!0}),Ce(e,function(e){return le(t,Ee(e))})}function Wo(t,e){if(!t||!t.length)return[];var n=Ko(t);return null==e?n:le(n,function(t){return ne(e,void 0,t)})}var Qo=Mr(function(t,e){return Ms(t)?Zn(t,e):[]}),Yo=Mr(function(t){return ei(ae(t,Ms))}),Xo=Mr(function(t){var e=Fo(t);return Ms(e)&&(e=void 0),ei(ae(t,Ms),Wi(e,2))}),Zo=Mr(function(t){var e=Fo(t);return e="function"==typeof e?e:void 0,ei(ae(t,Ms),void 0,e)}),Jo=Mr(Ko),ts=Mr(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Wo(t,n)});function es(t){var e=An(t);return e.__chain__=!0,e}function ns(t,e){return e(t)}var rs=Bi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Kn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Nn&&io(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ns,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(i)}),is=mi(function(t,e,n){It.call(t,n)?++t[n]:$n(t,n,1)}),os=Si(Po),ss=Si(Do);function as(t,e){return(Ds(t)?ie:Jn)(t,Wi(e,3))}function us(t,e){return(Ds(t)?oe:tr)(t,Wi(e,3))}var cs=mi(function(t,e,n){It.call(t,n)?t[n].push(e):$n(t,n,[e])}),ls=Mr(function(t,e,n){var i=-1,o="function"==typeof e,s=Ls(t)?r(t.length):[];return Jn(t,function(t){s[++i]=o?ne(e,t,n):mr(t,e,n)}),s}),hs=mi(function(t,e,n){$n(t,n,e)});function fs(t,e){return(Ds(t)?le:Tr)(t,Wi(e,3))}var ds=mi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ps=Mr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Or(t,ir(e,1),[])}),gs=Qe||function(){return zt.Date.now()};function vs(t,e,n){return e=n?void 0:e,ji(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ms(t,e){var n;if("function"!=typeof e)throw new yt(i);return t=ra(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ys=Mr(function(t,e,n){var r=1;if(n.length){var i=Fe(n,Ki(ys));r|=32}return ji(t,r,e,n,i)}),bs=Mr(function(t,e,n){var r=3;if(n.length){var i=Fe(n,Ki(bs));r|=32}return ji(e,r,t,n,i)});function ws(t,e,n){var r,o,s,a,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new yt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function g(t){return l=t,u=yo(m,e),h?p(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=s}function m(){var t=gs();if(v(t))return y(t);u=yo(m,function(t){var n=e-(t-c);return f?sn(n,s-(t-l)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=o=void 0,a)}function b(){var t=gs(),n=v(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return g(c);if(f)return ui(u),u=yo(m,e),p(c)}return void 0===u&&(u=yo(m,e)),a}return e=oa(e)||0,Hs(n)&&(h=!!n.leading,s=(f="maxWait"in n)?on(oa(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ui(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?a:y(gs())},b}var _s=Mr(function(t,e){return Xn(t,1,e)}),Es=Mr(function(t,e,n){return Xn(t,oa(e)||0,n)});function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Is.Cache||Rn),n}function Ss(t){if("function"!=typeof t)throw new yt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Rn;var Ts=si(function(t,e){var n=(e=1==e.length&&Ds(e[0])?le(e[0],Ae(Wi())):le(ir(e,1),Ae(Wi()))).length;return Mr(function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)})}),Cs=Mr(function(t,e){return ji(t,32,void 0,e,Fe(e,Ki(Cs)))}),As=Mr(function(t,e){return ji(t,64,void 0,e,Fe(e,Ki(As)))}),ks=Bi(function(t,e){return ji(t,256,void 0,void 0,void 0,e)});function xs(t,e){return t===e||t!=t&&e!=e}var Os=Pi(dr),Ns=Pi(function(t,e){return t>=e}),Ps=yr(function(){return arguments}())?yr:function(t){return zs(t)&&It.call(t,"callee")&&!Wt.call(t,"callee")},Ds=r.isArray,Rs=Yt?Ae(Yt):function(t){return zs(t)&&fr(t)==E};function Ls(t){return null!=t&&Bs(t.length)&&!Us(t)}function Ms(t){return zs(t)&&Ls(t)}var js=tn||ou,Vs=Xt?Ae(Xt):function(t){return zs(t)&&fr(t)==l};function Fs(t){if(!zs(t))return!1;var e=fr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ks(t)}function Us(t){if(!Hs(t))return!1;var e=fr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qs(t){return"number"==typeof t&&t==ra(t)}function Bs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zs(t){return null!=t&&"object"==typeof t}var Gs=Zt?Ae(Zt):function(t){return zs(t)&&to(t)==p};function $s(t){return"number"==typeof t||zs(t)&&fr(t)==g}function Ks(t){if(!zs(t)||fr(t)!=v)return!1;var e=Gt(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Et.call(n)==At}var Ws=Jt?Ae(Jt):function(t){return zs(t)&&fr(t)==m},Qs=te?Ae(te):function(t){return zs(t)&&to(t)==y};function Ys(t){return"string"==typeof t||!Ds(t)&&zs(t)&&fr(t)==b}function Xs(t){return"symbol"==typeof t||zs(t)&&fr(t)==w}var Zs=ee?Ae(ee):function(t){return zs(t)&&Bs(t.length)&&!!jt[fr(t)]},Js=Pi(Sr),ta=Pi(function(t,e){return t<=e});function ea(t){if(!t)return[];if(Ls(t))return Ys(t)?He(t):gi(t);if(Ie&&t[Ie])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ie]());var e=to(t);return(e==p?je:e==y?Ue:xa)(t)}function na(t){return t?1/0===(t=oa(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ra(t){var e=na(t),n=e%1;return e==e?n?e-n:e:0}function ia(t){return t?Wn(ra(t),0,4294967295):0}function oa(t){if("number"==typeof t)return t;if(Xs(t))return NaN;if(Hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(K,"");var n=it.test(t);return n||st.test(t)?qt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function sa(t){return vi(t,_a(t))}function aa(t){return null==t?"":Qr(t)}var ua=yi(function(t,e){if(co(e)||Ls(e))vi(e,wa(e),t);else for(var n in e)It.call(e,n)&&Bn(t,n,e[n])}),ca=yi(function(t,e){vi(e,_a(e),t)}),la=yi(function(t,e,n,r){vi(e,_a(e),t,r)}),ha=yi(function(t,e,n,r){vi(e,wa(e),t,r)}),fa=Bi(Kn),da=Mr(function(t,e){t=gt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&oo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=_a(o),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(void 0===l||xs(l,wt[c])&&!It.call(t,c))&&(t[c]=o[c])}return t}),pa=Mr(function(t){return t.push(void 0,Fi),ne(Ia,void 0,t)});function ga(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function va(t,e){return null!=t&&eo(t,e,gr)}var ma=Ai(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),t[e]=n},Ha($a)),ya=Ai(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),It.call(t,e)?t[e].push(n):t[e]=[n]},Wi),ba=Mr(mr);function wa(t){return Ls(t)?jn(t):Ir(t)}function _a(t){return Ls(t)?jn(t,!0):function(t){if(!Hs(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var r in t)("constructor"!=r||!e&&It.call(t,r))&&n.push(r);return n}(t)}var Ea=yi(function(t,e,n){kr(t,e,n)}),Ia=yi(function(t,e,n,r){kr(t,e,n,r)}),Sa=Bi(function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,function(e){return e=oi(e,t),r||(r=e.length>1),e}),vi(t,zi(t),n),r&&(n=Qn(n,7,Ui));for(var i=e.length;i--;)Xr(n,e[i]);return n}),Ta=Bi(function(t,e){return null==t?{}:function(t,e){return Nr(t,e,function(e,n){return va(t,n)})}(t,e)});function Ca(t,e){if(null==t)return{};var n=le(zi(t),function(t){return[t]});return e=Wi(e),Nr(t,n,function(t,n){return e(t,n[0])})}var Aa=Mi(wa),ka=Mi(_a);function xa(t){return null==t?[]:ke(t,wa(t))}var Oa=Ei(function(t,e,n){return e=e.toLowerCase(),t+(n?Na(e):e)});function Na(t){return Fa(aa(t).toLowerCase())}function Pa(t){return(t=aa(t))&&t.replace(ut,De).replace(Ot,"")}var Da=Ei(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ra=Ei(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),La=_i("toLowerCase"),Ma=Ei(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ja=Ei(function(t,e,n){return t+(n?" ":"")+Fa(e)}),Va=Ei(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Fa=_i("toUpperCase");function Ua(t,e,n){return t=aa(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(J)||[]}(t):t.match(e)||[]}var qa=Mr(function(t,e){try{return ne(t,void 0,e)}catch(n){return Fs(n)?n:new ft(n)}}),Ba=Bi(function(t,e){return ie(e,function(e){e=Co(e),$n(t,e,ys(t[e],t))}),t});function Ha(t){return function(){return t}}var za=Ti(),Ga=Ti(!0);function $a(t){return t}function Ka(t){return Er("function"==typeof t?t:Qn(t,1))}var Wa=Mr(function(t,e){return function(n){return mr(n,t,e)}}),Qa=Mr(function(t,e){return function(n){return mr(t,n,e)}});function Ya(t,e,n){var r=wa(e),i=cr(e,r);null!=n||Hs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,wa(e)));var o=!(Hs(n)&&"chain"in n&&!n.chain),s=Us(t);return ie(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})}),t}function Xa(){}var Za=xi(le),Ja=xi(se),tu=xi(pe);function eu(t){return so(t)?Ee(Co(t)):function(t){return function(e){return lr(e,t)}}(t)}var nu=Ni(),ru=Ni(!0);function iu(){return[]}function ou(){return!1}var su,au=ki(function(t,e){return t+e},0),uu=Ri("ceil"),cu=ki(function(t,e){return t/e},1),lu=Ri("floor"),hu=ki(function(t,e){return t*e},1),fu=Ri("round"),du=ki(function(t,e){return t-e},0);return An.after=function(t,e){if("function"!=typeof e)throw new yt(i);return t=ra(t),function(){if(--t<1)return e.apply(this,arguments)}},An.ary=vs,An.assign=ua,An.assignIn=ca,An.assignInWith=la,An.assignWith=ha,An.at=fa,An.before=ms,An.bind=ys,An.bindAll=Ba,An.bindKey=bs,An.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ds(t)?t:[t]},An.chain=es,An.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(ra(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=r(Xe(i/e));o<i;)a[s++]=Hr(t,o,o+=e);return a},An.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},An.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(Ds(n)?gi(n):[n],ir(e,1))},An.cond=function(t){var e=null==t?0:t.length,n=Wi();return t=e?le(t,function(t){if("function"!=typeof t[1])throw new yt(i);return[n(t[0]),t[1]]}):[],Mr(function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}})},An.conforms=function(t){return function(t){var e=wa(t);return function(n){return Yn(n,t,e)}}(Qn(t,1))},An.constant=Ha,An.countBy=is,An.create=function(t,e){var n=kn(t);return null==e?n:Gn(n,e)},An.curry=function t(e,n,r){var i=ji(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.curryRight=function t(e,n,r){var i=ji(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.debounce=ws,An.defaults=da,An.defaultsDeep=pa,An.defer=_s,An.delay=Es,An.difference=xo,An.differenceBy=Oo,An.differenceWith=No,An.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ra(e))<0?0:e,r):[]},An.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e):[]},An.dropRightWhile=function(t,e){return t&&t.length?Jr(t,Wi(e,3),!0,!0):[]},An.dropWhile=function(t,e){return t&&t.length?Jr(t,Wi(e,3),!0):[]},An.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},An.filter=function(t,e){return(Ds(t)?ae:rr)(t,Wi(e,3))},An.flatMap=function(t,e){return ir(fs(t,e),1)},An.flatMapDeep=function(t,e){return ir(fs(t,e),1/0)},An.flatMapDepth=function(t,e,n){return n=void 0===n?1:ra(n),ir(fs(t,e),n)},An.flatten=Ro,An.flattenDeep=function(t){return null!=t&&t.length?ir(t,1/0):[]},An.flattenDepth=function(t,e){return null!=t&&t.length?ir(t,e=void 0===e?1:ra(e)):[]},An.flip=function(t){return ji(t,512)},An.flow=za,An.flowRight=Ga,An.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},An.functions=function(t){return null==t?[]:cr(t,wa(t))},An.functionsIn=function(t){return null==t?[]:cr(t,_a(t))},An.groupBy=cs,An.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},An.intersection=Mo,An.intersectionBy=jo,An.intersectionWith=Vo,An.invert=ma,An.invertBy=ya,An.invokeMap=ls,An.iteratee=Ka,An.keyBy=hs,An.keys=wa,An.keysIn=_a,An.map=fs,An.mapKeys=function(t,e){var n={};return e=Wi(e,3),ar(t,function(t,r,i){$n(n,e(t,r,i),t)}),n},An.mapValues=function(t,e){var n={};return e=Wi(e,3),ar(t,function(t,r,i){$n(n,r,e(t,r,i))}),n},An.matches=function(t){return Cr(Qn(t,1))},An.matchesProperty=function(t,e){return Ar(t,Qn(e,1))},An.memoize=Is,An.merge=Ea,An.mergeWith=Ia,An.method=Wa,An.methodOf=Qa,An.mixin=Ya,An.negate=Ss,An.nthArg=function(t){return t=ra(t),Mr(function(e){return xr(e,t)})},An.omit=Sa,An.omitBy=function(t,e){return Ca(t,Ss(Wi(e)))},An.once=function(t){return ms(2,t)},An.orderBy=function(t,e,n,r){return null==t?[]:(Ds(e)||(e=null==e?[]:[e]),Ds(n=r?void 0:n)||(n=null==n?[]:[n]),Or(t,e,n))},An.over=Za,An.overArgs=Ts,An.overEvery=Ja,An.overSome=tu,An.partial=Cs,An.partialRight=As,An.partition=ds,An.pick=Ta,An.pickBy=Ca,An.property=eu,An.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},An.pull=Uo,An.pullAll=qo,An.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,Wi(n,2)):t},An.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,void 0,n):t},An.pullAt=Bo,An.range=nu,An.rangeRight=ru,An.rearg=ks,An.reject=function(t,e){return(Ds(t)?ae:rr)(t,Ss(Wi(e,3)))},An.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Wi(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Dr(t,i),n},An.rest=function(t,e){if("function"!=typeof t)throw new yt(i);return Mr(t,e=void 0===e?e:ra(e))},An.reverse=Ho,An.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ra(e),(Ds(t)?Fn:Vr)(t,e)},An.set=function(t,e,n){return null==t?t:Fr(t,e,n)},An.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Fr(t,e,n,r)},An.shuffle=function(t){return(Ds(t)?Un:Br)(t)},An.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=r):(e=null==e?0:ra(e),n=void 0===n?r:ra(n)),Hr(t,e,n)):[]},An.sortBy=ps,An.sortedUniq=function(t){return t&&t.length?Kr(t):[]},An.sortedUniqBy=function(t,e){return t&&t.length?Kr(t,Wi(e,2)):[]},An.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=aa(t))&&("string"==typeof e||null!=e&&!Ws(e))&&!(e=Qr(e))&&Me(t)?ai(He(t),0,n):t.split(e,n):[]},An.spread=function(t,e){if("function"!=typeof t)throw new yt(i);return e=null==e?0:on(ra(e),0),Mr(function(n){var r=n[e],i=ai(n,0,e);return r&&he(i,r),ne(t,this,i)})},An.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},An.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ra(e))<0?0:e):[]},An.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e,r):[]},An.takeRightWhile=function(t,e){return t&&t.length?Jr(t,Wi(e,3),!1,!0):[]},An.takeWhile=function(t,e){return t&&t.length?Jr(t,Wi(e,3)):[]},An.tap=function(t,e){return e(t),t},An.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new yt(i);return Hs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ws(t,e,{leading:r,maxWait:e,trailing:o})},An.thru=ns,An.toArray=ea,An.toPairs=Aa,An.toPairsIn=ka,An.toPath=function(t){return Ds(t)?le(t,Co):Xs(t)?[t]:gi(To(aa(t)))},An.toPlainObject=sa,An.transform=function(t,e,n){var r=Ds(t),i=r||js(t)||Zs(t);if(e=Wi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Hs(t)&&Us(o)?kn(Gt(t)):{}}return(i?ie:ar)(t,function(t,r,i){return e(n,t,r,i)}),n},An.unary=function(t){return vs(t,1)},An.union=zo,An.unionBy=Go,An.unionWith=$o,An.uniq=function(t){return t&&t.length?Yr(t):[]},An.uniqBy=function(t,e){return t&&t.length?Yr(t,Wi(e,2)):[]},An.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Yr(t,void 0,e):[]},An.unset=function(t,e){return null==t||Xr(t,e)},An.unzip=Ko,An.unzipWith=Wo,An.update=function(t,e,n){return null==t?t:Zr(t,e,ii(n))},An.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Zr(t,e,ii(n),r)},An.values=xa,An.valuesIn=function(t){return null==t?[]:ke(t,_a(t))},An.without=Qo,An.words=Ua,An.wrap=function(t,e){return Cs(ii(e),t)},An.xor=Yo,An.xorBy=Xo,An.xorWith=Zo,An.zip=Jo,An.zipObject=function(t,e){return ni(t||[],e||[],Bn)},An.zipObjectDeep=function(t,e){return ni(t||[],e||[],Fr)},An.zipWith=ts,An.entries=Aa,An.entriesIn=ka,An.extend=ca,An.extendWith=la,Ya(An,An),An.add=au,An.attempt=qa,An.camelCase=Oa,An.capitalize=Na,An.ceil=uu,An.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==e&&(e=(e=oa(e))==e?e:0),Wn(oa(t),e,n)},An.clone=function(t){return Qn(t,4)},An.cloneDeep=function(t){return Qn(t,5)},An.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},An.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},An.conformsTo=function(t,e){return null==e||Yn(t,e,wa(e))},An.deburr=Pa,An.defaultTo=function(t,e){return null==t||t!=t?e:t},An.divide=cu,An.endsWith=function(t,e,n){t=aa(t),e=Qr(e);var r=t.length,i=n=void 0===n?r:Wn(ra(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},An.eq=xs,An.escape=function(t){return(t=aa(t))&&V.test(t)?t.replace(M,Re):t},An.escapeRegExp=function(t){return(t=aa(t))&&$.test(t)?t.replace(G,"\\$&"):t},An.every=function(t,e,n){var r=Ds(t)?se:er;return n&&oo(t,e,n)&&(e=void 0),r(t,Wi(e,3))},An.find=os,An.findIndex=Po,An.findKey=function(t,e){return ve(t,Wi(e,3),ar)},An.findLast=ss,An.findLastIndex=Do,An.findLastKey=function(t,e){return ve(t,Wi(e,3),ur)},An.floor=lu,An.forEach=as,An.forEachRight=us,An.forIn=function(t,e){return null==t?t:or(t,Wi(e,3),_a)},An.forInRight=function(t,e){return null==t?t:sr(t,Wi(e,3),_a)},An.forOwn=function(t,e){return t&&ar(t,Wi(e,3))},An.forOwnRight=function(t,e){return t&&ur(t,Wi(e,3))},An.get=ga,An.gt=Os,An.gte=Ns,An.has=function(t,e){return null!=t&&eo(t,e,pr)},An.hasIn=va,An.head=Lo,An.identity=$a,An.includes=function(t,e,n,r){t=Ls(t)?t:xa(t),n=n&&!r?ra(n):0;var i=t.length;return n<0&&(n=on(i+n,0)),Ys(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ye(t,e,n)>-1},An.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),ye(t,e,i)},An.inRange=function(t,e,n){return e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n){return t>=sn(e,n)&&t<on(e,n)}(t=oa(t),e,n)},An.invoke=ba,An.isArguments=Ps,An.isArray=Ds,An.isArrayBuffer=Rs,An.isArrayLike=Ls,An.isArrayLikeObject=Ms,An.isBoolean=function(t){return!0===t||!1===t||zs(t)&&fr(t)==c},An.isBuffer=js,An.isDate=Vs,An.isElement=function(t){return zs(t)&&1===t.nodeType&&!Ks(t)},An.isEmpty=function(t){if(null==t)return!0;if(Ls(t)&&(Ds(t)||"string"==typeof t||"function"==typeof t.splice||js(t)||Zs(t)||Ps(t)))return!t.length;var e=to(t);if(e==p||e==y)return!t.size;if(co(t))return!Ir(t).length;for(var n in t)if(It.call(t,n))return!1;return!0},An.isEqual=function(t,e){return br(t,e)},An.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},An.isError=Fs,An.isFinite=function(t){return"number"==typeof t&&en(t)},An.isFunction=Us,An.isInteger=qs,An.isLength=Bs,An.isMap=Gs,An.isMatch=function(t,e){return t===e||wr(t,e,Yi(e))},An.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Yi(e),n)},An.isNaN=function(t){return $s(t)&&t!=+t},An.isNative=function(t){if(uo(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _r(t)},An.isNil=function(t){return null==t},An.isNull=function(t){return null===t},An.isNumber=$s,An.isObject=Hs,An.isObjectLike=zs,An.isPlainObject=Ks,An.isRegExp=Ws,An.isSafeInteger=function(t){return qs(t)&&t>=-9007199254740991&&t<=9007199254740991},An.isSet=Qs,An.isString=Ys,An.isSymbol=Xs,An.isTypedArray=Zs,An.isUndefined=function(t){return void 0===t},An.isWeakMap=function(t){return zs(t)&&to(t)==_},An.isWeakSet=function(t){return zs(t)&&"[object WeakSet]"==fr(t)},An.join=function(t,e){return null==t?"":nn.call(t,e)},An.kebabCase=Da,An.last=Fo,An.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?on(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):me(t,we,i,!0)},An.lowerCase=Ra,An.lowerFirst=La,An.lt=Js,An.lte=ta,An.max=function(t){return t&&t.length?nr(t,$a,dr):void 0},An.maxBy=function(t,e){return t&&t.length?nr(t,Wi(e,2),dr):void 0},An.mean=function(t){return _e(t,$a)},An.meanBy=function(t,e){return _e(t,Wi(e,2))},An.min=function(t){return t&&t.length?nr(t,$a,Sr):void 0},An.minBy=function(t,e){return t&&t.length?nr(t,Wi(e,2),Sr):void 0},An.stubArray=iu,An.stubFalse=ou,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=hu,An.nth=function(t,e){return t&&t.length?xr(t,ra(e)):void 0},An.noConflict=function(){return zt._===this&&(zt._=kt),this},An.noop=Xa,An.now=gs,An.pad=function(t,e,n){t=aa(t);var r=(e=ra(e))?Be(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Oi(Ze(i),n)+t+Oi(Xe(i),n)},An.padEnd=function(t,e,n){t=aa(t);var r=(e=ra(e))?Be(t):0;return e&&r<e?t+Oi(e-r,n):t},An.padStart=function(t,e,n){t=aa(t);var r=(e=ra(e))?Be(t):0;return e&&r<e?Oi(e-r,n)+t:t},An.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(aa(t).replace(W,""),e||0)},An.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=na(t),void 0===e?(e=t,t=0):e=na(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return sn(t+i*(e-t+Ut("1e-"+((i+"").length-1))),e)}return Rr(t,e)},An.reduce=function(t,e,n){var r=Ds(t)?fe:Se,i=arguments.length<3;return r(t,Wi(e,4),n,i,Jn)},An.reduceRight=function(t,e,n){var r=Ds(t)?de:Se,i=arguments.length<3;return r(t,Wi(e,4),n,i,tr)},An.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ra(e),Lr(aa(t),e)},An.replace=function(){var t=arguments,e=aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},An.result=function(t,e,n){var r=-1,i=(e=oi(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Co(e[r])];void 0===o&&(r=i,o=n),t=Us(o)?o.call(t):o}return t},An.round=fu,An.runInContext=t,An.sample=function(t){return(Ds(t)?Vn:jr)(t)},An.size=function(t){if(null==t)return 0;if(Ls(t))return Ys(t)?Be(t):t.length;var e=to(t);return e==p||e==y?t.size:Ir(t).length},An.snakeCase=Ma,An.some=function(t,e,n){var r=Ds(t)?pe:zr;return n&&oo(t,e,n)&&(e=void 0),r(t,Wi(e,3))},An.sortedIndex=function(t,e){return Gr(t,e)},An.sortedIndexBy=function(t,e,n){return $r(t,e,Wi(n,2))},An.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Gr(t,e);if(r<n&&xs(t[r],e))return r}return-1},An.sortedLastIndex=function(t,e){return Gr(t,e,!0)},An.sortedLastIndexBy=function(t,e,n){return $r(t,e,Wi(n,2),!0)},An.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Gr(t,e,!0)-1;if(xs(t[n],e))return n}return-1},An.startCase=ja,An.startsWith=function(t,e,n){return t=aa(t),n=null==n?0:Wn(ra(n),0,t.length),e=Qr(e),t.slice(n,n+e.length)==e},An.subtract=du,An.sum=function(t){return t&&t.length?Te(t,$a):0},An.sumBy=function(t,e){return t&&t.length?Te(t,Wi(e,2)):0},An.template=function(t,e,n){var r=An.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=aa(t),e=la({},e,r,Vi);var i,o,s=la({},e.imports,r.imports,Vi),a=wa(s),u=ke(s,a),c=0,l=e.interpolate||ct,h="__p += '",f=vt((e.escape||ct).source+"|"+l.source+"|"+(l===q?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mt+"]")+"\n";t.replace(f,function(e,n,r,s,a,u){return r||(r=s),h+=t.slice(c,u).replace(lt,Le),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var p=It.call(e,"variable")&&e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(P,""):h).replace(D,"$1").replace(R,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=qa(function(){return dt(a,d+"return "+h).apply(void 0,u)});if(g.source=h,Fs(g))throw g;return g},An.times=function(t,e){if((t=ra(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ce(r,e=Wi(e));++n<t;)e(n);return i},An.toFinite=na,An.toInteger=ra,An.toLength=ia,An.toLower=function(t){return aa(t).toLowerCase()},An.toNumber=oa,An.toSafeInteger=function(t){return t?Wn(ra(t),-9007199254740991,9007199254740991):0===t?t:0},An.toString=aa,An.toUpper=function(t){return aa(t).toUpperCase()},An.trim=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Qr(e)))return t;var r=He(t),i=He(e);return ai(r,Oe(r,i),Ne(r,i)+1).join("")},An.trimEnd=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(Q,"");if(!t||!(e=Qr(e)))return t;var r=He(t);return ai(r,0,Ne(r,He(e))+1).join("")},An.trimStart=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Qr(e)))return t;var r=He(t);return ai(r,Oe(r,He(e))).join("")},An.truncate=function(t,e){var n=30,r="...";if(Hs(e)){var i="separator"in e?e.separator:i;n="length"in e?ra(e.length):n,r="omission"in e?Qr(e.omission):r}var o=(t=aa(t)).length;if(Me(t)){var s=He(t);o=s.length}if(n>=o)return t;var a=n-Be(r);if(a<1)return r;var u=s?ai(s,0,a).join(""):t.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),Ws(i)){if(t.slice(a).search(i)){var c,l=u;for(i.global||(i=vt(i.source,aa(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?a:h)}}else if(t.indexOf(Qr(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},An.unescape=function(t){return(t=aa(t))&&j.test(t)?t.replace(L,ze):t},An.uniqueId=function(t){var e=++St;return aa(t)+e},An.upperCase=Va,An.upperFirst=Fa,An.each=as,An.eachRight=us,An.first=Lo,Ya(An,(su={},ar(An,function(t,e){It.call(An.prototype,e)||(su[e]=t)}),su),{chain:!1}),An.VERSION="4.17.20",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){An[t].placeholder=An}),ie(["drop","take"],function(t,e){Nn.prototype[t]=function(n){n=void 0===n?1:on(ra(n),0);var r=this.__filtered__&&!e?new Nn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Nn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ie(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Nn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Wi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),ie(["head","last"],function(t,e){var n="take"+(e?"Right":"");Nn.prototype[t]=function(){return this[n](1).value()[0]}}),ie(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Nn.prototype[t]=function(){return this.__filtered__?new Nn(this):this[n](1)}}),Nn.prototype.compact=function(){return this.filter($a)},Nn.prototype.find=function(t){return this.filter(t).head()},Nn.prototype.findLast=function(t){return this.reverse().find(t)},Nn.prototype.invokeMap=Mr(function(t,e){return"function"==typeof t?new Nn(this):this.map(function(n){return mr(n,t,e)})}),Nn.prototype.reject=function(t){return this.filter(Ss(Wi(t)))},Nn.prototype.slice=function(t,e){t=ra(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Nn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ra(e))<0?n.dropRight(-e):n.take(e-t)),n)},Nn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Nn.prototype.toArray=function(){return this.take(4294967295)},ar(Nn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=An[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(An.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof Nn,u=s[0],c=a||Ds(e),l=function(t){var e=i.apply(An,he([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=a&&!f;if(!o&&c){e=p?e:new Nn(this);var g=t.apply(e,s);return g.__actions__.push({func:ns,args:[l],thisArg:void 0}),new On(g,h)}return d&&p?t.apply(this,s):(g=this.thru(l),d?r?g.value()[0]:g.value():g)})}),ie(["pop","push","shift","sort","splice","unshift"],function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);An.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ds(i)?i:[],t)}return this[n](function(n){return e.apply(Ds(n)?n:[],t)})}}),ar(Nn.prototype,function(t,e){var n=An[e];if(n){var r=n.name+"";It.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}}),yn[Ci(void 0,2).name]=[{name:"wrapper",func:void 0}],Nn.prototype.clone=function(){var t=new Nn(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Nn.prototype.reverse=function(){if(this.__filtered__){var t=new Nn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Nn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ds(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=sn(e,t+s);break;case"takeRight":t=on(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=sn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ti(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[c+=e];++g<h;){var m=l[g],y=m.type,b=(0,m.iteratee)(v);if(2==y)v=b;else if(!b){if(1==y)continue t;break t}}p[f++]=v}return p},An.prototype.at=rs,An.prototype.chain=function(){return es(this)},An.prototype.commit=function(){return new On(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(t){for(var e,n=this;n instanceof xn;){var r=ko(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},An.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Nn){var e=t;return this.__actions__.length&&(e=new Nn(this)),(e=e.reverse()).__actions__.push({func:ns,args:[Ho],thisArg:void 0}),new On(e,this.__chain__)}return this.thru(Ho)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,Ie&&(An.prototype[Ie]=function(){return this}),An}();zt._=Ge,void 0===(r=(function(){return Ge}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(QP){e=QP instanceof l?f(QP.errors):[QP]}}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(QP){e=e||[],QP instanceof l?e=e.concat(f(QP.errors)):e.push(QP)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?m:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function T(t){return t&&"function"==typeof t.schedule}function C(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new k(t,this.project,this.thisArg))}}class k extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const x=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=O(),P=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[v])return r=t,t=>{const e=r[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(P(t))return x(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[N])return e=t,t=>{const n=e[N]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function L(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function M(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(P(t))return L(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[N](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(R(t))}class j extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function F(t,e){if(!e.closed)return t instanceof y?t.subscribe(e):R(t)(e)}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>M(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends V{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new j(this),n=this.destination;n.add(e);const r=F(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return U(m,t)}function z(t,e){return e?L(t,e):new y(x(t))}function G(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class W extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=W.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new Z(r,e));const i=Object.create(n,Q);return i.source=n,i.subjectFactory=r,i}}class Z{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}function J(){return new I}function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function et(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function rt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const it=tt({__forward_ref__:tt});function ot(t){return t.__forward_ref__=ot,t.toString=function(){return nt(this())},t}function st(t){return at(t)?t():t}function at(t){return"function"==typeof t&&t.hasOwnProperty(it)&&t.__forward_ref__===ot}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,dt)||ht(t,gt)}function ht(t,e){return t.hasOwnProperty(e)?t[e]:null}function ft(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(vt))?t[pt]:null}const dt=tt({"\u0275prov":tt}),pt=tt({"\u0275inj":tt}),gt=tt({ngInjectableDef:tt}),vt=tt({ngInjectorDef:tt});var mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let yt;function bt(t){const e=yt;return yt=t,e}function wt(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&mt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${nt(t)}]`)}function _t(t){return{toString:t}.toString()}var Et=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const St="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,kt=St||At||Tt||Ct,xt={},Ot=[],Nt=tt({"\u0275cmp":tt}),Pt=tt({"\u0275dir":tt}),Dt=tt({"\u0275pipe":tt}),Rt=tt({"\u0275mod":tt}),Lt=tt({"\u0275loc":tt}),Mt=tt({"\u0275fac":tt}),jt=tt({__NG_ELEMENT_ID__:tt});let Vt=0;function Ft(t){return _t(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||Ot,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Vt++,n.inputs=zt(t.inputs,e),n.outputs=zt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ut):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(qt):null,n})}function Ut(t){return Kt(t)||function(t){return t[Pt]||null}(t)}function qt(t){return function(t){return t[Dt]||null}(t)}const Bt={};function Ht(t){const e={type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&_t(()=>{Bt[t.id]=t.type}),e}function zt(t,e){if(null==t)return xt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Gt=Ft;function $t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kt(t){return t[Nt]||null}function Wt(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return n}function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Xt(t){return 0!=(8&t.flags)}function Zt(t){return 2==(2&t.flags)}function Jt(t){return 1==(1&t.flags)}function te(t){return null!==t.template}function ee(t,e){return t.hasOwnProperty(Mt)?t[Mt]:null}class ne extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}function oe(t,e){const n=e?` in ${e}`:"";throw new ne("201",`No provider for ${ie(t)} found${n}`)}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return ue}function ue(t){return t.type.prototype.ngOnChanges&&(t.setInput=le),ce}function ce(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===xt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function le(t,e,n,r){const i=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:xt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new se(u&&u.currentValue,e,s===xt),t[r]=e}function he(t){return t.__ngSimpleChanges__||null}let fe;function de(t){return!!t.listen}ae.ngInherit=!0;const pe={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return ge(e[t])}function me(t,e){return ge(e[t.index])}function ye(t,e){return t.data[e]}function be(t,e){return t[e]}function we(t,e){const n=e[t];return Qt(n)?n:n[0]}function _e(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ee(t){return 4==(4&t[2])}function Ie(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function Te(t){t[18]=0}function Ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ae={lFrame:Qe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ke(){return Ae.bindingsEnabled}function xe(){return Ae.lFrame.lView}function Oe(){return Ae.lFrame.tView}function Ne(t){Ae.lFrame.contextLView=t}function Pe(){let t=De();for(;null!==t&&64===t.type;)t=t.parent;return t}function De(){return Ae.lFrame.currentTNode}function Re(t,e){const n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function Le(){return Ae.lFrame.isParent}function Me(){Ae.lFrame.isParent=!1}function je(){return Ae.isInCheckNoChangesMode}function Ve(t){Ae.isInCheckNoChangesMode=t}function Fe(){const t=Ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ue(){return Ae.lFrame.bindingIndex++}function qe(t,e){const n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Be(e)}function Be(t){Ae.lFrame.currentDirectiveIndex=t}function He(){return Ae.lFrame.currentQueryIndex}function ze(t){Ae.lFrame.currentQueryIndex=t}function Ge(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function $e(t,e,n){if(n&mt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&mt.Host||(r=Ge(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ae.lFrame=We();return r.currentTNode=e,r.lView=t,!0}function Ke(t){const e=We(),n=t[1];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function We(){const t=Ae.lFrame,e=null===t?null:t.child;return null===e?Qe(t):e}function Qe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ye(){const t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=Ye;function Ze(){const t=Ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Je(){return Ae.lFrame.selectedIndex}function tn(t){Ae.lFrame.selectedIndex=t}function en(){const t=Ae.lFrame;return ye(t.tView,t.selectedIndex)}function nn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function rn(t,e,n){an(t,e,3,n)}function on(t,e,n,r){(3&t[2])===n&&an(t,e,n,r)}function sn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function an(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(un(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function un(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ln(t,e,n){const r=de(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];fn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function hn(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function dn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function gn(t){return-1!==t}function vn(t){return 32767&t}function mn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let yn=!0;function bn(t){const e=yn;return yn=t,e}let wn=0;function _n(t,e){const n=In(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,En(r.data,t),En(e,null),En(r.blueprint,null));const i=Sn(t,e),o=t.injectorIndex;if(gn(i)){const t=vn(i),n=mn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function En(t,e){t.push(0,0,0,0,0,0,0,0,e)}function In(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Tn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(r=n[jt]),null==r&&(r=n[jt]=wn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Cn(t,e,n){if(n&mt.Optional)return t;oe(e,"NodeInjector")}function An(t,e,n,r){if(n&mt.Optional&&void 0===r&&(r=null),0==(n&(mt.Self|mt.Host))){const i=t[9],o=bt(void 0);try{return i?i.get(e,r,n&mt.Optional):wt(e,r,n&mt.Optional)}finally{bt(o)}}return Cn(r,e,n)}function kn(t,e,n,r=mt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:On:e}(n);if("function"==typeof o){if(!$e(e,t,r))return r&mt.Host?Cn(i,n,r):An(e,n,r,i);try{const t=o();if(null!=t||r&mt.Optional)return t;oe(n)}finally{Xe()}}else if("number"==typeof o){let i=null,s=In(t,e),a=-1,u=r&mt.Host?e[16][6]:null;for((-1===s||r&mt.SkipSelf)&&(a=-1===s?Sn(t,e):e[s+8],-1!==a&&Ln(r,!1)?(i=e[1],s=vn(a),e=mn(a,e)):s=-1);-1!==s;){const t=e[1];if(Rn(o,s,t.data)){const t=Nn(s,e,n,i,r,u);if(t!==xn)return t}a=e[s+8],-1!==a&&Ln(r,e[1].data[s+8]===u)&&Rn(o,s,e)?(i=t,s=vn(a),e=mn(a,e)):s=-1}}}return An(e,n,r,i)}const xn={};function On(){return new Mn(Pe(),xe())}function Nn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Pn(a,s,n,null==r?Zt(a)&&yn:r!=s&&0!=(3&a.type),i&mt.Host&&o===a);return null!==u?Dn(e,s,u,a):xn}function Pn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&te(t)&&t.type===n)return u}return null}function Dn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof cn){const s=i;s.resolving&&function(t,e){throw new ne("200",`Circular dependency in DI detected for ${t}`)}(ie(o[n]));const a=bn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?bt(s.injectImpl):null;$e(t,r,mt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ue(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&bt(u),bn(a),s.resolving=!1,Xe()}}return i}function Rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ln(t,e){return!(t&mt.Self||t&mt.Host&&e)}class Mn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return kn(this._tNode,this._lView,t,void 0,e)}}function jn(t){const e=t;if(at(t))return()=>{const t=jn(st(e));return t?t():null};let n=ee(e);if(null===n){const t=ft(e);n=t&&t.factory}return n||null}function Vn(t){return _t(()=>{const e=t.prototype.constructor,n=e[Mt]||jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Mt]||jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Fn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(hn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Pe(),t)}function Un(t,e,n){return _t(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class qn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bn=new qn("AnalyzeForEntryComponents"),Hn=Function;function zn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),zn(r,e)):e!==t&&e.push(r)}return e}function Gn(t,e){t.forEach(t=>Array.isArray(t)?Gn(t,e):e(t))}function $n(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wn(t,e,n){let r=Yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Qn(t,e){const n=Yn(t,e);if(n>=0)return t[1|n]}function Yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Xn={},Zn=/\n/gm,Jn=tt({provide:String,useValue:tt});let tr;function er(t){const e=tr;return tr=t,e}function nr(t,e=mt.Default){if(void 0===tr)throw new Error("inject() must be called from an injection context");return null===tr?wt(t,void 0,e):tr.get(t,e&mt.Optional?null:void 0,e)}function rr(t,e=mt.Default){return(yt||nr)(st(t),e)}function ir(t){const e=[];for(let n=0;n<t.length;n++){const r=st(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=mt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(rr(t,n))}else e.push(rr(r))}return e}function or(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const sr=or(Un("Inject",t=>({token:t})),-1),ar=or(Un("Optional"),8),ur=or(Un("SkipSelf"),4);class cr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function lr(t){return t instanceof cr?t.changingThisBreaksApplicationSecurity:t}const hr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pr(t){const e=function(){const t=xe();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":function(t,e){const n=function(t){return t instanceof cr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?lr(t):(n=re(t),(n=String(n)).match(hr)||n.match(fr)?n:"unsafe:"+n);var n}function gr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class yr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gr(t)?gr(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function br(t,e){t.__ngContext__=e}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function _r(t){return{name:"document",target:t.ownerDocument}}function Er(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Sr(t,e){return(void 0)(t,e)}function Tr(t){const e=t[3];return Yt(e)?e[3]:e}function Cr(t){return kr(t[13])}function Ar(t){return kr(t[4])}function kr(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function xr(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:Qt(r)&&(s=!0,r=r[0]);const a=ge(r);0===t&&null!==n?null==i?Mr(e,n,a):Lr(e,n,a,i||null,!0):1===t&&null!==n?Lr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Vr(t,e);r&&function(t,e,n,r){de(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&xr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Hr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Or(t,e,n){return de(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ce(i,-1)),n.splice(r,1)}function Pr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Nr(o,r),e>0&&(t[n-1][4]=r[4]);const s=Kn(t,10+e);Hr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];de(n)&&n.destroyNode&&Hr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof cn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ge(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&de(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){de(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Mr(t,e,n){de(t)?t.appendChild(e,n):e.appendChild(n)}function jr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Mr(t,e,n)}function Vr(t,e){return de(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===It.None||e===It.Emulated)return null}return me(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?me(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)jr(o,i,n[a],s,!1);else jr(o,i,n,s,!1)}function Ur(t,e){if(null!==e){const n=e.type;if(3&n)return me(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ur(t,n);{const n=t[e.index];return Yt(n)?qr(-1,n):ge(n)}}if(32&n)return Sr(e,t)()||ge(t[e.index]);{const n=t[16],r=n[6],i=Tr(n),o=r.projection[e.projection];return null!=o?Ur(i,o):Ur(t,e.next)}}return null}function qr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ur(t,r)}return e[7]}function Br(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&br(ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Br(t,e,n.child,r,i,o,!1),xr(e,t,i,a,o);else if(32&u){const s=Sr(n,r);let u;for(;u=s();)xr(e,t,i,u,o);xr(e,t,i,a,o)}else 16&u?zr(t,e,r,n,i,o):xr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hr(t,e,n,r,i,o){Br(n,r,t.firstChild,e,i,o,!1)}function zr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)xr(e,t,i,a[u],o);else Br(t,e,a,s[3],i,o,!0)}function Gr(t,e,n){de(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){de(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&"ng-template"!==t.value}function Yr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(hn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Yr(t,u,n)||""===u&&1===e.length){if(Zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Zr(r))return!1;s=!0}continue}const l=Jr(8&r?"class":u,i,Qr(t),n);if(-1===l){if(Zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,c,0)||2&r&&c!==t){if(Zr(r))return!1;s=!0}}}}else{if(!s&&!Zr(r)&&!Zr(u))return!1;if(s&&Zr(u))continue;s=!1,r=u|1&r}}return Zr(r)||s}function Zr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Zr(s)||(e+=ei(o,i),i=""),r=s,o=o||!Zr(r);n++}return""!==i&&(e+=ei(o,i)),e}const ri={};function ii(t){oi(Oe(),xe(),Je()+t,je())}function oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&rn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&on(e,r,0,n)}tn(n)}function si(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function ui(t){return 2|t}function ci(t){return(131068&t)>>2}function li(t,e){return-131069&t|e<<2}function hi(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ze(i),n.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Te(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function pi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=De(),s=Le(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ae.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Re(o,!0),o}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){Ke(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ze()}}function mi(t,e,n,r){const i=e[2];if(256==(256&i))return;Ke(e);const o=je();try{Te(e),Ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&rn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&on(e,n,0,null),sn(e,0)}if(function(t){for(let e=Cr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=Cr(t);null!==e;e=Ar(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ie(n)&&mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&rn(e,n)}else{const n=t.contentHooks;null!==n&&on(e,n,1),sn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)tn(~r);else{const i=r,o=n[++t],s=n[++t];qe(o,i),s(2,e[i])}}}finally{tn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&rn(e,n)}else{const n=t.viewHooks;null!==n&&on(e,n,2),sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ce(e[3],-1))}finally{Ze()}}function yi(t,e,n,r){const i=e[10],o=!je(),s=Ee(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bi(t,e,n,r,i){const o=Je();try{tn(-1),2&r&&e.length>20&&oi(t,e,20,je()),n(r,i)}finally{tn(o)}}function wi(t,e,n){if(Xt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function _i(t,e,n){ke()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||_n(n,e),br(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=te(r);o&&Li(e,n,r);const u=Dn(e,t,a,n);br(u,e),null!==s&&Mi(0,a-i,u,r,0,s),o&&(we(n.index,e)[8]=u)}}(t,e,n,me(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ae.lFrame.currentDirectiveIndex;try{tn(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Be(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Oi(r,i)}}finally{tn(-1),Be(s)}}(t,e,n))}function Ei(t,e,n=me){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Si(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Si(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ti(t,e,n,r){const i=Wi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Qi(t).push(r,i.length-1))}function Ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,s,a){const u=me(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Xi(t,n,c,r,i),Zt(e)&&function(t,e){const n=we(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,de(o)?o.setProperty(u,r,i):fn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(ke()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ti(n,s.selectors,!1)&&(i||(i=[]),Tn(_n(n,e),t,s.type),te(s)?(Ni(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=gi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=dn(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,u,c),Pi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Qr(e)?null:ji(n,i);o.push(c),s=Ci(n,u,s),a=Ci(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ne("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=dn(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Pi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;te(e)&&(n[""]=t)}}function Di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ee(i.type)),s=new cn(o,te(i),null);t.blueprint[r]=s,n[r]=s,xi(t,e,0,r,gi(t,n,i.hostVars,ri),i)}function Li(t,e,n){const r=me(e,t),i=Ii(n),o=t[10],s=Bi(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ji(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=we(e,t);if(Ie(n)){const t=n[1];80&n[2]?mi(t,n,t.template,n[8]):n[5]>0&&Ui(n)}}function Ui(t){for(let n=Cr(t);null!==n;n=Ar(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];mi(t,e,t.template,e[8])}else e[5]>0&&Ui(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=we(e[n],t);Ie(r)&&r[5]>0&&Ui(r)}}function qi(t,e){const n=we(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{mi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function Gi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_e(n),i=r[1];yi(i,r,i.template,n)}}(t[8])}function $i(t,e,n){ze(0),e(t,n)}const Ki=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function Qi(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function Xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Zi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=rt(i,t):2==o&&(r=rt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ji=new qn("INJECTOR",-1);class to{get(t,e=Xn){if(e===Xn){const e=new Error(`NullInjectorError: No provider for ${nt(t)}!`);throw e.name="NullInjectorError",e}return e}}const eo=new qn("Set Injector scope."),no={},ro={},io=[];let oo;function so(){return void 0===oo&&(oo=new to),oo}function ao(t,e=null,n=null,r){return new uo(t,n,e||so(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Gn(e,n=>this.processProvider(n,t,e)),Gn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ji,ho(void 0,this));const o=this.records.get(eo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:nt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Xn,n=mt.Default){this.assertNotDestroyed();const r=er(this);try{if(!(n&mt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof qn)&&lt(t);e=n&&this.injectableDefInScope(n)?ho(co(t),no):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&mt.Self?so():this.parent).get(t,e=n&mt.Optional&&e===Xn?null:e)}catch(QP){if("NullInjectorError"===QP.name){if((QP.ngTempTokenPath=QP.ngTempTokenPath||[]).unshift(nt(t)),r)throw QP;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=nt(e);if(Array.isArray(e))i=e.map(nt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):nt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(QP,t,"R3InjectorError",this.source)}throw QP}finally{er(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(nt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=st(t)))return!1;let r=ft(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ft(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Gn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Gn(r,t=>this.processProvider(t,n,r||io))}}this.injectorDefTypes.add(o),this.records.set(o,ho(r.factory,no));const a=r.providers;if(null!=a&&!s){const e=t;Gn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=st(t))?t:st(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t),no)}(t);if(po(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ho(void 0,no,!0),e.factory=()=>ir(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===no&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=lt(t),n=null!==e?e.factory:ee(t);if(null!==n)return n;const r=ft(t);if(null!==r)return r.factory;if(t instanceof qn)throw new Error(`Token ${nt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${nt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[gt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r;if(po(t)){const e=st(t);return ee(e)||co(e)}if(fo(t))r=()=>st(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ir(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rr(st(t.useExisting));else{const e=st(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ee(e)||co(e);r=()=>new e(...ir(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&Jn in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Xn,t.NULL=new to,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>rr(Ji)}),t.__NG_ELEMENT_ID__=-1,t})();function mo(t,e){nn(_e(t)[1],Pe())}function yo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(te(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=bo(t.inputs),e.declaredInputs=bo(t.declaredInputs),e.outputs=bo(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&wo(t,o),s&&_o(t,s),et(t.inputs,i.inputs),et(t.declaredInputs,i.declaredInputs),et(t.outputs,i.outputs),te(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dn(i.hostAttrs,n=dn(n,i.hostAttrs))}}(r)}function bo(t){return t===xt?{}:t===Ot?[]:t}function wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function _o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Io=null;function So(){if(!Io){const t=kt.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class To{constructor(t){this.wrapped=t}static wrap(t){return new To(t)}static unwrap(t){return To.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof To}}function Co(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return t[e]=n}function xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Oo(t,e,n,r){const i=xe();return xo(i,Ue(),e)&&(Oe(),function(t,e,n,r,i,o){const s=me(t,e);!function(t,e,n,r,i,o,s){if(null==o)de(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?re(o):s(o,r||"",i);de(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(en(),i,t,e,n,r)),Oo}function No(t,e,n,r,i,o,s,a){const u=xe(),c=Oe(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=pi(e,t,4,s||null,Se(c,a));ki(e,n,l,Se(c,u)),nn(e,l);const h=l.tViews=Si(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Re(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),br(f,u),Bi(u,u[l]=Vi(f,u,f,h)),Jt(h)&&_i(c,u,h),null!=s&&Ei(u,h,a)}function Po(t){return be(Ae.lFrame.contextLView,20+t)}function Do(t,e=mt.Default){const n=xe();return null===n?rr(t,e):kn(Pe(),n,st(t),e)}function Ro(t,e,n){const r=xe();return xo(r,Ue(),e)&&Ai(Oe(),en(),r,t,e,r[11],n,!1),Ro}function Lo(t,e,n,r,i){const o=i?"class":"style";Xi(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){const i=xe(),o=Oe(),s=20+t,a=i[11],u=i[s]=Or(a,e,Ae.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=pi(e,t,2,i,Se(a,o));return ki(e,n,u,Se(a,s)),null!==u.attrs&&Zi(u,u.attrs,!1),null!==u.mergedAttrs&&Zi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Re(c,!0);const l=c.mergedAttrs;null!==l&&ln(a,u,l);const h=c.classes;null!==h&&$r(a,u,h);const f=c.styles;null!==f&&Gr(a,u,f),64!=(64&c.flags)&&Fr(o,i,u,c),0===Ae.lFrame.elementDepthCount&&br(u,i),Ae.lFrame.elementDepthCount++,Jt(c)&&(_i(o,i,c),wi(o,c,i)),null!==r&&Ei(i,c)}function jo(){let t=Pe();Le()?Me():(t=t.parent,Re(t,!1));const e=t;Ae.lFrame.elementDepthCount--;const n=Oe();n.firstCreatePass&&(nn(n,t),Xt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,xe(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Mo(t,e,n,r),jo()}function Fo(t,e,n){const r=xe(),i=Oe(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Se(o,r),a=pi(e,t,8,"ng-container",s);return null!==s&&Zi(a,s,!0),ki(e,n,a,Se(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Re(s,!0);const a=r[o]=r[11].createComment("");Fr(i,r,a,s),br(a,r),Jt(s)&&(_i(i,r,s),wi(i,s,r)),null!=n&&Ei(r,s)}function Uo(){let t=Pe();const e=Oe();Le()?Me():(t=t.parent,Re(t,!1)),e.firstCreatePass&&(nn(e,t),Xt(t)&&e.queries.elementEnd(t))}function qo(){return xe()}function Bo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}const zo=Ho;function Go(t,e,n=!1,r){const i=xe(),o=Oe(),s=Pe();return function(t,e,n,r,i,o,s=!1,a){const u=Jt(r),c=t.firstCreatePass&&Qi(t),l=Wi(e);let h=!0;if(3&r.type){const f=me(r,e),d=a?a(f):xt,p=d.target||f,g=l.length,v=a?t=>a(ge(t[r.index])).target:r.index;if(de(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ko(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Ko(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Ko(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Go}function $o(t,e,n){try{return!1!==e(n)}catch(r){return Yi(t,r),!1}}function Ko(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?we(t.index,e):e;0==(32&e[2])&&Hi(s);let a=$o(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=$o(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Wo(t=1){return function(t){return(Ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ae.lFrame.contextLView))[8]}(t)}const Qo=[];function Yo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ai(o):ci(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Xo(t[a],e)&&(u=!0,t[a+1]=r?hi(n):ui(n)),a=r?ai(n):ci(n)}u&&(t[n+1]=r?ui(o):hi(o))}function Xo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Yn(t,e)>=0}function Zo(t,e){return function(t,e,n,r){const i=xe(),o=Oe(),s=function(t){const e=Ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[Je()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ts(n=Jo(null,t,e,n,true),e.attrs,true),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Jo(i,t,e,n,true),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ci(r))return t[ai(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Jo(null,t,e,n[1],true),n=ts(n,e.attrs,true),function(t,e,n,r){t[ai(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ts(r,t[o].hostAttrs,true);return ts(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=ai(s),u=ci(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Yn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ai(t[a+1]);t[r+1]=si(e,a),0!==e&&(t[e+1]=li(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=si(a,0),0!==a&&(t[a+1]=li(t[a+1],r)),a=r;else t[r+1]=si(u,0),0===a?a=r:t[u+1]=li(t[u+1],r),u=r;l&&(t[r+1]=ui(t[r+1])),Yo(t,c,r,!0),Yo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Yn(o,e)>=0&&(n[r+1]=hi(n[r+1]))}(e,c,t,r),s=si(a,u),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==ri&&xo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ns(1==(1&c)?es(u,e,n,i,ci(c),true):void 0)||(ns(o)||function(t){return 2==(2&t)}(c)&&(o=es(u,null,n,i,a,true)),function(t,e,n,r,i){const o=de(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ve(Je(),n),i,o))}(o,o.data[Je()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=nt(lr(t))),t}(e),0,s)}(t,e),Zo}function Jo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ts(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ts(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wn(t,s,!!n||e[++o]))}return void 0===t?null:t}function es(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ri&&(l=c?Qo:void 0);let h=c?Qn(l,r):u===r?l:void 0;if(o&&!ns(h)&&(h=Qn(e,r)),ns(h)&&(a=h,s))return a;const f=t[i+1];i=s?ai(f):ci(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Qn(t,r))}return a}function ns(t){return void 0!==t}function rs(t,e=""){const n=xe(),r=Oe(),i=t+20,o=r.firstCreatePass?pi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return de(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,s,o),Re(o,!1)}function is(t){return os("",t,""),is}function os(t,e,n){const r=xe(),i=function(t,e,n,r){return xo(t,Ue(),n)?e+re(n)+r:ri}(r,t,e,n);return i!==ri&&function(t,e,n){const r=ve(e,t);!function(t,e,n){de(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Je(),i),os}function ss(t,e,n){const r=xe();return xo(r,Ue(),e)&&Ai(Oe(),en(),r,t,e,r[11],n,!0),ss}var as=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let us={};function cs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ls(e);if(n)return n;const r=e.split("-")[0];if(n=ls(r),n)return n;if("en"===r)return as;throw new Error(`Missing locale data for the locale "${t}".`)}function ls(t){return t in us||(us[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),us[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let fs="en-US";function ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function ps(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)ps(t[o],e,n,r,i);else{const o=Oe(),s=xe();let a=po(t)?t:st(t.provide),u=lo(t);const c=Pe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(po(t)||!t.multi){const r=new cn(u,i,Do),d=ms(a,e,i?l:l+f,h);-1===d?(Tn(_n(c,s),o,a),gs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ms(a,e,l+f,h),p=ms(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){Tn(_n(c,s),o,a);const l=function(t,e,n,r,i){const o=new cn(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?bs:ys,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),gs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else gs(o,t,d>-1?d:p,vs(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function gs(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ys(t,e,n,r){return ws(this.multi,[])}function bs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Dn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ws(i,o);return o}function ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Oe();if(r.firstCreatePass){const i=te(t);ps(n,r.data,r.blueprint,i,!0),ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Es{}class Is{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${nt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ss=(()=>{class t{}return t.NULL=new Is,t})();function Ts(...t){}function Cs(t,e){return new ks(me(t,e))}const As=function(){return Cs(Pe(),xe())};let ks=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=As,t})();function xs(t){return t instanceof ks?t.nativeElement:t}class Os{}let Ns=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=xe(),e=we(Pe().index,t);return function(t){return t[11]}(Qt(e)?e:t)};let Ds=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class Rs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ls=new Rs("11.1.1");class Ms{constructor(){}supports(t){return Co(t)}create(t){return new Vs(t)}}const js=(t,e)=>e;class Vs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||js}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Bs(n,r,i)?e:n,s=Bs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Co(t))throw new Error(`Error trying to diff '${nt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hs{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new zs}}class zs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${nt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $s(){return new Ks([new Ms])}let Ks=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$s()),deps:[[t,new ur,new ar]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:$s}),t})();function Ws(){return new Qs([new Hs])}let Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ws()),deps:[[t,new ur,new ar]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:Ws}),t})();function Ys(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),Yt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ys(e[1],e,n,r)}const s=n.type;if(8&s)Ys(t,e,n.child,r);else if(32&s){const t=Sr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Tr(t);Ys(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Xs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ys(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Pr(t,n),Kn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ti(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ve(!0);try{zi(t,e,n)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Hr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Zs extends Xs{constructor(t){super(t),this._view=t}detectChanges(){Gi(this._view)}checkNoChanges(){!function(t){Ve(!0);try{Gi(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}const Js=ea;let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Js,t.__ChangeDetectorRef__=!0,t})();function ea(t=!1){return function(t,e,n){if(!n&&Zt(t)){const n=we(t.index,e);return new Xs(n,n)}return 47&t.type?new Xs(e[16],e):null}(Pe(),xe(),t)}const na=[new Hs],ra=new Ks([new Ms]),ia=new Qs(na),oa=function(){return ca(Pe(),xe())};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oa,t})();const aa=sa,ua=class extends aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new Xs(n)}};function ca(t,e){return 4&t.type?new ua(e,t,Cs(t,e)):null}class la{}class ha{}const fa=function(){return ya(Pe(),xe())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const pa=da,ga=class extends pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Sn(this._hostTNode,this._hostLView);if(gn(t)){const e=mn(t,this._hostLView),n=vn(t);return new Mn(e[1].data[n+8],e)}return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(la,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],$n(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=qr(i,o),a=n[11],u=Vr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Hr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),$n(ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);n&&(Kn(ma(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);return n&&null!=Kn(ma(this._lContainer),e)?new Xs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function va(t){return t[8]}function ma(t){return t[8]||(t[8]=[])}function ya(t,e){let n;const r=e[t.index];if(Yt(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=me(t,e);Lr(n,Vr(n,r),i,function(t,e){return de(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Vi(r,e,i,t),Bi(e,n)}return new ga(n,t,e)}const ba={};class wa extends Ss{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kt(t);return new Ia(e,this.ngModule)}}function _a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ea=new qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class Ia extends Es{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _a(this.componentDef.inputs)}get outputs(){return _a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ba,i);return o!==ba||r===ba?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Os,pe),s=i.get(Ds,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(de(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Ki,playerHandler:null,flags:0},f=Si(0,null,null,1,0,null,null,null,null,null),d=di(null,f,h,l,null,null,o,a,s,i);let p,g;Ke(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=pi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Zi(a,u,!0),null!==t&&(ln(i,t,u),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=di(n,Ii(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Tn(_n(a,n),s,e.type),Ni(s,a),Di(a,n.length,1)),Bi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)ln(a,c,["ng-version",Ls.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ln(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(g=ye(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,gi(t,e,1,null),n));const i=Dn(e,t,r.directiveStart,r);br(i,e);const o=me(r,e);return o&&br(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Pe();e.contentQueries(1,s,t.directiveStart)}const a=Pe();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(tn(a.index),xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Oi(e,s)),s}(t,this.componentDef,d,h,[mo]),vi(f,d,null)}finally{Ze()}return new Sa(this.componentType,p,Cs(g,d),d,g)}}class Sa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Zs(r),this.componentType=t}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ta=new Map;class Ca extends la{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wa(this);const n=Wt(t),r=t[Lt]||null;r&&ds(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ao(t,e,[{provide:la,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],nt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=mt.Default){return t===vo||t===la||t===Ji?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Aa extends ha{constructor(t){super(),this.moduleType=t,null!==Wt(t)&&function(t){const e=new Set;!function t(n){const r=Wt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${nt(e)} vs ${nt(e.name)}`)}(i,Ta.get(i),n),Ta.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ca(this.moduleType,t)}}function ka(t,e,n,r){return Na(xe(),Fe(),t,e,n,r)}function xa(t,e,n,r,i){return Pa(xe(),Fe(),t,e,n,r,i)}function Oa(t,e){const n=t[e];return n===ri?void 0:n}function Na(t,e,n,r,i,o){const s=e+n;return xo(t,s,i)?ko(t,s+1,o?r.call(o,i):r(i)):Oa(t,s+1)}function Pa(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=xo(t,e,n);return xo(t,e+1,r)||i}(t,a,i,o)?ko(t,a+2,s?r.call(s,i,o):r(i,o)):Oa(t,a+2)}function Da(t,e){const n=Oe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ne("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ee(r.type)),s=bt(Do);try{const t=bn(!1),e=o();return bn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,xe(),i,e),e}finally{bt(s)}}function Ra(t,e,n){const r=t+20,i=xe(),o=be(i,r);return Ma(i,La(i,r)?Na(i,Fe(),e,o.transform,n,o):o.transform(n))}function La(t,e){return t[1].data[e].pure}function Ma(t,e){return To.isWrapped(e)&&(e=To.unwrap(e),t[Ae.lFrame.bindingIndex]=ri),e}const ja=class extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function Va(){return this._results[So()]()}class Fa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=So(),n=Fa.prototype;n[e]||(n[e]=Va)}get changes(){return this._changes||(this._changes=new ja)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=zn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ua{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ua(this.queryList)}setDirty(){this.queryList.setDirty()}}class qa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new qa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==eu(t,e).matches&&this.queries[e].setDirty()}}class Ba{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ha{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ha(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class za{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new za(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ga(e,i)),this.matchTNodeWithReadOption(t,e,Pn(e,t,i,!1,!1))}else n===sa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ks||r===da||r===sa&&4&e.type)this.addMatch(e.index,-2);else{const n=Pn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ga(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $a(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Cs(t,e):4&t.type?ca(t,e):null}(e,t):-2===n?function(t,e,n){return n===ks?Cs(e,t):n===sa?ca(e,t):n===da?ya(e,t):void 0}(t,e,r):Dn(t,t[1],n,e)}function Ka(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:$a(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Wa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ka(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Wa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Wa(n[1],n,i,r)}}}}}return r}function Qa(t){const e=xe(),n=Oe(),r=He();ze(r+1);const i=eu(n,r);if(t.dirty&&Ee(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Wa(n,e,r,[]):Ka(n,e,i,r);t.reset(o,xs),t.notifyOnChanges()}return!0}return!1}function Ya(t,e,n){const r=Oe();r.firstCreatePass&&(tu(r,new Ba(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ja(r,xe(),e)}function Xa(t,e,n,r){const i=Oe();if(i.firstCreatePass){const o=Pe();tu(i,new Ba(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Ja(i,xe(),n)}function Za(){return t=xe(),e=He(),t[19].queries[e].queryList;var t,e}function Ja(t,e,n){const r=new Fa(4==(4&n));Ti(t,e,r,r.destroy),null===e[19]&&(e[19]=new qa),e[19].queries.push(new Ua(r))}function tu(t,e,n){null===t.queries&&(t.queries=new Ha),t.queries.track(new za(e,n))}function eu(t,e){return t.queries.getByIndex(e)}const nu=new qn("Application Initializer");let ru=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ts,this.reject=Ts,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Bo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rr(nu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const iu=new qn("AppId"),ou={provide:iu,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new qn("Platform Initializer"),uu=new qn("Platform ID"),cu=new qn("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const hu=new qn("LocaleId"),fu=new qn("DefaultCurrencyCode");class du{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new Aa(t)},gu=pu,vu=function(t){return Promise.resolve(pu(t))},mu=function(t){const e=pu(t),n=Er(Wt(t).declarations).reduce((t,e)=>{const n=Kt(e);return n&&t.push(new Ia(n)),t},[]);return new du(e,n)},yu=mu,bu=function(t){return Promise.resolve(mu(t))};let wu=(()=>{class t{constructor(){this.compileModuleSync=gu,this.compileModuleAsync=vu,this.compileModuleAndAllComponentsSync=yu,this.compileModuleAndAllComponentsAsync=bu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const _u=(()=>Promise.resolve(0))();function Eu(t){"undefined"==typeof Zone?_u.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=kt.requestAnimationFrame,e=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cu(t),Tu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Au(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ku(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Au(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ku(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Cu(t),Tu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Su,Ts,Ts);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Su={};function Tu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Au(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ku(t){t._nesting--,Tu(t)}class xu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ou=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),Eu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rr(Iu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t{constructor(){this._applications=new Map,Ru.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ru.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Pu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Du,Ru=new Pu,Lu=!0,Mu=!1;function ju(){return Mu=!0,Lu}const Vu=new qn("AllowMultipleToken");class Fu{constructor(t,e){this.name=t,this.token=e}}function Uu(t,e,n=[]){const r=`Platform: ${e}`,i=new qn(r);return(e=[])=>{let o=qu();if(!o||o.injector.get(Vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(Vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(Bu);const e=t.get(au,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=qu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function qu(){return Du&&!Du.destroyed?Du:null}let Bu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new xu:("zone.js"===t?void 0:t)||new Iu({enableLongStackTrace:ju(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Iu,useValue:n}];return n.run(()=>{const e=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(yr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Gu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Bo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(QP){throw e.runOutsideAngular(()=>t.handleError(QP)),QP}}(o,n,()=>{const t=i.injector.get(ru);return t.runInitializers(),t.donePromise.then(()=>(ds(i.injector.get(hu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Hu({},e);return function(t,e,n){const r=new Aa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${nt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rr(vo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Hu(t,e){return Array.isArray(e)?e.reduce(Hu,t):Object.assign(Object.assign({},t),e)}let zu=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),Eu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return T(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:H(e)(z(t,n))}(s,a.pipe(t=>G()(X(J)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Es?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(la),i=n.create(vo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ou,null),a=s&&i.injector.get(Nu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Gu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),ju()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(QP){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(QP))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Gu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rr(Iu),rr(lu),rr(vo),rr(yr),rr(Ss),rr(ru))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Gu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $u{}class Ku{}const Wu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Qu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Wu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Yu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Yu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rr(wu),rr(Ku,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Yu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Xu=Uu(null,"core",[{provide:uu,useValue:"unknown"},{provide:Bu,deps:[vo]},{provide:Nu,deps:[]},{provide:lu,deps:[]}]),Zu=[{provide:zu,useClass:zu,deps:[Iu,lu,vo,yr,Ss,ru]},{provide:Ea,deps:[Iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new ar,nu]]},{provide:wu,useClass:wu,deps:[]},ou,{provide:Ks,useFactory:function(){return ra},deps:[]},{provide:Qs,useFactory:function(){return ia},deps:[]},{provide:hu,useFactory:function(t){return ds(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new sr(hu),new ar,new ur]]},{provide:fu,useValue:"USD"}];let Ju=(()=>{class t{constructor(t){}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(rr(zu))},providers:Zu}),t})(),tc=null;function ec(){return tc}const nc=new qn("DocumentToken");let rc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:ic,token:t,providedIn:"platform"}),t})();function ic(){return rr(sc)}const oc=new qn("Location Initialized");let sc=(()=>{class t extends rc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=ec().getLocation(),this._history=ec().getHistory()}getBaseHrefFromDOM(){return ec().getBaseHref(this._doc)}onPopState(t){ec().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){ec().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ac()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ac()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(rr(nc))},t.\u0275prov=ut({factory:uc,token:t,providedIn:"platform"}),t})();function ac(){return!!window.history.pushState}function uc(){return new sc(rr(nc))}function cc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function lc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function hc(t){return t&&"?"!==t[0]?"?"+t:t}let fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:dc,token:t,providedIn:"root"}),t})();function dc(t){const e=rr(nc).location;return new gc(rr(rc),e&&e.origin||"")}const pc=new qn("appBaseHref");let gc=(()=>{class t extends fc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+hc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+hc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+hc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(rr(rc),rr(pc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vc=(()=>{class t extends fc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=cc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+hc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+hc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(rr(rc),rr(pc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),mc=(()=>{class t{constructor(t,e){this._subject=new ja,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=lc(bc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+hc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,bc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(rr(fc),rr(rc))},t.normalizeQueryParams=hc,t.joinWithSlash=cc,t.stripTrailingSlash=lc,t.\u0275prov=ut({factory:yc,token:t,providedIn:"root"}),t})();function yc(){return new mc(rr(fc),rr(rc))}function bc(t){return t.replace(/\/index.html$/,"")}var wc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),_c=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Ec=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Ic=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Sc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Tc(t,e){return Oc(cs(t)[hs.DateFormat],e)}function Cc(t,e){return Oc(cs(t)[hs.TimeFormat],e)}function Ac(t,e){return Oc(cs(t)[hs.DateTimeFormat],e)}function kc(t,e){const n=cs(t),r=n[hs.NumberSymbols][e];if(void 0===r){if(e===Sc.CurrencyDecimal)return n[hs.NumberSymbols][Sc.Decimal];if(e===Sc.CurrencyGroup)return n[hs.NumberSymbols][Sc.Group]}return r}function xc(t){if(!t[hs.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[hs.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Oc(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Nc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Pc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dc={},Rc=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Mc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),jc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Vc(t,e,n,r){let i=function(t){if(Yc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Pc))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!Yc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Fc(n,e)||e;let o,s=[];for(;e;){if(o=Rc.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Qc(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Qc(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(Wc[t])return Wc[t];let e;switch(t){case"G":case"GG":case"GGG":e=Hc(jc.Eras,Ec.Abbreviated);break;case"GGGG":e=Hc(jc.Eras,Ec.Wide);break;case"GGGGG":e=Hc(jc.Eras,Ec.Narrow);break;case"y":e=Bc(Mc.FullYear,1,0,!1,!0);break;case"yy":e=Bc(Mc.FullYear,2,0,!0,!0);break;case"yyy":e=Bc(Mc.FullYear,3,0,!1,!0);break;case"yyyy":e=Bc(Mc.FullYear,4,0,!1,!0);break;case"Y":e=Kc(1);break;case"YY":e=Kc(2,!0);break;case"YYY":e=Kc(3);break;case"YYYY":e=Kc(4);break;case"M":case"L":e=Bc(Mc.Month,1,1);break;case"MM":case"LL":e=Bc(Mc.Month,2,1);break;case"MMM":e=Hc(jc.Months,Ec.Abbreviated);break;case"MMMM":e=Hc(jc.Months,Ec.Wide);break;case"MMMMM":e=Hc(jc.Months,Ec.Narrow);break;case"LLL":e=Hc(jc.Months,Ec.Abbreviated,_c.Standalone);break;case"LLLL":e=Hc(jc.Months,Ec.Wide,_c.Standalone);break;case"LLLLL":e=Hc(jc.Months,Ec.Narrow,_c.Standalone);break;case"w":e=$c(1);break;case"ww":e=$c(2);break;case"W":e=$c(1,!0);break;case"d":e=Bc(Mc.Date,1);break;case"dd":e=Bc(Mc.Date,2);break;case"E":case"EE":case"EEE":e=Hc(jc.Days,Ec.Abbreviated);break;case"EEEE":e=Hc(jc.Days,Ec.Wide);break;case"EEEEE":e=Hc(jc.Days,Ec.Narrow);break;case"EEEEEE":e=Hc(jc.Days,Ec.Short);break;case"a":case"aa":case"aaa":e=Hc(jc.DayPeriods,Ec.Abbreviated);break;case"aaaa":e=Hc(jc.DayPeriods,Ec.Wide);break;case"aaaaa":e=Hc(jc.DayPeriods,Ec.Narrow);break;case"b":case"bb":case"bbb":e=Hc(jc.DayPeriods,Ec.Abbreviated,_c.Standalone,!0);break;case"bbbb":e=Hc(jc.DayPeriods,Ec.Wide,_c.Standalone,!0);break;case"bbbbb":e=Hc(jc.DayPeriods,Ec.Narrow,_c.Standalone,!0);break;case"B":case"BB":case"BBB":e=Hc(jc.DayPeriods,Ec.Abbreviated,_c.Format,!0);break;case"BBBB":e=Hc(jc.DayPeriods,Ec.Wide,_c.Format,!0);break;case"BBBBB":e=Hc(jc.DayPeriods,Ec.Narrow,_c.Format,!0);break;case"h":e=Bc(Mc.Hours,1,-12);break;case"hh":e=Bc(Mc.Hours,2,-12);break;case"H":e=Bc(Mc.Hours,1);break;case"HH":e=Bc(Mc.Hours,2);break;case"m":e=Bc(Mc.Minutes,1);break;case"mm":e=Bc(Mc.Minutes,2);break;case"s":e=Bc(Mc.Seconds,1);break;case"ss":e=Bc(Mc.Seconds,2);break;case"S":e=Bc(Mc.FractionalSeconds,1);break;case"SS":e=Bc(Mc.FractionalSeconds,2);break;case"SSS":e=Bc(Mc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zc(Lc.Short);break;case"ZZZZZ":e=zc(Lc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zc(Lc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zc(Lc.Long);break;default:return null}return Wc[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Fc(t,e){const n=function(t){return cs(t)[hs.LocaleId]}(t);if(Dc[n]=Dc[n]||{},Dc[n][e])return Dc[n][e];let r="";switch(e){case"shortDate":r=Tc(t,Ic.Short);break;case"mediumDate":r=Tc(t,Ic.Medium);break;case"longDate":r=Tc(t,Ic.Long);break;case"fullDate":r=Tc(t,Ic.Full);break;case"shortTime":r=Cc(t,Ic.Short);break;case"mediumTime":r=Cc(t,Ic.Medium);break;case"longTime":r=Cc(t,Ic.Long);break;case"fullTime":r=Cc(t,Ic.Full);break;case"short":const e=Fc(t,"shortTime"),n=Fc(t,"shortDate");r=Uc(Ac(t,Ic.Short),[e,n]);break;case"medium":const i=Fc(t,"mediumTime"),o=Fc(t,"mediumDate");r=Uc(Ac(t,Ic.Medium),[i,o]);break;case"long":const s=Fc(t,"longTime"),a=Fc(t,"longDate");r=Uc(Ac(t,Ic.Long),[s,a]);break;case"full":const u=Fc(t,"fullTime"),c=Fc(t,"fullDate");r=Uc(Ac(t,Ic.Full),[u,c])}return r&&(Dc[n][e]=r),r}function Uc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function qc(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Bc(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Mc.FullYear:return e.getFullYear();case Mc.Month:return e.getMonth();case Mc.Date:return e.getDate();case Mc.Hours:return e.getHours();case Mc.Minutes:return e.getMinutes();case Mc.Seconds:return e.getSeconds();case Mc.FractionalSeconds:return e.getMilliseconds();case Mc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Mc.Hours)0===a&&-12===n&&(a=12);else if(t===Mc.FractionalSeconds)return u=e,qc(a,3).substr(0,u);var u;const c=kc(s,Sc.MinusSign);return qc(a,e,c,r,i)}}function Hc(t,e,n=_c.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case jc.Months:return function(t,e,n){const r=cs(t),i=Oc([r[hs.MonthsFormat],r[hs.MonthsStandalone]],e);return Oc(i,n)}(e,i,r)[t.getMonth()];case jc.Days:return function(t,e,n){const r=cs(t),i=Oc([r[hs.DaysFormat],r[hs.DaysStandalone]],e);return Oc(i,n)}(e,i,r)[t.getDay()];case jc.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=cs(t);return xc(e),(e[hs.ExtraData][2]||[]).map(t=>"string"==typeof t?Nc(t):[Nc(t[0]),Nc(t[1])])}(e),n=function(t,e,n){const r=cs(t);xc(r);const i=Oc([r[hs.ExtraData][0],r[hs.ExtraData][1]],e)||[];return Oc(i,n)||[]}(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=s>=e.hours&&a>=e.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=cs(t),i=Oc([r[hs.DayPeriodsFormat],r[hs.DayPeriodsStandalone]],e);return Oc(i,n)}(e,i,r)[s<12?0:1];case jc.Eras:return function(t,e){return Oc(cs(t)[hs.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function zc(t){return function(e,n,r){const i=-1*r,o=kc(n,Sc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Lc.Short:return(i>=0?"+":"")+qc(s,2,o)+qc(Math.abs(i%60),2,o);case Lc.ShortGMT:return"GMT"+(i>=0?"+":"")+qc(s,1,o);case Lc.Long:return"GMT"+(i>=0?"+":"")+qc(s,2,o)+":"+qc(Math.abs(i%60),2,o);case Lc.Extended:return 0===r?"Z":(i>=0?"+":"")+qc(s,2,o)+":"+qc(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Gc(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function $c(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Gc(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return qc(i,t,kc(r,Sc.MinusSign))}}function Kc(t,e=!1){return function(n,r){return qc(Gc(n).getFullYear(),t,kc(r,Sc.MinusSign),e)}}const Wc={};function Qc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Yc(t){return t instanceof Date&&!isNaN(t.valueOf())}class Xc{}let Zc=(()=>{class t extends Xc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return cs(t)[hs.PluralCase]}(e||this.locale)(t)){case wc.Zero:return"zero";case wc.One:return"one";case wc.Two:return"two";case wc.Few:return"few";case wc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(rr(hu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Jc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let tl=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${nt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Do(Ks),Do(Qs),Do(ks),Do(Ns))},t.\u0275dir=Gt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class el{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new el(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new rl(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new rl(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Do(da),Do(sa),Do(Ks))},t.\u0275dir=Gt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class rl{constructor(t,e){this.record=t,this.view=e}}let il=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ol,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Do(da),Do(sa))},t.\u0275dir=Gt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ol{constructor(){this.$implicit=null,this.ngIf=null}}function sl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${nt(e)}'.`)}function al(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${nt(t)}'`)}class ul{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class cl{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ll=new cl,hl=new ul;let fl=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Bo(e))return ll;if(Ho(e))return hl;throw al(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=mt.Default){const e=ea(!0);if(null!=e||t&mt.Optional)return e;oe("ChangeDetectorRef")}())},t.\u0275pipe=$t({name:"async",type:t,pure:!1}),t})(),dl=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return Vc(e,n,i||this.locale,r)}catch(o){throw al(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(Do(hu))},t.\u0275pipe=$t({name:"date",type:t,pure:!0}),t})(),pl=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:Xc,useClass:Zc}]}),t})(),gl=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new vl(rr(nc),window)}),t})();class vl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ml(this.window.history)||ml(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ml(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yl,tc||(tc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=wl||(wl=document.querySelector("base"),wl)?wl.getAttribute("href"):null;return null==e?null:(n=e,bl||(bl=document.createElement("a")),bl.setAttribute("href",n),"/"===bl.pathname.charAt(0)?bl.pathname:"/"+bl.pathname);var n}resetBaseElement(){wl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Jc(document.cookie,t)}}let bl,wl=null;const _l=new qn("TRANSITION_ID"),El=[{provide:nu,useFactory:function(t,e,n){return()=>{n.get(ru).donePromise.then(()=>{const n=ec();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[_l,nc,vo],multi:!0}];class Il{static init(){var t;t=new Il,Ru=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?ec().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Sl=new qn("EventManagerPlugins");let Tl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(rr(Sl),rr(Iu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Cl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=ec().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Al=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),kl=(()=>{class t extends Al{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ec().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(rr(nc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ol=/%COMP%/g;function Nl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nl(t,i,n):(i=i.replace(Ol,t),n.push(i))}return n}function Pl(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Rl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case It.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ll(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case It.ShadowDom:return new Ml(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Nl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(rr(Tl),rr(kl),rr(iu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Rl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(xl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=xl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=xl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Ir.DashCase|Ir.Important)?t.style.setProperty(e,n,r&Ir.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ir.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pl(n)):this.eventManager.addEventListener(t,e,Pl(n))}}class Ll extends Rl{constructor(t,e,n,r){super(t),this.component=n;const i=Nl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ol,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ol,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ml extends Rl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Nl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jl=(()=>{class t extends Cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(rr(nc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Vl=["alt","control","meta","shift"],Fl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ul={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ql={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bl=(()=>{class t extends Cl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ec().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Vl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ul.hasOwnProperty(e)&&(e=Ul[e]))}return Fl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Vl.forEach(r=>{r!=n&&(0,ql[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(rr(nc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Hl=Uu(Xu,"browser",[{provide:uu,useValue:"browser"},{provide:au,useValue:function(){yl.makeCurrent(),Il.init()},multi:!0},{provide:nc,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),zl=[[],{provide:eo,useValue:"root"},{provide:yr,useFactory:function(){return new yr},deps:[]},{provide:Sl,useClass:jl,multi:!0,deps:[nc,Iu,uu]},{provide:Sl,useClass:Bl,multi:!0,deps:[nc]},[],{provide:Dl,useClass:Dl,deps:[Tl,kl,iu]},{provide:Os,useExisting:Dl},{provide:Al,useExisting:kl},{provide:kl,useClass:kl,deps:[nc]},{provide:Ou,useClass:Ou,deps:[Iu]},{provide:Tl,useClass:Tl,deps:[Sl,Iu]},[]];let Gl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:iu,useValue:e.appId},{provide:_l,useExisting:iu},El]}}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(rr(t,12))},providers:zl,imports:[pl,Ju]}),t})();function $l(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=M(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const Kl=new qn("NgValueAccessor"),Wl={provide:Kl,useExisting:ot(()=>Ql),multi:!0};let Ql=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[_s([Wl])]}),t})();const Yl={provide:Kl,useExisting:ot(()=>Zl),multi:!0},Xl=new qn("CompositionEventMode");let Zl=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ec()?ec().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks),Do(Xl,8))},t.\u0275dir=Gt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Go("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[_s([Yl])]}),t})();function Jl(t){return null==t||0===t.length}function th(t){return null!=t&&"number"==typeof t.length}const eh=new qn("NgValidators"),nh=new qn("NgAsyncValidators"),rh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ih{static min(t){return e=>{if(Jl(e.value)||Jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Jl(e.value)||Jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Jl(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Jl(t.value)||rh.test(t.value)?null:{email:!0}}static minLength(t){return e=>Jl(e.value)||!th(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>th(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return ih.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Jl(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(oh);return 0==e.length?null:function(t){return ah(uh(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(oh);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return $l(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return $l(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(C(t=>e(...t)))}return $l(t,null)}(uh(t,e).map(sh)).pipe(C(ah))}}}function oh(t){return null!=t}function sh(t){const e=Bo(t)?M(t):t;return zo(e),e}function ah(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uh(t,e){return e.map(e=>e(t))}function ch(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function lh(t){return null!=t?ih.compose(ch(t)):null}function hh(t){return null!=t?ih.composeAsync(ch(t)):null}function fh(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let dh=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Gt({type:t}),t})(),ph=(()=>{class t extends dh{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return gh(e||t)},t.\u0275dir=Gt({type:t,features:[yo]}),t})();const gh=Vn(ph);class vh extends dh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mh{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let yh=(()=>{class t extends mh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Do(vh,2))},t.\u0275dir=Gt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Zo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[yo]}),t})(),bh=(()=>{class t extends mh{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Do(ph,10))},t.\u0275dir=Gt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Zo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[yo]}),t})();const wh={provide:Kl,useExisting:ot(()=>_h),multi:!0};let _h=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Go("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[_s([wh])]}),t})();const Eh={provide:Kl,useExisting:ot(()=>Sh),multi:!0};let Ih=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Sh=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(vh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks),Do(Ih),Do(vo))},t.\u0275dir=Gt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_s([Eh])]}),t})();const Th={provide:Kl,useExisting:ot(()=>Ch),multi:!0};let Ch=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[_s([Th])]}),t})();const Ah={provide:Kl,useExisting:ot(()=>kh),multi:!0};let kh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[_s([Ah])]}),t})();const xh={provide:Kl,useExisting:ot(()=>Oh),multi:!0};let Oh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[_s([xh])]}),t})();function Nh(t,e){Dh(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Rh(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Rh(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ph(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Dh(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(fh(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(fh(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ph(e._rawValidators,n),Ph(e._rawAsyncValidators,n)}}function Rh(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Lh=[Ql,Ch,_h,kh,Oh,Sh];function Mh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function jh(t){return(qh(t)?t.validators:t)||null}function Vh(t){return Array.isArray(t)?lh(t):t||null}function Fh(t,e){return(qh(e)?e.asyncValidators:t)||null}function Uh(t){return Array.isArray(t)?hh(t):t||null}function qh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bh{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Vh(this._rawValidators),this._composedAsyncValidatorFn=Uh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Vh(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Uh(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=sh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof zh?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Gh&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ja,this.statusChanges=new ja}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hh extends Bh{constructor(t=null,e,n){super(jh(e),Fh(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Mh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Mh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class zh extends Bh{constructor(t,e,n){super(jh(e),Fh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Hh?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Gh extends Bh{constructor(t,e,n){super(jh(e),Fh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Hh?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const $h={provide:ph,useExisting:ot(()=>Wh)},Kh=(()=>Promise.resolve(null))();let Wh=(()=>{class t extends ph{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ja,this.form=new zh({},lh(t),hh(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kh.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Nh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Mh(this._directives,t)})}addFormGroup(t){Kh.then(()=>{const e=this._findContainer(t.path),n=new zh({});(function(t,e){Dh(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Kh.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Do(eh,10),Do(nh,10))},t.\u0275dir=Gt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Go("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_s([$h]),yo]}),t})();const Qh={provide:vh,useExisting:ot(()=>Xh)},Yh=(()=>Promise.resolve(null))();let Xh=(()=>{class t extends vh{constructor(t,e,n,r){super(),this.control=new Hh,this._registered=!1,this.update=new ja,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Zl?n=t:(e=t,Lh.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Yh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Yh.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Do(ph,9),Do(eh,10),Do(nh,10),Do(Kl,10))},t.\u0275dir=Gt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_s([Qh]),yo,ae]}),t})(),Zh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Gt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Jh={provide:eh,useExisting:ot(()=>tf),multi:!0};let tf=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?ih.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Gt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Oo("required",e.required?"":null)},inputs:{required:"required"},features:[_s([Jh])]}),t})();const ef={provide:eh,useExisting:ot(()=>nf),multi:!0};let nf=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?ih.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Gt({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[_s([ef])]}),t})(),rf=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),of=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Ih],imports:[rf]}),t})();function sf(...t){let e=t[t.length-1];return T(e)?(t.pop(),L(t,e)):z(t)}function af(t,e){return U(t,e,1)}function uf(t,e){return function(n){return n.lift(new cf(t,e))}}class cf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new lf(t,this.predicate,this.thisArg))}}class lf extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class hf{}class ff{}class df{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof df?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new df;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof df?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pf{encodeKey(t){return gf(t)}encodeValue(t){return gf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function gf(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class vf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new vf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function mf(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function yf(t){return"undefined"!=typeof Blob&&t instanceof Blob}function bf(t){return"undefined"!=typeof FormData&&t instanceof FormData}class wf{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new df),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new vf,this.urlWithParams=e}serializeBody(){return null===this.body?null:mf(this.body)||yf(this.body)||bf(this.body)||"string"==typeof this.body?this.body:this.body instanceof vf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bf(this.body)?null:yf(this.body)?this.body.type||null:mf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new wf(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var _f=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Ef{constructor(t,e=200,n="OK"){this.headers=t.headers||new df,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class If extends Ef{constructor(t={}){super(t),this.type=_f.ResponseHeader}clone(t={}){return new If({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sf extends Ef{constructor(t={}){super(t),this.type=_f.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tf extends Ef{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cf(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Af=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof wf)r=t;else{let i,o;i=n.headers instanceof df?n.headers:new df(n.headers),n.params&&(o=n.params instanceof vf?n.params:new vf({fromObject:n.params})),r=new wf(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=sf(r).pipe(af(t=>this.handler.handle(t)));if(t instanceof wf||"events"===n.observe)return i;const o=i.pipe(uf(t=>t instanceof Sf));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(C(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(C(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new vf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Cf(n,e))}post(t,e,n={}){return this.request("POST",t,Cf(n,e))}put(t,e,n={}){return this.request("PUT",t,Cf(n,e))}}return t.\u0275fac=function(e){return new(e||t)(rr(hf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class kf{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xf=new qn("HTTP_INTERCEPTORS");let Of=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Nf=/^\)\]\}',?\n/;class Pf{}let Df=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Rf=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new df(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new If({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Nf,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Sf({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Tf({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Tf({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:_f.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_f.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_f.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(rr(Pf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Lf=new qn("XSRF_COOKIE_NAME"),Mf=new qn("XSRF_HEADER_NAME");class jf{}let Vf=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(rr(nc),rr(uu),rr(Lf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ff=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(rr(jf),rr(Mf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Uf=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(xf,[]);this.chain=t.reduceRight((t,e)=>new kf(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(rr(ff),rr(vo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),qf=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ff,useClass:Of}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Lf,useValue:e.cookieName}:[],e.headerName?{provide:Mf,useValue:e.headerName}:[]]}}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Ff,{provide:xf,useExisting:Ff,multi:!0},{provide:jf,useClass:Vf},{provide:Lf,useValue:"XSRF-TOKEN"},{provide:Mf,useValue:"X-XSRF-TOKEN"}]}),t})(),Bf=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Af,{provide:hf,useClass:Uf},Rf,{provide:ff,useExisting:Rf},Df,{provide:Pf,useExisting:Df}],imports:[[qf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Hf extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class zf extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Gf extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function $f(t,e,n,r,i=new Gf(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):R(e)(i)}const Kf={};class Wf{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Qf(t,this.resultSelector))}}class Qf extends zf{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Kf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add($f(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Kf?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Yf=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Xf(...t){return H(1)(sf(...t))}const Zf=new y(t=>t.complete());function Jf(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Zf}function td(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?M(n):Jf()).subscribe(e)})}function ed(t,e){return"function"==typeof e?n=>n.pipe(ed((n,r)=>M(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))))):e=>e.lift(new nd(t))}class nd{constructor(t){this.project=t}call(t,e){return e.subscribe(new rd(t,this.project))}}class rd extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new j(this),r=this.destination;r.add(n),this.innerSubscription=F(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const id=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function od(t){return e=>0===t?Jf():e.lift(new sd(t))}class sd{constructor(t){if(this.total=t,this.total<0)throw new id}call(t,e){return e.subscribe(new ad(t,this.total))}}class ad extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ud(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new cd(t,e,n))}}class cd{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ld(t,this.accumulator,this.seed,this.hasSeed))}}class ld extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function hd(t){return function(e){const n=new fd(t),r=e.lift(n);return n.caught=r}}class fd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new dd(t,this.selector,this.caught))}}class dd extends V{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new j(this);this.add(r);const i=F(n,r);i!==r&&this.add(i)}}}function pd(t){return function(e){return 0===t?Jf():e.lift(new gd(t))}}class gd{constructor(t){if(this.total=t,this.total<0)throw new id}call(t,e){return e.subscribe(new vd(t,this.total))}}class vd extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function md(t=wd){return e=>e.lift(new yd(t))}class yd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new bd(t,this.errorFactory))}}class bd extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(QP){t=QP}this.destination.error(t)}}}function wd(){return new Yf}function _d(t=null){return e=>e.lift(new Ed(t))}class Ed{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Id(t,this.defaultValue))}}class Id extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sd(t,e){const n=arguments.length>=2;return r=>r.pipe(t?uf((e,n)=>t(e,n,r)):m,od(1),n?_d(e):md(()=>new Yf))}function Td(){}function Cd(t,e,n){return function(r){return r.lift(new Ad(t,e,n))}}class Ad{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new kd(t,this.nextOrObserver,this.error,this.complete))}}class kd extends p{constructor(t,e,n,i){super(t),this._tapNext=Td,this._tapError=Td,this._tapComplete=Td,this._tapError=n||Td,this._tapComplete=i||Td,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Td,this._tapError=e.error||Td,this._tapComplete=e.complete||Td)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class xd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Od(t,this.callback))}}class Od extends p{constructor(t,e){super(t),this.add(new h(e))}}class Nd{constructor(t,e){this.id=t,this.url=e}}class Pd extends Nd{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dd extends Nd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rd extends Nd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ld extends Nd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Md extends Nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jd extends Nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vd extends Nd{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fd extends Nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ud extends Nd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $d{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kd{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qd(t){return new Wd(t)}function Yd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Xd(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zd(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Jd(t[i],e[i]))return!1;return!0}function Jd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function tp(t){return Array.prototype.concat.apply([],t)}function ep(t){return t.length>0?t[t.length-1]:null}function np(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rp(t){return zo(t)?t:Bo(t)?M(Promise.resolve(t)):sf(t)}function ip(t,e,n){return n?function(t,e){return Zd(t,e)}(t.queryParams,e.queryParams)&&op(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Jd(t[n],e[n]))}(t.queryParams,e.queryParams)&&sp(t.root,e.root)}function op(t,e){if(!hp(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!op(t.children[n],e.children[n]))return!1}return!0}function sp(t,e){return ap(t,e,e.segments)}function ap(t,e,n){if(t.segments.length>n.length)return!!hp(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!hp(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!sp(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!hp(t.segments,r)&&!!t.children.primary&&ap(t.children.primary,e,i)}}class up{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qd(this.queryParams)),this._queryParamMap}toString(){return pp.serialize(this)}}class cp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,np(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gp(this)}}class lp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qd(this.parameters)),this._parameterMap}toString(){return Ep(this)}}function hp(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class fp{}class dp{parse(t){const e=new Ap(t);return new up(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${vp(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yp(e)}=${yp(t)}`).join("&"):`${yp(e)}=${yp(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const pp=new dp;function gp(t){return t.segments.map(t=>Ep(t)).join("/")}function vp(t,e){if(!t.hasChildren())return gp(t);if(e){const e=t.children.primary?vp(t.children.primary,!1):"",n=[];return np(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${vp(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return np(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),np(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[vp(t.children.primary,!1)]:[`${n}:${vp(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${gp(t)}/${e[0]}`:`${gp(t)}/(${e.join("//")})`}}function mp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yp(t){return mp(t).replace(/%3B/gi,";")}function bp(t){return mp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wp(t){return decodeURIComponent(t)}function _p(t){return wp(t.replace(/\+/g,"%20"))}function Ep(t){return`${bp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bp(t)}=${bp(e[t])}`).join("")}`;var e}const Ip=/^[^\/()?;=#]+/;function Sp(t){const e=t.match(Ip);return e?e[0]:""}const Tp=/^[^=?&#]+/,Cp=/^[^?&#]+/;class Ap{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cp([],{}):new cp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cp(t,e)),n}parseSegment(){const t=Sp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new lp(wp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Sp(this.remaining);t&&(n=t,this.capture(n))}t[wp(e)]=wp(n)}parseQueryParam(t){const e=function(t){const e=t.match(Tp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Cp);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=_p(e),i=_p(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new cp([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=xp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Op(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Op(t,this._root).map(t=>t.value)}}function xp(t,e){if(t===e.value)return e;for(const n of e.children){const e=xp(t,n);if(e)return e}return null}function Op(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Op(t,n);if(r.length)return r.unshift(e),r}return[]}class Np{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Pp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Dp extends kp{constructor(t,e){super(t),this.snapshot=e,Fp(this,t)}toString(){return this.snapshot.toString()}}function Rp(t,e){const n=function(t,e){const n=new jp([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Vp("",new Np(n,[]))}(t,e),r=new Hf([new lp("",{})]),i=new Hf({}),o=new Hf({}),s=new Hf({}),a=new Hf(""),u=new Lp(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Dp(new Np(u,[]),n)}class Lp{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C(t=>Qd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C(t=>Qd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jp{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vp extends kp{constructor(t,e){super(e),this.url=t,Fp(this,e)}toString(){return Up(this._root)}}function Fp(t,e){e.value._routerState=t,e.children.forEach(e=>Fp(t,e))}function Up(t){const e=t.children.length>0?` { ${t.children.map(Up).join(", ")} } `:"";return`${t.value}${e}`}function qp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Zd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Zd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bp(t,e){return Zd(t.params,e.params)&&function(t,e){return hp(t,e)&&t.every((t,n)=>Zd(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bp(t.parent,e.parent))}function Hp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Hp(t,e,r);return Hp(t,e)})}(t,e,n);return new Np(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return zp(e,t),t}{const n=new Lp(new Hf((r=e.value).url),new Hf(r.params),new Hf(r.queryParams),new Hf(r.fragment),new Hf(r.data),r.outlet,r.component,r),i=e.children.map(e=>Hp(t,e));return new Np(n,i)}}var r}function zp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)zp(t.children[n],e.children[n])}function Gp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $p(t){return"object"==typeof t&&null!=t&&t.outlets}function Kp(t,e,n,r,i){let o={};return r&&np(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new up(n.root===t?e:Wp(n.root,t,e),o,i)}function Wp(t,e,n){const r={};return np(t.children,(t,i)=>{r[i]=t===e?n:Wp(t,e,n)}),new cp(t.segments,r)}class Qp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Gp(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find($p);if(r&&r!==ep(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Xp(t,e,n){if(t||(t=new cp([],{})),0===t.segments.length&&t.hasChildren())return Zp(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if($p(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ng(a,u,e))return o;r+=2}else{if(!ng(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new cp(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new cp(t.segments.slice(r.pathIndex),t.children),Zp(e,0,i)}return r.match&&0===i.length?new cp(t.segments,{}):r.match&&!t.hasChildren()?Jp(t,e,n):r.match?Zp(t,0,i):Jp(t,e,n)}function Zp(t,e,n){if(0===n.length)return new cp(t.segments,{});{const r=function(t){return $p(t[0])?t[0].outlets:{primary:t}}(n),i={};return np(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Xp(t.children[r],e,n))}),np(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new cp(t.segments,i)}}function Jp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if($p(o)){const t=tg(o.outlets);return new cp(r,t)}if(0===i&&Gp(n[0])){r.push(new lp(t.segments[e].path,eg(n[0]))),i++;continue}const s=$p(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Gp(a)?(r.push(new lp(s,eg(a))),i+=2):(r.push(new lp(s,{})),i++)}return new cp(r,{})}function tg(t){const e={};return np(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jp(new cp([],{}),0,t))}),e}function eg(t){const e={};return np(t,(t,n)=>e[n]=`${t}`),e}function ng(t,e,n){return t==n.path&&Zd(e,n.parameters)}class rg{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),qp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Pp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),np(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Pp(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Pp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new $d(t.value.snapshot))}),t.children.length&&this.forwardEvent(new zd(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(qp(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ig(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ig(t){qp(t.value),t.children.forEach(ig)}class og{constructor(t,e){this.routes=t,this.module=e}}function sg(t){return"function"==typeof t}function ag(t){return t instanceof up}const ug=Symbol("INITIAL_VALUE");function cg(){return ed(t=>function(...t){let e,n;return T(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),z(t,n).lift(new Wf(e))}(t.map(t=>t.pipe(od(1),function(...t){const e=t[t.length-1];return T(e)?(t.pop(),n=>Xf(t,n,e)):e=>Xf(t,e)}(ug)))).pipe(ud((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ug)return t;if(r===ug&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ag(r))return r}return t},t)},ug),uf(t=>t!==ug),C(t=>ag(t)?t:!0===t),od(1)))}let lg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Vo(0,"router-outlet")},directives:function(){return[ov]},encapsulation:2}),t})();function hg(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fg(r,dg(e,r))}}function fg(t,e){t.children&&hg(t.children,e)}function dg(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pg(t){const e=t.children&&t.children.map(pg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=lg),n}function gg(t){return t.outlet||"primary"}function vg(t,e){const n=t.filter(t=>gg(t)===e);return n.push(...t.filter(t=>gg(t)!==e)),n}const mg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yg(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},mg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Xd)(n,t,e);if(!i)return Object.assign({},mg);const o={};np(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function bg(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>wg(t,e,n)&&"primary"!==gg(n))}(t,n,r)){const i=new cp(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==gg(o)){const n=new cp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[gg(o)]=n}return i}(t,e,r,new cp(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wg(t,e,n))}(t,n,r)){const o=new cp(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(wg(t,n,a)&&!i[gg(a)]){const n=new cp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[gg(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new cp(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function wg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function _g(t,e,n,r){return!!(gg(t)===r||"primary"!==r&&wg(e,n,t))&&("**"===t.path||yg(e,t,n).matched)}function Eg(t,e,n){return 0===e.length&&!t.children[n]}class Ig{constructor(t){this.segmentGroup=t||null}}class Sg{constructor(t){this.urlTree=t}}function Tg(t){return new y(e=>e.error(new Ig(t)))}function Cg(t){return new y(e=>e.error(new Sg(t)))}function Ag(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class kg{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(la)}apply(){const t=bg(this.urlTree.root,[],[],this.config).segmentGroup,e=new cp(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(C(t=>this.createUrlTree(xg(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hd(t=>{if(t instanceof Sg)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ig)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(C(e=>this.createUrlTree(xg(e),t.queryParams,t.fragment))).pipe(hd(t=>{if(t instanceof Ig)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new cp([],{primary:t}):t;return new up(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(C(t=>new cp([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return M(r).pipe(af(r=>{const i=n.children[r],o=vg(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(C(t=>({segment:t,outlet:r})))}),ud((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?uf((e,n)=>t(e,n,r)):m,pd(1),n?_d(e):md(()=>new Yf))}())}expandSegment(t,e,n,r,i,o){return M(n).pipe(af(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(hd(t=>{if(t instanceof Ig)return sf(null);throw t}))),Sd(t=>!!t),hd((t,n)=>{if(t instanceof Yf||"EmptyError"===t.name){if(Eg(e,r,i))return sf(new cp([],{}));throw new Ig(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return _g(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Tg(e):Tg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cg(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new cp(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=yg(e,r,i);if(!s)return Tg(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Cg(l):this.lineralizeSegments(r,l).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(C(t=>(n._loadedConfig=t,new cp(r,{})))):sf(new cp(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=yg(e,n,r);if(!o)return Tg(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(U(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=bg(e,s,u,o),l=new cp(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(C(t=>new cp(s,t)));if(0===o.length&&0===c.length)return sf(new cp(s,{}));const h=gg(n)===i;return this.expandSegment(r,l,o,c,h?"primary":i,!0).pipe(C(t=>new cp(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?sf(new og(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?sf(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(C(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Yd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):sf(new og([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?sf(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&sg(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!sg(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return rp(o)})).pipe(cg(),Cd(t=>{if(!ag(t))return;const e=Yd(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),C(t=>!0===t)):sf(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return sf(n);if(r.numberOfChildren>1||!r.children.primary)return Ag(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new up(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return np(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return np(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new cp(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function xg(t){const e={};for(const n of Object.keys(t.children)){const r=xg(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cp(t.segments.concat(e.segments),e.children)}return t}(new cp(t.segments,e))}class Og{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ng{constructor(t,e){this.component=t,this.route=e}}function Pg(t,e,n){const r=t._root;return Rg(r,e?e._root:null,n,[r.value])}function Dg(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Rg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Pp(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hp(t.url,e.url)||!Zd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bp(t,e)||!Zd(t.queryParams,e.queryParams);case"paramsChange":default:return!Bp(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Og(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rg(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ng(a.outlet.component,s))}else s&&Lg(e,a,i),i.canActivateChecks.push(new Og(r)),Rg(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),np(o,(t,e)=>Lg(t,n.getContext(e),i)),i}function Lg(t,e,n){const r=Pp(t),i=t.value;np(r,(t,r)=>{Lg(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ng(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Mg{}function jg(t){return new y(e=>e.error(t))}class Vg{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=bg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new jp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Np(n,e),i=new Vp(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Mp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=vg(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Fg(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Eg(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!_g(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ep(n).parameters:{};i=new jp(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bg(t),gg(t),t.component,t,Ug(e),qg(e)+n.length,Hg(t))}else{const r=yg(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new jp(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bg(t),gg(t),t.component,t,Ug(e),qg(e)+o.length,Hg(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=bg(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Np(i,t)]}if(0===a.length&&0===c.length)return[new Np(i,[])];const l=gg(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new Np(i,h)]}}function Fg(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ug(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qg(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Bg(t){return t.data||{}}function Hg(t){return t.resolve||{}}function zg(t){return ed(e=>{const n=t(e);return n?M(n).pipe(C(()=>e)):sf(e)})}class Gg extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $g=new qn("ROUTES");class Kg{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(C(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new og(tp(r.injector.get($g,void 0,mt.Self|mt.Optional)).map(pg),r)}))}loadModuleFactory(t){return"string"==typeof t?M(this.loader.load(t)):rp(t()).pipe(U(t=>t instanceof ha?sf(t):M(this.compiler.compileModuleAsync(t))))}}class Wg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qg,this.attachRef=null}}class Qg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Wg,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Yg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xg(t){throw t}function Zg(t,e,n){return e.parse("/")}function Jg(t,e){return sf(null)}let tv=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=Xg,this.malformedUriErrorHandler=Zg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jg,afterPreactivation:Jg},this.urlHandlingStrategy=new Yg,this.routeReuseStrategy=new Gg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(la),this.console=i.get(lu);const u=i.get(Iu);this.isNgZoneEnabled=u instanceof Iu&&Iu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new up(new cp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kg(o,s,t=>this.triggerEvent(new qd(t)),t=>this.triggerEvent(new Bd(t))),this.routerState=Rp(this.currentUrlTree,this.rootComponentType),this.transitions=new Hf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(uf(t=>0!==t.id),C(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ed(t=>{let n=!1,r=!1;return sf(t).pipe(Cd(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ed(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return sf(t).pipe(ed(t=>{const n=this.transitions.getValue();return e.next(new Pd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Zf:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,ed(t=>function(t,e,n,r,i){return new kg(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(C(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Cd(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return U(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Vg(t,e,n,r,i,o).recognize();return null===s?jg(new Mg):sf(s)}catch(QP){return jg(QP)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(C(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Cd(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Md(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Pd(n,this.serializeUrl(r),i,o);e.next(a);const u=Rp(r,this.rootComponentType).snapshot;return sf(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Zf}),zg(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Cd(t=>{const e=new jd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),C(t=>Object.assign(Object.assign({},t),{guards:Pg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?sf(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return M(t).pipe(U(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?sf(o.map(o=>{const s=Dg(o,e,i);let a;if(function(t){return t&&sg(t.canDeactivate)}(s))a=rp(s.canDeactivate(t,e,n,r));else{if(!sg(s))throw new Error("Invalid CanDeactivate guard");a=rp(s(t,e,n,r))}return a.pipe(Sd())})).pipe(cg()):sf(!0)}(t.component,t.route,n,e,r)),Sd(t=>!0!==t,!0))}(s,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return M(e).pipe(af(e=>Xf(function(t,e){return null!==t&&e&&e(new Hd(t)),sf(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Gd(t)),sf(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>td(()=>sf(e.guards.map(i=>{const o=Dg(i,e.node,n);let s;if(function(t){return t&&sg(t.canActivateChild)}(o))s=rp(o.canActivateChild(r,t));else{if(!sg(o))throw new Error("Invalid CanActivateChild guard");s=rp(o(r,t))}return s.pipe(Sd())})).pipe(cg())));return sf(i).pipe(cg())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?sf(r.map(r=>td(()=>{const i=Dg(r,e,n);let o;if(function(t){return t&&sg(t.canActivate)}(i))o=rp(i.canActivate(e,t));else{if(!sg(i))throw new Error("Invalid CanActivate guard");o=rp(i(e,t))}return o.pipe(Sd())}))).pipe(cg()):sf(!0)}(t,e.route,n))),Sd(t=>!0!==t,!0))}(r,o,t,e):sf(n)),C(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Cd(t=>{if(ag(t.guardsResult)){const e=Yd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Vd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),uf(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Rd(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zg(t=>{if(t.guards.canActivateChecks.length)return sf(t).pipe(Cd(t=>{const e=new Fd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ed(t=>{let n=!1;return sf(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return sf(t);let o=0;return M(n).pipe(af(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return sf({});const o={};return M(i).pipe(U(i=>function(t,e,n,r){const i=Dg(t,e,r);return rp(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Cd(t=>{o[i]=t}))),pd(1),U(()=>Object.keys(o).length===i.length?sf(o):Zf))}(t._resolve,t,e,r).pipe(C(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mp(t,n).resolve),null)))}(t.route,e,r,i)),Cd(()=>o++),pd(1),U(e=>o===n.length?sf(t):Zf))})),Cd({next:()=>n=!0,complete:()=>{if(!n){const n=new Rd(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Cd(t=>{const e=new Ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zg(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),C(t=>{const e=function(t,e,n){const r=Hp(t,e._root,n?n._root:void 0);return new Dp(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Cd(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),C(t=>(new rg(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Cd({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Rd(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new xd(i))),hd(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ag(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Rd(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ld(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Zf}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hg(t),this.config=t.map(pg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Kp(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qp(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return np(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qp(n,e,r)}(n);if(o.toRoot())return Kp(e.root,new cp([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Yp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yp(t,t===e.root,0)}const r=Gp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yp(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Zp(s.segmentGroup,s.index,o.commands):Xp(s.segmentGroup,s.index,o.commands);return Kp(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ag(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(QP){e=this.malformedUriErrorHandler(QP,this.urlSerializer,t)}return e}isActive(t,e){if(ag(t))return ip(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ip(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Dd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(rr(Hn),rr(fp),rr(Qg),rr(mc),rr(vo),rr($u),rr(wu),rr(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ev=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new I,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:rv(this.skipLocationChange),replaceUrl:rv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Do(tv),Do(Lp),Fn("tabindex"),Do(Ns),Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Go("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ae]}),t})(),nv=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new I,this.subscription=t.events.subscribe(t=>{t instanceof Dd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:rv(this.skipLocationChange),replaceUrl:rv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rv(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Do(tv),Do(Lp),Do(fc))},t.\u0275dir=Gt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Go("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(ss("href",e.href,pr),Oo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ae]}),t})();function rv(t){return""===t||!!t}let iv=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Dd&&this.update()})}ngAfterContentInit(){sf(this.links.changes,this.linksWithHrefs.changes,sf(null)).pipe(H()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=M(e).pipe(H()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Do(tv),Do(ks),Do(Ns),Do(ta),Do(ev,8),Do(nv,8))},t.\u0275dir=Gt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(Xa(n,ev,1),Xa(n,nv,1)),2&t){let t;Qa(t=Za())&&(e.links=t),Qa(t=Za())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ae]}),t})(),ov=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ja,this.deactivateEvents=new ja,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new sv(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Do(Qg),Do(da),Do(Ss),Fn("name"),Do(ta))},t.\u0275dir=Gt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class sv{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Lp?this.route:t===Qg?this.childContexts:this.parent.get(t,e)}}class av{}class uv{preload(t,e){return sf(null)}}let cv=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kg(e,n,e=>t.triggerEvent(new qd(e)),e=>t.triggerEvent(new Bd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(uf(t=>t instanceof Dd),af(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(la);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return M(n).pipe(H(),C(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(rr(tv),rr($u),rr(wu),rr(vo),rr(av))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),lv=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Kd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(rr(tv),rr(gl),rr(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const hv=new qn("ROUTER_CONFIGURATION"),fv=new qn("ROUTER_FORROOT_GUARD"),dv=[mc,{provide:fp,useClass:dp},{provide:tv,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new tv(null,t,e,n,r,i,o,tp(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing){const t=ec();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l},deps:[fp,Qg,mc,vo,$u,wu,$g,hv,[class{},new ar],[class{},new ar]]},Qg,{provide:Lp,useFactory:function(t){return t.routerState.root},deps:[tv]},{provide:$u,useClass:Qu},cv,uv,class{preload(t,e){return e().pipe(hd(()=>sf(null)))}},{provide:hv,useValue:{enableTracing:!1}}];function pv(){return new Fu("Router",tv)}let gv=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[dv,bv(e),{provide:fv,useFactory:yv,deps:[[tv,new ar,new ur]]},{provide:hv,useValue:n||{}},{provide:fc,useFactory:mv,deps:[rc,[new sr(pc),new ar],hv]},{provide:lv,useFactory:vv,deps:[tv,gl,hv]},{provide:av,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:uv},{provide:Fu,multi:!0,useFactory:pv},[wv,{provide:nu,multi:!0,useFactory:_v,deps:[wv]},{provide:Iv,useFactory:Ev,deps:[wv]},{provide:cu,multi:!0,useExisting:Iv}]]}}static forChild(e){return{ngModule:t,providers:[bv(e)]}}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(rr(fv,8),rr(tv,8))}}),t})();function vv(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new lv(t,e,n)}function mv(t,e,n={}){return n.useHash?new vc(t,e):new gc(t,e)}function yv(t){return"guarded"}function bv(t){return[{provide:Bn,multi:!0,useValue:t},{provide:$g,multi:!0,useValue:t}]}let wv=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(oc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(tv),r=this.injector.get(hv);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?sf(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(hv),n=this.injector.get(cv),r=this.injector.get(lv),i=this.injector.get(tv),o=this.injector.get(zu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(rr(vo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function _v(t){return t.appInitializer.bind(t)}function Ev(t){return t.bootstrapListener.bind(t)}const Iv=new qn("Router Initializer"),Sv=[];let Tv=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[gv.forRoot(Sv)],gv]}),t})(),Cv=(()=>{class t{constructor(){this.noKeyboardPagination=!1,this.loginModalVisibility=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Av(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(QP){o(QP)}}function a(t){try{u(r.throw(t))}catch(QP){o(QP)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}var kv=function(t,e){return(kv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function xv(t,e){function n(){this.constructor=t}kv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ov=function(){return(Ov=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Nv(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(QP){o(QP)}}function a(t){try{u(r.throw(t))}catch(QP){o(QP)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function Pv(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(QP){o=[6,QP],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Dv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rv(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Lv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rv(arguments[e]));return t}function Mv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function jv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=jv(t[n],e[n]));return t}var Vv=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function Fv(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Uv(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(QP){return!1}}function qv(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Bv(){return"indexedDB"in self&&null!=indexedDB}function Hv(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function zv(){return!(!navigator||!navigator.cookieEnabled)}var Gv=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,$v.prototype.create),o}return xv(e,t),e}(Error),$v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Kv(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Gv(i,a,r);return u},t}();function Kv(t,e){return t.replace(Wv,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var Wv=/\{\$([^}]+)}/g;function Qv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yv(t,e){var n=new Xv(t,e);return n.subscribe.bind(n)}var Xv=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=Zv),void 0===r.error&&(r.error=Zv),void 0===r.complete&&(r.complete=Zv);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(QP){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(QP){"undefined"!=typeof console&&console.error&&console.error(QP)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function Zv(){}function Jv(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var tm,em=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),nm=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Vv;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(QP){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ov({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var i=this.getOrInitializeService(r);if(!i){if(n)return null;throw Error("Service "+this.name+" is not available")}return i}catch(QP){if(n)return null;throw QP}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(QP){}try{for(var r=Dv(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Rv(i.value,2),s=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(a);s.resolve(u)}catch(QP){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Nv(this,void 0,void 0,function(){var t;return Pv(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Lv(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),rm=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new nm(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function im(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var om,sm=[],am=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),um={debug:am.DEBUG,verbose:am.VERBOSE,info:am.INFO,warn:am.WARN,error:am.ERROR,silent:am.SILENT},cm=am.INFO,lm=((tm={})[am.DEBUG]="log",tm[am.VERBOSE]="log",tm[am.INFO]="info",tm[am.WARN]="warn",tm[am.ERROR]="error",tm),hm=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=lm[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,im(["["+i+"]  "+t.name+":"],n))}},fm=function(){function t(t){this.name=t,this._logLevel=cm,this._logHandler=hm,this._userLogHandler=null,sm.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in am))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?um[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,im([this,am.DEBUG],t)),this._logHandler.apply(this,im([this,am.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,im([this,am.VERBOSE],t)),this._logHandler.apply(this,im([this,am.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,im([this,am.INFO],t)),this._logHandler.apply(this,im([this,am.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,im([this,am.WARN],t)),this._logHandler.apply(this,im([this,am.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,im([this,am.ERROR],t)),this._logHandler.apply(this,im([this,am.ERROR],t))},t}();function dm(t){sm.forEach(function(e){e.setLogLevel(t)})}var pm,gm=((om={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",om["bad-app-name"]="Illegal App name: '{$appName}",om["duplicate-app"]="Firebase App named '{$appName}' already exists",om["app-deleted"]="Firebase App named '{$appName}' already deleted",om["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",om["invalid-log-argument"]="First argument to `onLog` must be null or a function.",om),vm=new $v("app","Firebase",gm),mm=((pm={})["@firebase/app"]="fire-core",pm["@firebase/analytics"]="fire-analytics",pm["@firebase/auth"]="fire-auth",pm["@firebase/database"]="fire-rtdb",pm["@firebase/functions"]="fire-fn",pm["@firebase/installations"]="fire-iid",pm["@firebase/messaging"]="fire-fcm",pm["@firebase/performance"]="fire-perf",pm["@firebase/remote-config"]="fire-rc",pm["@firebase/storage"]="fire-gcs",pm["@firebase/firestore"]="fire-fst",pm["fire-js"]="fire-js",pm["firebase-wrapper"]="fire-js-all",pm),ym=new fm("@firebase/app"),bm=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=jv(void 0,t),this.container=new rm(e.name),this._addComponent(new em("app",function(){return o},"PUBLIC"));try{for(var s=Dv(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next())this._addComponent(a.value)}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(QP){ym.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,QP)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw vm.create("app-deleted",{appName:this.name_})},t}();bm.prototype.name&&bm.prototype.options||bm.prototype.delete||console.log("dc");var wm=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw vm.create("bad-app-name",{appName:String(s)});if(Qv(e,s))throw vm.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=mm[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ym.warn(u.join(" "))}o(new em(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:dm,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw vm.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=um[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:am[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=sm;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!Qv(e,t=t||"[DEFAULT]"))throw vm.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return ym.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw vm.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&jv(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}try{for(var l=Dv(Object.keys(e)),h=l.next();!h.done;h=l.next())e[h.value]._addComponent(o)}catch(f){s={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(bm);return e.INTERNAL=Ov(Ov({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){jv(e,t)},createSubscribe:Yv,ErrorFactory:$v,deepExtend:jv}),e}(),_m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ym.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Em=self.firebase.SDK_VERSION;Em&&Em.indexOf("LITE")>=0&&ym.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Im=wm.initializeApp;wm.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Uv()&&ym.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Im.apply(void 0,t)};var Sm,Tm=wm;(Sm=Tm).INTERNAL.registerComponent(new em("platform-logger",function(t){return new _m(t)},"PRIVATE")),Sm.registerVersion("@firebase/app","0.6.14",void 0),Sm.registerVersion("fire-js","");var Cm,Am=Tm,km=n("nbvr"),xm=((Cm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Cm["not-registered"]="Firebase Installation is not registered.",Cm["installation-not-found"]="Firebase Installation not found.",Cm["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Cm["app-offline"]="Could not process request. Application offline.",Cm["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Cm),Om=new $v("installations","Installations",xm);function Nm(t){return t instanceof Gv&&t.code.includes("request-failed")}function Pm(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Dm(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Rm(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,Om.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function Lm(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function Mm(t,e){var n=e.refreshToken,r=Lm(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function jm(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Vm(t,e){var n=e.fid;return Nv(this,void 0,void 0,function(){var e,r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:return e=Pm(t),r=Lm(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.19"})},[4,jm(function(){return fetch(e,i)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Dm(s.authToken)}];case 3:return[4,Rm("Create Installation",o)];case 4:throw a.sent()}})})}function Fm(t){return new Promise(function(e){setTimeout(e,t)})}var Um=/^[cdef][\w-]{21}$/;function qm(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Lv(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Um.test(e)?e:""}catch(n){return""}}function Bm(t){return t.appName+"!"+t.appId}var Hm=new Map;function zm(t,e){var n=Bm(t);Gm(n,e),function(t,e){var n=Km();n&&n.postMessage({key:t,fid:e}),Wm()}(n,e)}function Gm(t,e){var n,r,i=Hm.get(t);if(i)try{for(var o=Dv(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var $m=null;function Km(){return!$m&&"BroadcastChannel"in self&&(($m=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Gm(t.data.key,t.data.fid)}),$m}function Wm(){0===Hm.size&&$m&&($m.close(),$m=null)}var Qm,Ym="firebase-installations-store",Xm=null;function Zm(){return Xm||(Xm=Object(km.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ym)}})),Xm}function Jm(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:return n=Bm(t),[4,Zm()];case 1:return r=a.sent(),i=r.transaction(Ym,"readwrite"),[4,(o=i.objectStore(Ym)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||zm(t,e.fid),[2,e]}})})}function ty(t){return Nv(this,void 0,void 0,function(){var e,n,r;return Pv(this,function(i){switch(i.label){case 0:return e=Bm(t),[4,Zm()];case 1:return n=i.sent(),[4,(r=n.transaction(Ym,"readwrite")).objectStore(Ym).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function ey(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a;return Pv(this,function(u){switch(u.label){case 0:return n=Bm(t),[4,Zm()];case 1:return r=u.sent(),i=r.transaction(Ym,"readwrite"),[4,(o=i.objectStore(Ym)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||zm(t,a.fid),[2,a]}})})}function ny(t){return Nv(this,void 0,void 0,function(){var e,n,r;return Pv(this,function(i){switch(i.label){case 0:return[4,ey(t,function(n){var r=function(t){return oy(t||{fid:qm(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Om.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Vm(t,e)];case 1:return n=i.sent(),[2,Jm(t,n)];case 2:return Nm(r=i.sent())&&409===r.customData.serverCode?[4,ty(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Jm(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ry(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function ry(t){return Nv(this,void 0,void 0,function(){var e,n,r,i;return Pv(this,function(o){switch(o.label){case 0:return[4,iy(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Fm(100)];case 3:return o.sent(),[4,iy(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ny(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function iy(t){return ey(t,function(t){if(!t)throw Om.create("installation-not-found");return oy(t)})}function oy(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function sy(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Nv(this,void 0,void 0,function(){var t,i,o,s,a;return Pv(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return Pm(t)+"/"+n+"/authTokens:generate"}(n,e),i=Mm(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.19"}})},[4,jm(function(){return fetch(t,s)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,Dm(u.sent())];case 3:return[4,Rm("Generate Auth Token",a)];case 4:throw u.sent()}})})}function ay(t,e){return void 0===e&&(e=!1),Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:return[4,ey(t.appConfig,function(r){if(!cy(r))throw Om.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return[4,uy(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Fm(100)];case 3:return i.sent(),[4,uy(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ay(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw Om.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Ov(Ov({},t),{authToken:e})}(r);return n=function(t,e){return Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,sy(t,e)];case 1:return n=o.sent(),i=Ov(Ov({},e),{authToken:n}),[4,Jm(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Nm(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ty(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ov(Ov({},e),{authToken:{requestStatus:0}}),[4,Jm(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,s),s})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function uy(t){return ey(t,function(t){if(!cy(t))throw Om.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Ov(Ov({},t),{authToken:{requestStatus:0}}):t})}function cy(t){return void 0!==t&&2===t.registrationStatus}function ly(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return[4,ny(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function hy(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o;return Pv(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return Pm(t)+"/"+n}(t,e),r=Mm(t,e),i={method:"DELETE",headers:r},[4,jm(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,Rm("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function fy(t){return Om.create("missing-app-config-values",{valueName:t})}(Qm=Am).INTERNAL.registerComponent(new em("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw fy("App Configuration");if(!t.name)throw fy("App Name");try{for(var r=Dv(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw fy(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Nv(this,void 0,void 0,function(){var e,n,r;return Pv(this,function(i){switch(i.label){case 0:return[4,ny(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):ay(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Nv(this,void 0,void 0,function(){return Pv(this,function(n){switch(n.label){case 0:return[4,ly(t.appConfig)];case 1:return n.sent(),[4,ay(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Nv(this,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:return[4,ey(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Om.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Om.create("app-offline");case 3:return[4,hy(e,n)];case 4:return r.sent(),[4,ty(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){Km();var n=Bm(t),r=Hm.get(n);r||(r=new Set,Hm.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Bm(t),r=Hm.get(n);r&&(r.delete(e),0===r.size&&Hm.delete(n),Wm())}(n,e)}}(n,t)}}},"PUBLIC")),Qm.registerVersion("@firebase/installations","0.4.19");var dy,py="https://www.googletagmanager.com/gtag/js",gy=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),vy=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),my=new fm("@firebase/analytics");function yy(t,e,n,r,i,o){return Nv(this,void 0,void 0,function(){var s,a,u,c;return Pv(this,function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),my.error(c),[3,8];case 8:return t(gy.CONFIG,i,o),[2]}})})}function by(t,e,n,r,i){return Nv(this,void 0,void 0,function(){var o,s,a,u,c,l,h;return Pv(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),u=function(t){var n=a.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(gy.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),my.error(h),[3,5];case 5:return[2]}})})}var wy=((dy={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",dy["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",dy["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",dy["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",dy["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",dy["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",dy["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",dy["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',dy["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',dy),_y=new $v("analytics","Analytics",wy),Ey=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Iy(t){var e;return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a;return Pv(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return a=u.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw _y.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var c})})}function Sy(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Ey),Nv(this,void 0,void 0,function(){var e,s,a,u,c,l,h;return Pv(this,function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Ty(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return my.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,Iy(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Gv&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return my.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?Jv(o,r.intervalMillis,30):Jv(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),my.debug("Calling attemptFetch again in "+l+" millis"),[2,Sy(t,h,n,r)];case 7:return[2]}})})}function Ty(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(_y.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Cy,Ay,ky=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),xy={},Oy=[],Ny={},Py="dataLayer",Dy="gtag",Ry=!1;function Ly(t){if(Ry)throw _y.create("already-initialized");t.dataLayerName&&(Py=t.dataLayerName),t.gtagName&&(Dy=t.gtagName)}function My(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:if(qv())return[2,!1];if(!zv())return[2,!1];if(!Bv())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Hv()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new em("analytics",function(t){return function(t,e){!function(){var t=[];if(qv()&&t.push("This is a browser extension environment."),zv()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=_y.create("invalid-analytics-context",{errorInfo:e});my.warn(n.message)}}();var n=t.options.appId;if(!n)throw _y.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _y.create("no-api-key");my.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xy[n])throw _y.create("already-exists",{id:n});if(!Ry){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(py))return r}return null})()||function(t){var e=document.createElement("script");e.src=py+"?l="+t,e.async=!0,document.head.appendChild(e)}(Py),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Py);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Nv(this,void 0,void 0,function(){var a;return Pv(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==gy.EVENT?[3,2]:[4,by(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==gy.CONFIG?[3,4]:[4,yy(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(gy.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),my.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(xy,Oy,Ny,Py,Dy);Ay=r.wrappedGtag,Cy=r.gtagCore,Ry=!0}return xy[n]=function(t,e,n,r,i){return Nv(this,void 0,void 0,function(){var o,s,a,u,c,l,h;return Pv(this,function(f){switch(f.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=Ey),Nv(this,void 0,void 0,function(){var n,r,i,o,s,a,u=this;return Pv(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw _y.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw _y.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ky,setTimeout(function(){return Nv(u,void 0,void 0,function(){return Pv(this,function(t){return a.abort(),[2]})})},6e4),[2,Sy({appId:r,apiKey:i,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&my.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return my.error(t)}),e.push(o),s=function(){return Nv(this,void 0,void 0,function(){var t;return Pv(this,function(e){switch(e.label){case 0:return Bv()?[3,1]:(my.warn(_y.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Hv()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),my.warn(_y.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([o,s])];case 1:return a=f.sent(),u=a[0],c=a[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=c&&(l.firebase_id=c),i(gy.CONFIG,u.measurementId,l),[2,u.measurementId]}})})}(t,Oy,Ny,e,Cy),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Nv(this,void 0,void 0,function(){var o,s;return Pv(this,function(a){switch(a.label){case 0:return i&&i.global?(t(gy.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Ov(Ov({},r),{send_to:o}),t(gy.EVENT,n,s),a.label=3;case 3:return[2]}})})})(Ay,xy[n],t,e,r).catch(function(t){return my.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Nv(this,void 0,void 0,function(){var i;return Pv(this,function(o){switch(o.label){case 0:return r&&r.global?(t(gy.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(gy.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(Ay,xy[n],t,e).catch(function(t){return my.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Nv(this,void 0,void 0,function(){var i;return Pv(this,function(o){switch(o.label){case 0:return r&&r.global?(t(gy.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(gy.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(Ay,xy[n],t,e).catch(function(t){return my.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s,a,u;return Pv(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(gy.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(gy.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(Ay,xy[n],t,e).catch(function(t){return my.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Nv(this,void 0,void 0,function(){var n;return Pv(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(xy[n],t).catch(function(t){return my.error(t)})},INTERNAL:{delete:function(){return delete xy[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Ly,EventName:vy,isSupported:My})),t.INTERNAL.registerComponent(new em("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(QP){throw _y.create("interop-component-reg-failed",{reason:QP})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(Am),Am.registerVersion("firebase","8.2.6","app"),(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function T(t,e,n){this.code=k+t,this.message=e||x[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,k="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}A=N("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(R,D),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new M(function(){return new q},function(t){t.reset()});function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},$=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function W(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var lt=ct.userAgent;if(lt){Z=lt;break t}}Z=""}function ht(t){return at(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Et&&e||"",this.b=_t}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,_t={},Et={};function It(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){s.console&&s.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===xt?t:""}function Tt(t){return t instanceof St&&t.constructor===St?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=bt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new St(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))}))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Ot(t,e){this.a=e===jt?t:""}function Nt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Ot(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Pt.test(e[1])?new Ot(t,jt):null}return t}function Mt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,jt))}var jt={},Vt=new Ot("about:invalid#zClosurez",jt);function Ft(t,e,n){this.a=n===Ut?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function qt(t,e,n,r){return t=t instanceof Ot?t:Mt(t),e=e||s,n=n instanceof yt?bt(n):n||"",e.open(Nt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Gt,$t,Kt=ht("Opera"),Wt=ht("Trident")||ht("MSIE"),Qt=ht("Edge"),Yt=Qt||Wt,Xt=ht("Gecko")&&!(at(Z.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Zt=at(Z.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=($t=Z,Xt?/rv:([^\);]+)(\)|;)/.exec($t):Qt?/Edge\/([\d\.]+)/.exec($t):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($t):Zt?/WebKit\/(\S+)/.exec($t):Kt?/(?:Version)[ \/]?(\S+)/.exec($t):void 0);if(ee&&(te=ee?ee[1]:""),Wt){var ne=Jt();if(null!=ne&&ne>parseFloat(te)){Gt=String(ne);break t}}Gt=te}var re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=J(String(Gt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var oe=s.document&&Wt&&(Jt()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch($t){}var se=!Wt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}H(s?X(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout(function(){throw t},0)}function ge(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ve||(le(),ve=!0),me.add(t,e)}var ve=!1,me=new V;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){pe(e)}j(F,t)}ve=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,function(t){De(n,_e,t)},function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(QP){}De(n,Ee,t)})}catch(r){De(this,Ee,r)}}var we=0,_e=2,Ee=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new M(function(){return new Ie},function(t){t.reset()});function Te(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof be)return t;var e=new be(l);return De(e,_e,t),e}function Ae(t){return new be(function(e,n){n(t)})}function ke(t,e,n){Re(t,e,n,null)||ge(_(e,t))}function xe(t){return new be(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,Ee,e)))}t.c=null}else De(t,Ee,e)}function Ne(t,e){t.b||t.a!=_e&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Te(null,null,null);return i.a=new be(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Ne(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Ue||function(t,e){t.g=!0,ge(function(){t.g&&Fe.call(null,e)})}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return Ne(t,Te(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ge(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(QP){Fe.call(null,QP)}j(Se,e)}function Ve(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ue(t);ge(function(){Oe(this,e)},this)}},t.$c=function(t){this.a=we,De(this,_e,t)},t.ad=function(t){this.a=we,De(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Ue(t){D.call(this,t)}function qe(){0!=Be&&(He[g(this)]=this),this.xa=this.xa,this.pa=this.pa}I(Ue,D),Ue.prototype.name="cancel";var Be=0,He={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=g(t);if(0!=Be&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},$e=!Wt||9<=Number(oe),Ke=Wt&&!ie("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ye,Qe);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),Je=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new tn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?_n(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Ze]?En(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=bn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&fn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ye(e,this))}function mn(t){return(t=t[sn])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){qe.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&rn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(d(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Tn(t){var e=null;return new be(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Cn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(wn,qe),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;vt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=kn.prototype).W=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Ln(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function Dn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,$n)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Fn(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,$n=/[#\?@]/g,Kn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Zn(t,e){return Qn(t),e=er(t,e),On(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),ir(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Y(e,this.a.get(er(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(sr,function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e}),'"')}function ur(){var t=Ar();return Wt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function cr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Lt(t)||Vt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||s.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Sr(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Lt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Mt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Nt(e),s&&(Yt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ft(t=(r=It())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be(function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))}).o(function(e){throw hn(window,"load",t),e})}function yr(t){return t=t||Ar(),!("file:"!==Pr()&&"ionic:"!==Pr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function _r(){return Am.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Am.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=_r();return"ReactNative"===t||"Node"===t}var Ir="Firefox";function Sr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Ir:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Sr(i=Ar()):"Worker"===r&&(r=Sr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=s.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!s.indexedDB}catch(n){return wr()&&!!s.indexedDB}return!1}function Or(){return(Nr()||"chrome-extension:"===Pr()||yr())&&!Er()&&xr()&&!wr()}function Nr(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return s.location&&s.location.protocol||null}function Dr(t){return!fr(t=t||Ar())&&Sr(t)!=Ir}function Rr(t){return void 0===t?null:nr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Sr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=_r(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}Ur.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==Pr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function $r(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Kr.abcd}catch($t){zr=!1}function Wr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function Zr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ni]),Wr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Jr(t){try{var e=new ii(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Zr.call(this,t),Wr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Jr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[vi]=n||null,e[di]=r):(e[pi]=r||null,e[vi]=r||null,e[di]=n||null),e[gi]=t||null,Wr(this,yi,i),Wr(this,mi,Xr(e))}I(ii,Zr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",gi="multiFactorInfo",vi="previousEmail",mi="data",yi="operation";function bi(t){var e=jn(t=Vn(t),wi)||null,n=jn(t,_i)||null,r=jn(t,Si)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+_i+"and "+Si+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ei)||null,languageCode:jn(t,Ii)||null,tenantId:jn(t,Ti)||null})}var wi="apiKey",_i="oobCode",Ei="continueUrl",Ii="languageCode",Si="mode",Ti="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new bi(t)}catch(e){return null}}function ki(t){var e=t[Di];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Pi])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(e=t[Ni])&&"boolean"!=typeof e)throw new T("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Oi="dynamicLinkDomain",Ni="handleCodeInApp",Pi="iOS",Di="url",Ri="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Ui(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function $i(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Ki(t){var e={};e["facebook.com"]=Zi,e["google.com"]=to,e["github.com"]=Ji,e["twitter.com"]=eo;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Yi(t)}catch(r){}return null}var Wi="idToken",Qi="providerId";function Yi(t){var e=t[Qi];if(!e&&t[Wi]){var n=qi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Xi(t){Yi.call(this,t),Wr(this,"profile",Xr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function no(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}I(Xi,Yi),I(Zi,Xi),I(Ji,Xi),I(to,Xi),I(eo,Xi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then(function(t){if(t[Ws]){var n=qi(t[Ws]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t})}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=($i(t)||{}).Ja||null,this.ob=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function mo(t){go.call(this,t,zi),this.a=[]}function yo(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){mo.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function So(){go.call(this,"twitter.com",Hi)}function To(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function ko(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Oo(e)))throw new T("argument-error","Invalid email link!");return new Co(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ai(t=no(t)))&&t.operation===ai?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Ro(t){try{this.a=t||Am.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new No({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return To(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new ho(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function jo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return Ce(this.a?this.a:this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},uo.prototype.ka=function(t){return ga(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,va(t,n)},uo.prototype.c=function(t,e){return ao(ma(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return ga(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,va(t,n)},ho.prototype.c=function(t,e){return ao(ma(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Ib=pt(t),this},I(vo,go),I(mo,go),mo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},I(yo,mo),Wr(yo,"PROVIDER_ID","facebook.com"),Wr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(wo,mo),Wr(wo,"PROVIDER_ID","github.com"),Wr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Eo,mo),Wr(Eo,"PROVIDER_ID","google.com"),Wr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),I(So,go),Wr(So,"PROVIDER_ID","twitter.com"),Wr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Za(t,Ta,{email:this.a,oobCode:this.f}):Za(t,Ka,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Za(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):Za(t,Fa,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return ao(this.ka(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(ko,{PROVIDER_ID:"password"}),Qr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Do(this))},No.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Za(t,Qa,n)},No.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",ao(t=Za(t,Ya,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Ro.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then(function(t){return function(t,e){return Za(t,qa,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==oo?i.Ha().then(function(e){return function(t,e){return Za(t,Ba,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Za(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Ro,{PROVIDER_ID:"phone"}),Qr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Bo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function zo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new zo(e,n,t.message)}return null}function $o(){}function Ko(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(QP){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function ts(t,e){this.name=t,this.value=e}I(Ho,T),I(zo,T),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},zo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,I(Ko,$o),Ko.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Ko,I(Qo,$o),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},ts.prototype.toString=function(){return this.name};var es=new ts("SEVERE",1e3),ns=new ts("WARNING",900),rs=new ts("CONFIG",700),is=new ts("FINE",500);function os(t){return t.c?t.c:t.a?os(t.a):(L("Root logger has no level set."),null)}Jo.prototype.log=function(t,e,n){if(t.value>=os(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ss={},as=null;function us(t){var e;if(as||(as=new Jo(""),ss[""]=as,as.c=rs),!(e=ss[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ss[t]=e}return e}function cs(t,e){t&&t.log(is,e,void 0)}function ls(t){this.f=t}function hs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=us("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ls,$o),ls.prototype.a=function(){return new hs(this.f)},ls.prototype.b=function(t){return function(){return t}}({}),I(hs,wn);var fs=0;function ds(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ps(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){wn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ms,this.u=this.S=!1}(t=hs.prototype).open=function(t,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ps(this)),this.readyState=fs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ds(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ps(this):gs(this),3==this.readyState&&ds(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ps(this))},t.sc=function(t){this.a&&(this.response=t,ps(this))},t.Ua=function(t){var e=this.i;e&&e.log(ns,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ps(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ns,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ns,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(vs,wn);var ms="";vs.prototype.b=us("goog.net.XhrIo");var ys=/^https?$/i,bs=["POST","PUT"];function ws(t){return"content-type"==t.toLowerCase()}function _s(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),Ss(t)}function Es(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Is(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Cs(t)&&2==As(t))cs(t.b,ks(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){cs(t.b,ks(t,"Request complete")),t.c=!1;try{var e,n=As(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Nn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ys.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(l){cs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+As(t)+"]",Es(t)}}finally{Ss(t)}}}function Ss(t,e){if(t.a){Ts(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(QP){(t=t.b)&&t.log(es,"Problem encountered resetting onreadystatechange: "+QP.message,void 0)}}}function Ts(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function As(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function ks(t,e){return e+" ["+t.R+" "+t.l+" "+As(t)+"]"}function xs(t){var e=Us;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Os(t,e,n){t.a=!0,t.c=n,t.f=!e,Rs(t)}function Ns(t){if(t.a){if(!t.v)throw new Ls(t);t.v=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Rs(t)}function Ds(t){return $(t.g,function(t){return d(t[1])})}function Rs(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=Vs[e];n&&(s.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof xs?(Ps(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new js(e),Vs[e.a]=e,t.h=e.a)}function Ls(){D.call(this)}function Ms(){D.call(this)}function js(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cs(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(cs(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),vs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Is(this):this.Jc())},t.Jc=function(){Is(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ms:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(es,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return cs(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ms(this),Ns(this),Os(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Os(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new be(function(t,e){r=t,i=e});return Ps(this,r,function(t){t instanceof Ms?o.cancel():i(t)}),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,I(Ls,D),Ls.prototype.message="Deferred has already fired",Ls.prototype.name="AlreadyCalledError",I(Ms,D),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",js.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function Fs(t){var e={},n=e.document||document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new xs(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){qs(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ns(a),Os(a,!1,t)},h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qs(i,e.xd||!1,l),Ns(a),Os(a,!0,null))},i.onerror=function(){qs(i,!0,l);var t=new zs(Bs,"Error while loading script "+r);Ns(a),Os(a,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Us(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qs(t,!0,this.Ma)}}function qs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Bs=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Gs(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qs,this.g=pt(t.secureTokenHeaders||Ys),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Xs,this.a=pt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=s.XMLHttpRequest||n&&Am.INTERNAL.node&&Am.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ls(self):Er()?new Gs(n):new Qo,this.b=null}I(zs,D),I(Gs,$o),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var Ks,Ws="idToken",Qs=new Ur(3e4,6e4),Ys={"Content-Type":"application/x-www-form-urlencoded"},Xs=new Ur(3e4,6e4),Zs={"Content-Type":"application/json"};function Js(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ta(t,e){e&&(t.l=ea("https://securetoken.googleapis.com/v1/token",e),t.h=ea("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ea("https://identitytoolkit.googleapis.com/v2/",e))}function ea(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function na(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ra(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t="Chrome"!=Sr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&oe&&!(9<oe))})()||wr()?t=w(t.u,t):(Ks||(Ks=new be(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[oa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(Fs(Ct(ia,{onload:oa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,a)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new vs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}_n(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return cs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),En(a,"ready",function(){u&&clearTimeout(u),ze(this)}),En(a,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qo),t.a.onreadystatechange=w(t.Vb,t);try{cs(t.b,ks(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return cs(t.b,ks(t,"Error opening Xhr: "+a.message)),void _s(t,a)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=An(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ws,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ts(t),0<t.g&&(t.u=function(t){return Wt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),cs(t.b,ks(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),cs(t.b,ks(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){cs(t.b,ks(t,"Send error: "+a.message)),_s(t,a)}}(a,t,n,r,i)};var ia=new yt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),oa="__fcb"+Math.floor(1e6*Math.random()).toString();function sa(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function aa(t){"email"in t&&sa(t)}function ua(t){if(!t[Ws]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function ca(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Ks.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.zb=function(){return Za(this,Ua,{})},$s.prototype.Bb=function(t,e){return Za(this,Va,{idToken:t,email:e})},$s.prototype.Cb=function(t,e){return Za(this,Fa,{idToken:t,password:e})};var la={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ha(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function fa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function da(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function pa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=Ja(t.errorMessage)),e)throw e;ua(t)}function ga(t,e){return e.returnIdpCredential=!0,Za(t,Ha,e)}function va(t,e){return e.returnIdpCredential=!0,Za(t,Ga,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Za(t,za,e)}function ya(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=$s.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(la,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Za(this,Va,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Za(this,Da,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Za(this,Oa,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Za(this,Na,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Za(this,Pa,t)},t.fb=function(t){return Za(this,Wa,t)},t.nb=function(t,e){return Za(this,Ma,{oobCode:t,newPassword:e})},t.Ra=function(t){return Za(this,wa,{oobCode:t})},t.jb=function(t){return Za(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:ya,Z:"email",B:!0},wa={endpoint:"resetPassword",A:ya,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},_a={endpoint:"signupNewUser",A:function(t){if(sa(t),!t.password)throw new T("weak-password")},G:ua,V:!0,B:!0},Ea={endpoint:"createAuthUri",B:!0},Ia={endpoint:"deleteAccount",N:["idToken"]},Sa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ta={endpoint:"emailLinkSignin",N:["email","oobCode"],A:sa,G:ua,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:sa,G:ua,V:!0},Aa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ha,G:ua,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ha,G:ua,B:!0,Na:!0},xa={endpoint:"getAccountInfo"},Oa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");sa(t)},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");sa(t)},Z:"email",B:!0},Ra={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},La={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ma={endpoint:"resetPassword",A:ya,Z:"email",B:!0},ja={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:aa,V:!0},Fa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(aa(t),!t.password)throw new T("weak-password")},G:ua,V:!0},Ua={endpoint:"signupNewUser",G:ua,V:!0,B:!0},qa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ba={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:fa,Ya:da,G:pa,V:!0,B:!0},za={endpoint:"verifyAssertion",A:fa,Ya:da,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Ja(t.errorMessage);ua(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(fa(t),!t.idToken)throw new T("internal-error")},Ya:da,G:pa,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ua,V:!0,B:!0},Ka={endpoint:"verifyPassword",A:function(t){if(sa(t),!t.password)throw new T("wrong-password")},G:ua,V:!0,B:!0},Wa={endpoint:"verifyPhoneNumber",A:ca,G:ua,B:!0},Qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ca(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ua(t)}},Ya={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ca,G:ua,B:!0},Xa={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ws]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Vn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",E().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new be(function(e,n){ra(t,a.toString(),function(t){t?t.error?n(tu(t,o||{})):e(t):n(new T("network-request-failed"))},r,u?void 0:nr(Lr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]})}function Ja(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function eu(t){this.b=t,this.a=null,this.rb=function(t){return(ou||(ou=new be(function(t,e){function n(){Fr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ru.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ce(Fs(r=Ct(nu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ou=null,t}))).then(function(){return new be(function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},iu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var nu=new yt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Ur(3e4,6e4),iu=new Ur(5e3,15e3),ou=null;function su(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function au(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return Am.app(t).auth().Ga()}catch(e){return[]}}function cu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function lu(t){var e=cr();return function(t){return Za(t,Ra,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(cr())})}function hu(t){return t.m||(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=uu(t.b),i=new su(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new eu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)})),t.m}function fu(t){return t.l||(t.C=t.c?Cr(t.c,uu(t.b)):null,t.l=new $s(t.g,N(t.i),t.C),t.f&&ta(t.l,t.f)),t.l}function du(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new au(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.yb(l).toString()}function pu(t){if(this.a=t||Am.INTERNAL.reactNative&&Am.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gu(t){this.b=t,this.a={},this.f=w(this.c,this)}su.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},au.prototype.yb=function(t){return this.h=t,this},au.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Am.app(this.c).auth().la()}catch(a){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),dt(e)||Mn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(s=uu(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=cu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return hu(t).then(function(){return function(t,e){return t.rb.then(function(){return new be(function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new be(function(e){return function n(){Tn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Tn(n).then(function(){e(r)})})},t.Xb=function(){var t=Ar();return!Dr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new T("popup-blocked"));if(s&&!Dr())return this.ma().o(function(e){dr(t),i(e)}),r(),Ce();this.a||(this.a=lu(fu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){jo(n),s||lr(du(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=lu(fu(this)));var i=this;return this.a.then(function(){jo(e),lr(du(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return hu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,function(e){return e==t})},(t=pu.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return Ce(this.a.setItem(t,Rr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,mu=[];function yu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Eu(t,c),e}).o(function(e){throw Eu(t,c),e})}function Eu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Iu(){if(!Au())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(H(mu,function(n){n.b==t&&(e=n)}),!e){var e=new gu(t);mu.push(e)}return e}(),yu(this.v,"keyChanged",function(e,n){return Pu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),yu(this.v,"ping",function(){return Ce(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new wu(new bu(e)),_u(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Su(t){return new be(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Su(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Tu(t){return t.i||(t.i=Su(t)),t.i}function Cu(t,e){var n=0;return new be(function r(i,o){Tu(t).then(e).then(i).o(function(e){if(!(3<++n))return Tu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Au(){try{return!!s.indexedDB}catch($t){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new be(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Nu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Pu(t){return Tu(t).then(function(t){var e=ku(xu(t,!1));return e.getAll?Ou(e.getAll()):new be(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ru(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(Au()){var t=jr(),r="__sak"+t;return vu||(vu=new Iu),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Lu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==_r();if(!(t=ju()||t&&Am.INTERNAL.node&&Am.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=ju()||Am.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var t=s.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function Fu(){if(!function(){var t="Node"==_r();if(!(t=Uu()||t&&Am.INTERNAL.node&&Am.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Uu()||Am.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=s.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=zu,t.Node=Gu,t.ReactNative=$u,t.Worker=Ku,this.a=t[_r()]}gu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Eu(this,this.a[0]);this.b=!0},(t=Iu.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,function(e){return Ou((e=ku(xu(e,!0))).get(t))}).then(function(i){return Cu(n,function(o){if(o=ku(xu(o,!0)),i)return i.value=e,Ou(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ou(o.add(s))})}).then(function(){return n.c[t]=e,Nu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Cu(this,function(e){return Ou(ku(xu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Cu(this,function(r){return n=!0,e.b++,Ou(ku(xu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Nu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Pu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Ru.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Lu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&un(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Vu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Ce().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Bu,Hu,zu={F:Mu,bb:Fu},Gu={F:Mu,bb:Fu},$u={F:pu,bb:Vu},Ku={F:Mu,bb:Vu},Wu={rd:"local",NONE:"none",td:"session"};function Qu(){var t=!(Vr(Ar())||!br()),e=Dr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},Bu||(Bu=new qu),t=Bu;try{this.g=!ur()&&Hr()||!s.indexedDB?new t.a.F:new Ru(wr()?new Lu:new t.a.F)}catch(r){this.g=new Lu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Lu}this.v=new Lu,this.f=w(this.Yb,this),this.b={}}function Yu(){return Hu||(Hu=new Qu),Hu}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Zu(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).U(n)}function tc(t){t.c&&(clearInterval(t.c),t.c=null)}function ec(t){this.a=t,this.b=Yu()}(t=Qu.prototype).get=function(t,e){return Xu(this,t.F).get(Zu(t,e))},t.set=function(t,e,n){var r=Zu(t,n),i=this,o=Xu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Zu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),dt(this.a)&&(Xu(this,"local").ca(this.f),this.h||(ur()||!Hr())&&s.indexedDB||!this.l||function(t){tc(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zu(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Xu(this,"local").ia(this.f),tc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xu(this,"local").ia(this.f):tc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Wt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var nc,rc={name:"authEvent",F:"local"};function ic(){this.a=Yu()}function oc(t,e){this.b=sc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===nc&&(nc=s.Int32Array?new Int32Array(dc):dc),this.reset()}I(oc,function(){this.b=-1});for(var sc=64,ac=sc-1,uc=[],cc=0;cc<ac;cc++)uc[cc]=0;var lc=Y(128,uc);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|nc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}oc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var dc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pc(){oc.call(this,8,gc)}I(pc,oc);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ic,this.g=new ec(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new T("invalid-cordova-configuration",t)}function yc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function bc(t){return t.f||(t.f=t.ma().then(function(){return new be(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(jn(o=Vn(i),"firebaseError")||null))?C(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}yc(t,i)})}var n=new Vo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then(function(){return wc(t).then(function(){r||yc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Uo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function wc(t){var e=null;return function(t){return t.b.get(rc,t.a).then(function(t){return Fo(t)})}(t.g).then(function(n){return e=n,Ju((n=t.g).b,rc,n.a)}).then(function(){return e})}function _c(t){this.a=t,this.b=Yu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then(function(){return new be(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ce().then(function(){return jo(e),bc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Vo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new pc;fc(e,t),t=[];var n=8*e.g;fc(e,lc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=du(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(rc,a.w(),e)}).then(function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new be(function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){qr()&&c()},o.addEventListener("resume",c=function(){a||(a=Tn(2e3).then(function(){e(new T("redirect-cancelled-by-user"))}))},!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return wc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),bc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new T("no-auth-event")),t(e))})},t.Sa=function(t){Q(this.b,function(e){return e==t})};var Ec={name:"pendingRedirect",F:"session"};function Ic(t){return Ju(t.b,Ec,t.a)}function Sc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Fc,this.C=new zc,this.g=new _c(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tc(this.D,this.v,this.m,A,this.J)}function Tc(t,e,n,r,i){var o=Am.SDK_VERSION||null;return yr()?new vc(t,e,n,o,r,i):new cu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ac(t){t.a.Xb()&&Cc(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Tb()||Uc(t.b)}function kc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ec,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ic(t.g).then(function(){Cc(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Ac(t)}).o(function(){Ac(t)})}function xc(t,e){Q(t.h,function(t){return t==e})}Sc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Tc(this.D,this.v,this.m,null,this.J),this.i={}},Sc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=E())),e=!0;break}}return Uc(this.b),e};var Oc=new Ur(2e3,1e4),Nc=new Ur(3e4,6e4);function Pc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Rc(t,e,n,r,i){var o;return function(t){return t.b.set(Ec,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Dc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Ic(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new be(function(){}):Ic(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Lc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Oc.get())}Sc.prototype.qa=function(){return this.b.qa()};var Mc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=jc(e,n,r);return Mc[i]||(Mc[i]=new Sc(t,e,n,r)),Mc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function qc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Bc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bc(t,n):Bc(t,{user:null}),t.f=[],t.c=[]}function zc(){}function Gc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function $c(t,e){this.a=e,Wr(this,"verificationId",t)}function Kc(t,e,n,r){return new Ro(t).fb(e,n).then(function(t){return new $c(t,r)})}function Wc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Xc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;H(e[Yc]||[],function(t){(t=Jr(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Hc(t,a,e,null)}).o(function(e){Hc(t,a,null,e)})}(this,t,e):Ae(new T("invalid-auth-event")):(Hc(this,!1,null,null),Ce())}else Ae(new T("invalid-auth-event"))},Fc.prototype.qa=function(){var t=this;return new be(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Nc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},zc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Yc="mfaInfo",Xc="mfaPendingCredential";function Zc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Wr(this,"resolver",this.b)}function Jc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zc(e,t.serverResponse,n,t.message)}catch(r){}return null}function tl(){}function el(t){Wr(this,"factorId",t.fa),this.a=t}function nl(t){if(el.call(this,t),this.a.fa!=Ro.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function il(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),ol(this,n)}function ol(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return qr()||!t?Ce():new be(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){al(t,!0)}).o(function(e){t.i(e)&&al(t,!1)})}function ul(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function cl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ll(t,e){t.b=qi(e[Ws]||""),t.a=e.refreshToken,cl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function hl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function fl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function dl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Am.SDK_VERSION?Cr(Am.SDK_VERSION):null;this.a=new $s(this.l,N(A),r),t.emulatorConfig&&ta(this.a,t.emulatorConfig),this.b=new ul(this.a),_l(this,e[Ws]),ll(this.b,e),Wr(this,"refreshToken",this.b.a),Sl(this,n||{}),wn.call(this),this.R=!1,this.s&&Or()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new sl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ta(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){vl(i,t.f)},this.ba=null,this.O=new il(this,n),Wr(this,"multiFactor",this.O)}function pl(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&un(e,"languageCodeChanged",t.Oa)}function gl(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&un(e,"emulatorConfigChanged",t.Aa)}function vl(t,e){t.$=e,na(t.a,Am.SDK_VERSION?Cr(Am.SDK_VERSION,t.$):null)}function ml(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&un(e,"frameworkChanged",t.Ba)}function yl(t){try{return Am.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function bl(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),un(t,"tokenChanged",t.aa))}function wl(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function _l(t,e){t.za=e,Wr(t,"_lat",e)}function El(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then(function(){return t})}function Il(t){t.i&&!t.R&&(t.R=!0,kc(t.i,t))}function Sl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Tl(){}function Cl(t){return Ce().then(function(){if(t.D)throw new T("app-deleted")})}function Al(t){return G(t.providerData,function(t){return t.providerId})}function kl(t,e){e&&(xl(t,e.providerId),t.providerData.push(e))}function xl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Nl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new hl(t.a,t.b)}(e.metadata):new hl),H(e.providerData,function(e){kl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),ol(t.O,e.O.b))}function Pl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Za(t.a,xa,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function Dl(t,e){e[Ws]&&t.za!=e[Ws]&&(ll(t.b,e),t.dispatchEvent(new rl("tokenChanged")),_l(t,e[Ws]),Ol(t,"refreshToken",t.b.a))}function Rl(t,e){return Pl(t).then(function(){if(K(Al(t),e))return El(t).then(function(){throw new T("provider-already-linked")})})}function Ll(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ml(t,e){return Dl(t,e),t.reload().then(function(){return t})}function jl(t,e,n,r,i){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=$i(n.providerId),s=jr(t.uid+":::"),a=null;(!Dr()||br())&&t.s&&n.isOAuthProvider&&(a=du(t.s,t.l,t.m,e,n,null,s,Am.SDK_VERSION||null,null,null,t.tenantId));var u=pr(a,o&&o.ua,o&&o.ta);return r=r().then(function(){if(Fl(t),!i)return t.I().then(function(){})}).then(function(){return Pc(t.i,u,e,n,s,!!a,t.tenantId)}).then(function(){return new be(function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Lc(t.i,t,e,u,s)})}).then(function(t){return u&&dr(u),t?Yr(t):null}).o(function(t){throw u&&dr(u),t}),Ul(t,r,i)}function Vl(t,e,n,r,i){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=jr(t.uid+":::");return r=r().then(function(){if(Fl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,El(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e}).then(function(){return Rc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return zl(t.ha);throw o}).then(function(){if(o)throw o}),Ul(t,r,i)}function Fl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Ul(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new rl("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){W(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),yl(t),w(t.jc,t))),n||e})}function ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ws]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new dl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&kl(i,Yr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Bl(t){this.a=t,this.b=Yu()}Qc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Yc],delete n[Xc],vt(n,t),e.g(n)})},I(Zc,T),tl.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Do(t.a)}),Za(e,Aa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Za(e,ka,n)})}(this,t,e)},I(el,tl),I(nl,el),I(rl,Qe),(t=il.prototype).yc=function(t){ol(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=Jr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Dl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Za(r,Xa,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return ol(e,r),Dl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},sl.prototype.start=function(){this.a=this.c,al(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ul.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ul.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new be(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(tu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,cl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(dl,wn),dl.prototype.wa=function(t){this.ya=t,Js(this.a,t)},dl.prototype.la=function(){return this.ya},dl.prototype.Ga=function(){return X(this.$)},dl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(dl.prototype,"providerId","firebase"),(t=dl.prototype).reload=function(){var t=this;return Ul(this,Cl(this).then(function(){return Pl(t).then(function(){return El(t)}).then(Tl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Wc(t)})},t.I=function(t){var e=this;return Ul(this,Cl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(_l(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Sl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)kl(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{hd:t}))},t.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Ul(this,t.c(this.a,this.uid).then(function(t){return Dl(e,t),n=Ll(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Ul(this,Rl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ll(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Ul(this,Rl(this,"phone").then(function(){return Kc(yl(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Ul(this,Ce().then(function(){return Kc(yl(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Ul(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Dl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Ul(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Dl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cl(this);var e=this;return Ul(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dl(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),El(e)}).then(Tl))},t.cd=function(t){var e=this;return Ul(this,Pl(this).then(function(n){return K(Al(e),t)?function(t,e,n){return Za(t,Sa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Al(e),function(t){n[t]||xl(e,t)}),n[Ro.PROVIDER_ID]||Wr(e,"phoneNumber",null),El(e)}):El(e).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var t=this;return Ul(this,this.I().then(function(e){return Za(t.a,Ia,{idToken:e})}).then(function(){t.dispatchEvent(new rl("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");pl(t,null),gl(t,null),ml(t,null),t.J=[],t.D=!0,wl(t),Wr(t,"refreshToken",null),t.i&&xc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return jl(this,"linkViaPopup",t,function(){return Rl(e,t.providerId).then(function(){return El(e)})},!1)},t.Nc=function(t){return jl(this,"reauthViaPopup",t,function(){return Ce()},!0)},t.Fc=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return Rl(e,t.providerId)},!1)},t.Oc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ll(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,Ce().then(function(){return ao(ma(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ll(i,t,"reauthenticate"),Dl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Ul(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Vi(new ki(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Ul(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Vi(new ki(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Ul(this,t=ao(Ce(t),n.uid).then(function(t){return e=Ll(n,t,"reauthenticate"),Dl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function zl(t){return Ju(t.b,Hl,t.a)}function Gl(t){this.a=t,this.b=Yu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=Zu(e,n),i=Xu(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Kl,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,$l(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,w(this.g,this))}function $l(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Ju(t.b,Wl(Wu[n]),t.a));return r.push(Ju(t.b,Kl,t.a)),function(t){return new be(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],_(o,a),s);else e(i)})}(r)}Gl.prototype.g=function(){var t=this,e=Wl("local");Zl(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return $l(t,"local").then(function(){t.c=e})})})};var Kl={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function Ql(t,e){return Zl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Yl(t){return Zl(t,function(){return Ju(t.b,t.c,t.a)})}function Xl(t,e,n){return Zl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ql(t||{})})})}function Zl(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Wr(this,"settings",new Gc),Wr(this,"app",t),!ah(this).options||!ah(this).options.apiKey)throw new T("invalid-api-key");t=Am.SDK_VERSION?Cr(Am.SDK_VERSION):null,this.a=new $s(ah(this).options&&ah(this).options.apiKey,N(A),t),this.R=[],this.s=[],this.O=[],this.hb=Am.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=Am.INTERNAL.createSubscribe(w(this.Ac,this)),oh(this,null),this.i=new Gl(ah(this).options.apiKey+":"+ah(this).name),this.D=new Bl(ah(this).options.apiKey+":"+ah(this).name),this.$=hh(this,function(t){var e=ah(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then(function(t){return t&&e&&(t.authDomain=e),ql(t||{})})}(t.D,ah(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),zl(t.D)});return hh(t,e)}(t).then(function(){return Xl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Ql(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Yl(t.i)})):null}).then(function(e){oh(t,e||null)});return hh(t,n)}(this)),this.h=hh(this,function(t){return t.$.then(function(){return ih(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=ah(t).options.authDomain,n=ah(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,ah(t).name,t.P),kc(t.b,t),uh(t)&&Il(uh(t)),t.m){Il(t.m);var r=t.m;r.wa(t.la()),pl(r,t),vl(r=t.m,t.J),ml(r,t),ta((r=t.m).a,t.P),gl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function th(t){Qe.call(this,"languageCodeChanged"),this.h=t}function eh(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function nh(t){Qe.call(this,"frameworkChanged"),this.f=t}function rh(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function ih(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=rh(t).then(function(){return t.b.qa()}).then(function(t){return t?Yr(t):null});return hh(t,e)}function oh(t,e){uh(t)&&(function(t,e){Q(t.S,function(t){return t==e})}(uh(t),t.Ba),hn(uh(t),"tokenChanged",t.ya),hn(uh(t),"userDeleted",t.za),hn(uh(t),"userInvalidated",t.Aa),wl(uh(t))),e&&(e.S.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&bl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),pl(e,t),vl(e,t.J),ml(e,t),ta(e.a,t.P),gl(e,t))}function sh(t,e){var n=null,r=null;return hh(t,e.then(function(e){return n=Mo(e),r=Ki(e),function(t,e){var n={};return n.apiKey=ah(t).options.apiKey,n.authDomain=ah(t).options.authDomain,n.appName=ah(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new dl(t,e);return n&&(i.ha=n),r&&vl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return uh(t)&&e.uid==uh(t).uid?(Nl(uh(t),e),t.da(e)):(oh(t,e),Il(e),t.da(e))}).then(function(){lh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Yr({user:uh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ah(t){return t.app}function uh(t){return t.currentUser}function ch(t){return uh(t)&&uh(t)._lat||null}function lh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ch(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ch(t))}}function hh(t,e){return t.R.push(e),e.oa(function(){W(t.R,e)}),e}function fh(){}function dh(){this.a={},this.b=1e12}Gl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Au()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Zl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,$l(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},I(Jl,wn),I(th,Qe),I(eh,Qe),I(nh,Qe),(t=Jl.prototype).xb=function(t){return hh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Js(this.a,this.aa),this.dispatchEvent(new th(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ta(this.a,this.P),this.dispatchEvent(new eh(this.P))}},t.Gc=function(t){this.J.push(t),na(this.a,Am.SDK_VERSION?Cr(Am.SDK_VERSION,this.J):null),this.dispatchEvent(new nh(this.J))},t.Ga=function(){return X(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ah(this).options.apiKey,authDomain:ah(this).options.authDomain,appName:ah(this).name,currentUser:uh(this)&&uh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return sh(i,ga(i.a,o))})},t.Xc=function(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),r=jr(),i=null;(!Dr()||br())&&ah(this).options.authDomain&&t.isOAuthProvider&&(i=du(ah(this).options.authDomain,ah(this).options.apiKey,ah(this).name,"signInViaPopup",t,null,r,Am.SDK_VERSION||null,null,null,this.T(),this.P));var o=pr(i,n&&n.ua,n&&n.ta);return hh(this,n=rh(this).then(function(n){return Pc(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new be(function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Lc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&dr(o),t?Yr(t):null}).o(function(t){throw o&&dr(o),t}))},t.Yc=function(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return hh(this,rh(this).then(function(){return function(t){return Zl(t,function(){return t.b.set(Kl,t.c.F,t.a)})}(e.i)}).then(function(){return Rc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return ih(this).then(function(e){return t.b&&qc(t.b.b),e}).o(function(e){throw t.b&&qc(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=ah(this).options.apiKey,n.authDomain=ah(this).options.authDomain,n.appName=ah(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ws]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new dl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&vl(e,r),Nl(e,t),e}(t,n,e.D,e.Ga());return hh(this,this.h.then(function(){if(ah(e).options.apiKey!=t.l)return r.reload()}).then(function(){return uh(e)&&t.uid==uh(e).uid?(Nl(uh(e),t),e.da(t)):(oh(e,r),Il(r),e.da(r))}).then(function(){lh(e)}))},t.Ab=function(){var t=this;return hh(this,this.h.then(function(){return t.b&&qc(t.b.b),uh(t)?(oh(t,null),Yl(t.i).then(function(){lh(t)})):Ce()}))},t.Zc=function(){var t=this;return Xl(this.i,ah(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=uh(t)&&e){n=uh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nl(uh(t),e),uh(t).I();(uh(t)||e)&&(oh(t,e),e&&(Il(e),e.ha=t.D),t.b&&kc(t.b,t),lh(t))}})},t.da=function(t){return Ql(this.i,t)},t.mc=function(){lh(this),this.da(uh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return sh(e,Ce(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(uh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),hh(t,t.h.then(function(){!t.l&&K(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ch(t)))}))}(this,function(){t.next(uh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return hh(this,this.h.then(function(){return uh(e)?uh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return sh(e,Za(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return sh(n,Za(n.a,Ka,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return sh(n,Za(n.a,_a,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return sh(e,t.ka(e.a))})},t.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=uh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return sh(t,t.a.zb()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return uh(this)&&uh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&uh(this)&&bl(uh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&uh(this)&&wl(uh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),hh(this,this.h.then(function(){e.l||K(e.s,t)&&t(ch(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.ja),this.b&&(xc(this.b,this),qc(this.b.b)),Promise.resolve()},t.hc=function(t){return hh(this,function(t,e){return Za(t,Ea,{identifier:e,continueUri:Nr()?cr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.wb=function(t,e){var n=this;return hh(this,Ce().then(function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Ni+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return hh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return hh(this,this.a.Ra(t).then(function(t){return new oi(t)}))},t.jb=function(t){return hh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return hh(this,Ce().then(function(){return void 0===e||dt(e)?{}:Vi(new ki(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return hh(this,Kc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return hh(this,Ce().then(function(){var r=e||cr(),i=xo(t,r);if(!(r=Oo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)}))},fh.prototype.render=function(){},fh.prototype.reset=function(){},fh.prototype.getResponse=function(){},fh.prototype.execute=function(){};var ph=null;function gh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function mh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function yh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function wh(){}dh.prototype.render=function(t,e){return this.a[this.b.toString()]=new mh(t,e),this.b++},dh.prototype.reset=function(t){var e=gh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},dh.prototype.getResponse=function(t){return(t=gh(this,t))?t.getResponse():null},dh.prototype.execute=function(t){(t=gh(this,t))&&t.execute()},mh.prototype.getResponse=function(){return yh(this),this.b},mh.prototype.execute=function(){yh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},mh.prototype.delete=function(){yh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(bh,"FACTOR_ID","phone"),wh.prototype.g=function(){return ph||(ph=new dh),Ce(ph)},wh.prototype.c=function(){};var _h=null;function Eh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new yt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Ur(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new be(function(n,r){var i=setTimeout(function(){r(new T("network-request-failed"))},Sh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ce(Fs(Ct(Ih,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Eh.prototype.c=function(){this.b--};var Th=null;function Ch(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(_h||(_h=new wh),a=_h):(Th||(Th=new Eh),a=Th),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ah];this.a[Ah]=function(t){if(Nh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var l=this.a[kh];this.a[kh]=function(){if(Nh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,s);"function"==typeof t&&t()}}}var Ah="callback",kh="expired-callback",xh="sitekey",Oh="size";function Nh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ph(t,e){return t.h.push(e),e.oa(function(){W(t.h,e)}),e}function Dh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var r=!1;try{this.b=n||Am.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Am.SDK_VERSION?Cr(Am.SDK_VERSION,o):null,Ch.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(e){t=null}return t},o,N(A),r)}function Lh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,Ce().then(function(){if(Nr()&&!wr())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Za(t.s,La,{})}).then(function(e){t.a[xh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Ph(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Ph(this,this.render().then(function(e){return new be(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Rh,Ch);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Uh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Bh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Hh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return p(t)&&"string"==typeof t.uid}function Gh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function $h(t,e){for(var n in e){var r=e[n].name;t[r]=Qh(r,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Lh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=Qh(e,n,r)}function Qh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$h(Jl.prototype,{jb:{name:"applyActionCode",j:[jh("code")]},Ra:{name:"checkActionCode",j:[jh("code")]},nb:{name:"confirmPasswordReset",j:[jh("code"),jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[jh("email"),jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[jh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[jh("email"),Fh("actionCodeSettings")]},xb:{name:"setPersistence",j:[jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[jh("email"),jh("password")]},Vc:{name:"signInWithEmailLink",j:[jh("email"),jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof dl)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[jh("url"),Fh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[jh("code")]}}),Kh(Jl.prototype,{lc:{name:"languageCode",kb:Gh(jh(),qh(),"languageCode")},ti:{name:"tenantId",kb:Gh(jh(),qh(),"tenantId")}}),(Jl.Persistence=Wu).LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",$h(dl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},qb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},tb:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jh(null,!0)]},cd:{name:"unlink",j:[jh("provider")]},Bb:{name:"updateEmail",j:[jh("email")]},Cb:{name:"updatePassword",j:[jh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Db:{name:"updateProfile",j:[Fh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[jh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),$h($c.prototype,{confirm:{name:"confirm",j:[jh("verificationCode")]}}),Wh(so,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,Ao,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Gh(jh(),Fh(),"json")]),Wh(ko,"credential",function(t,e){return new Co(t,e)},[jh("email"),jh("password")]),$h(Co.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),$h(yo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Wh(yo,"credential",bo,[Gh(jh(),Fh(),"token")]),Wh(ko,"credentialWithLink",xo,[jh("email"),jh("emailLink")]),$h(wo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Wh(wo,"credential",_o,[Gh(jh(),Fh(),"token")]),$h(Eo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Wh(Eo,"credential",Io,[Gh(jh(),Gh(Fh(),qh()),"idToken"),Gh(jh(),qh(),"accessToken",!0)]),$h(So.prototype,{Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Wh(So,"credential",To,[Gh(jh(),Fh(),"token"),jh("secret",!0)]),$h(mo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},credential:{name:"credential",j:[Gh(jh(),Gh(Fh(),qh()),"optionsOrIdToken"),Gh(jh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),$h(ho.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),$h(uo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Wh(Ro,"credential",Lo,[jh("verificationId"),jh("verificationCode")]),$h(Ro.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,oo)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$h(No.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),$h(T.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),$h(zo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),$h(Ho.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),$h(Zc.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),$h(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),$h(il.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},jh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zh},jh(),"multiFactorInfoIdentifier")]}}),$h(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(bi,"parseLink",Ai,[jh("link")]),Wh(bh,"assertion",function(t){return new nl(t)},[Bh("phone")]),function(){if(void 0===Am||!Am.INTERNAL||!Am.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:so,Error:T};Wh(t,"EmailAuthProvider",ko,[]),Wh(t,"FacebookAuthProvider",yo,[]),Wh(t,"GithubAuthProvider",wo,[]),Wh(t,"GoogleAuthProvider",Eo,[]),Wh(t,"TwitterAuthProvider",So,[]),Wh(t,"OAuthProvider",mo,[jh("providerId")]),Wh(t,"SAMLAuthProvider",vo,[jh("providerId")]),Wh(t,"PhoneAuthProvider",Ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Jl)}}]),Wh(t,"RecaptchaVerifier",Rh,[Gh(jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Fh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Am.app.App)}}]),Wh(t,"ActionCodeURL",bi,[]),Wh(t,"PhoneMultiFactorGenerator",bh,[]),Am.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Am.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Am.registerVersion("@firebase/auth","0.16.3"),Am.INTERNAL.extendNamespace({User:dl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var jy=function(t,e){return(jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Vy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Fy,Uy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qy=qy||{},By=Uy||self;function Hy(){}function zy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gy(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $y="closure_uid_"+(1e9*Math.random()>>>0),Ky=0;function Wy(t,e,n){return t.call.apply(t.bind,arguments)}function Qy(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Yy(t,e,n){return(Yy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wy:Qy).apply(null,arguments)}function Xy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Zy(){return Date.now()}function Jy(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tb(){this.j=this.j,this.i=this.i}tb.prototype.j=!1,tb.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,$y)&&t[$y]||(t[$y]=++Ky)}(this)},tb.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var eb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},nb=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function rb(t){return Array.prototype.concat.apply([],arguments)}function ib(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ob(t){return/^[\s\xa0]*$/.test(t)}var sb,ab=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ub(t,e){return-1!=t.indexOf(e)}function cb(t,e){return t<e?-1:t>e?1:0}t:{var lb=By.navigator;if(lb){var hb=lb.userAgent;if(hb){sb=hb;break t}}sb=""}function fb(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function db(t){var e={};for(var n in t)e[n]=t[n];return e}var pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gb(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pb.length;o++)n=pb[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vb(t){return vb[" "](t),t}vb[" "]=Hy;var mb,yb,bb=ub(sb,"Opera"),wb=ub(sb,"Trident")||ub(sb,"MSIE"),_b=ub(sb,"Edge"),Eb=_b||wb,Ib=ub(sb,"Gecko")&&!(ub(sb.toLowerCase(),"webkit")&&!ub(sb,"Edge"))&&!(ub(sb,"Trident")||ub(sb,"MSIE"))&&!ub(sb,"Edge"),Sb=ub(sb.toLowerCase(),"webkit")&&!ub(sb,"Edge");function Tb(){var t=By.document;return t?t.documentMode:void 0}t:{var Cb="",Ab=(yb=sb,Ib?/rv:([^\);]+)(\)|;)/.exec(yb):_b?/Edge\/([\d\.]+)/.exec(yb):wb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(yb):Sb?/WebKit\/(\S+)/.exec(yb):bb?/(?:Version)[ \/]?(\S+)/.exec(yb):void 0);if(Ab&&(Cb=Ab?Ab[1]:""),wb){var kb=Tb();if(null!=kb&&kb>parseFloat(Cb)){mb=String(kb);break t}}mb=Cb}var xb={};function Ob(t){return function(t,e){var n=xb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ab(String(mb)).split("."),r=ab(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=cb(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||cb(0==s[2].length,0==a[2].length)||cb(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Nb=By.document&&wb&&(Tb()||parseInt(mb,10))||void 0,Pb=!wb||9<=Number(Nb),Db=wb&&!Ob("9"),Rb=function(){if(!By.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{By.addEventListener("test",Hy,e),By.removeEventListener("test",Hy,e)}catch(n){}return t}();function Lb(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Mb(t,e){if(Lb.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ib){t:{try{vb(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Lb.prototype.b=function(){this.defaultPrevented=!0},Jy(Mb,Lb);var jb={2:"touch",3:"pen",4:"mouse"};Mb.prototype.b=function(){Mb.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Db)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Vb="closure_listenable_"+(1e6*Math.random()|0),Fb=0;function Ub(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Fb,this.Y=this.Z=!1}function qb(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Bb(t){this.src=t,this.a={},this.b=0}function Hb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=eb(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function zb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Bb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=zb(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ub(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Gb="closure_lm_"+(1e6*Math.random()|0),$b={};function Kb(t,e,n,r,i){if(r&&r.once)return Qb(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Kb(t,e[o],n,r,i);return null}return n=rw(n),t&&t[Vb]?t.va(e,n,Gy(r)?!!r.capture:!!r,i):Wb(t,e,n,!1,r,i)}function Wb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Gy(i)?!!i.capture:!!i;if(s&&!Pb)return null;var a=ew(t);if(a||(t[Gb]=a=new Bb(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=tw,e=Pb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rb||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qb(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qb(t,e[o],n,r,i);return null}return n=rw(n),t&&t[Vb]?t.wa(e,n,Gy(r)?!!r.capture:!!r,i):Wb(t,e,n,!0,r,i)}function Yb(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Yb(t,e[o],n,r,i);else r=Gy(r)?!!r.capture:!!r,n=rw(n),t&&t[Vb]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=zb(o=t.a[e],n,r,i))&&(qb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ew(t))&&(e=t.a[e.toString()],t=-1,e&&(t=zb(e,n,r,i)),(n=-1<t?e[t]:null)&&Xb(n))}function Xb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Vb])Hb(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ew(e))?(Hb(n,t),0==n.b&&(n.src=null,e[Gb]=null)):qb(t)}}}function Zb(t){return t in $b?$b[t]:$b[t]="on"+t}function Jb(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Xb(t),n.call(r,e)}function tw(t,e){if(t.Y)return!0;if(!Pb){if(!e)t:{e=["window","event"];for(var n=By,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Jb(t,e=new Mb(e,this))}return Jb(t,new Mb(e,this))}function ew(t){return(t=t[Gb])instanceof Bb?t:null}var nw="__closure_events_fn_"+(1e9*Math.random()>>>0);function rw(t){return"function"==typeof t?t:(t[nw]||(t[nw]=function(e){return t.handleEvent(e)}),t[nw])}function iw(){tb.call(this),this.c=new Bb(this),this.J=this,this.C=null}function ow(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Lb(e,t);else if(e instanceof Lb)e.target=e.target||t;else{var i=e;gb(e=new Lb(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=sw(s,r,!0,e)&&i}if(i=sw(s=e.a=t,r,!0,e)&&i,i=sw(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=sw(s=e.a=n[o],r,!1,e)&&i}function sw(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Hb(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Jy(iw,tb),iw.prototype[Vb]=!0,(Fy=iw.prototype).addEventListener=function(t,e,n,r){Kb(this,t,e,n,r)},Fy.removeEventListener=function(t,e,n,r){Yb(this,t,e,n,r)},Fy.G=function(){if(iw.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qb(n[r]);delete e.a[t],e.b--}}this.C=null},Fy.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Fy.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var aw=By.JSON.stringify;function uw(){this.b=this.a=null}var cw,lw=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new fw},function(t){t.reset()});function hw(){var t=vw,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function fw(){this.next=this.b=this.a=null}function dw(t){By.setTimeout(function(){throw t},0)}function pw(t,e){cw||function(){var t=By.Promise.resolve(void 0);cw=function(){t.then(mw)}}(),gw||(cw(),gw=!0),vw.add(t,e)}uw.prototype.add=function(t,e){var n=lw.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},fw.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},fw.prototype.reset=function(){this.next=this.b=this.a=null};var gw=!1,vw=new uw;function mw(){for(var t;t=hw();){try{t.a.call(t.b)}catch(n){dw(n)}var e=lw;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}gw=!1}function yw(t,e){iw.call(this),this.b=t||1,this.a=e||By,this.f=Yy(this.Za,this),this.g=Zy()}function bw(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ww(t,e,n){if("function"==typeof t)n&&(t=Yy(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Yy(t.handleEvent,t)}return 2147483647<Number(e)?-1:By.setTimeout(t,e||0)}function _w(t){t.a=ww(function(){t.a=null,t.c&&(t.c=!1,_w(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Jy(yw,iw),(Fy=yw.prototype).aa=!1,Fy.M=null,Fy.Za=function(){if(this.aa){var t=Zy()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ow(this,"tick"),this.aa&&(bw(this),this.start()))}},Fy.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Zy())},Fy.G=function(){yw.X.G.call(this),bw(this),delete this.a};var Ew=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}jy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:_w(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(By.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(tb);function Iw(t){tb.call(this),this.b=t,this.a={}}Jy(Iw,tb);var Sw=[];function Tw(t,e,n,r){Array.isArray(n)||(n&&(Sw[0]=n.toString()),n=Sw);for(var i=0;i<n.length;i++){var o=Kb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Cw(t){fb(t.a,function(t,e){this.a.hasOwnProperty(e)&&Xb(t)},t),t.a={}}function Aw(){this.a=!0}function kw(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return aw(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Iw.prototype.G=function(){Iw.X.G.call(this),Cw(this)},Iw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Aw.prototype.info=function(){};var xw={},Ow=null;function Nw(){return Ow=Ow||new iw}function Pw(t){Lb.call(this,xw.Fa,t)}function Dw(t){var e=Nw();ow(e,new Pw(e,t))}function Rw(t,e){Lb.call(this,xw.STAT_EVENT,t),this.stat=e}function Lw(t){var e=Nw();ow(e,new Rw(e,t))}function Mw(t){Lb.call(this,xw.Ga,t)}function jw(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return By.setTimeout(function(){t()},e)}xw.Fa="serverreachability",Jy(Pw,Lb),xw.STAT_EVENT="statevent",Jy(Rw,Lb),xw.Ga="timingevent",Jy(Mw,Lb);var Vw={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Fw={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Uw(){}function qw(){}Uw.prototype.a=null;var Bw,Hw={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function zw(){Lb.call(this,"d")}function Gw(){Lb.call(this,"c")}function $w(){}function Kw(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Iw(this),this.P=Ww,this.R=new yw(t=Eb?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Jy(zw,Lb),Jy(Gw,Lb),Jy($w,Uw),Bw=new $w;var Ww=45e3,Qw={},Yw={};function Xw(t,e,n){t.H=1,t.i=b_(d_(e)),t.j=n,t.I=!0,Zw(t,null)}function Zw(t,e){t.u=Zy(),e_(t),t.l=d_(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),P_(n.b,"t",r),t.D=0,t.a=CE(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ew(Yy(t.Ca,t,t.a),t.O)),Tw(t.J,t.a,"readystatechange",t.Xa),e=t.B?db(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Dw(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Jw(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=t_(t,n);if(i==Yw){4==e&&(t.h=4,Lw(14),r=!1),kw(t.c,t.f,null,"[Incomplete Response]");break}if(i==Qw){t.h=4,Lw(15),kw(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}kw(t.c,t.f,i,null),s_(t,i)}4==e&&0==n.length&&(t.h=1,Lw(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),yE(e),e.F=!0,Lw(11))):(kw(t.c,t.f,n,"[Invalid Chunked Response]"),o_(t),i_(t))}function t_(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Yw:(n=Number(e.substring(n,r)),isNaN(n)?Qw:(r+=1)+n>e.length?Yw:(e=e.substr(r,n),t.D=r+n,e))}function e_(t){t.T=Zy()+t.P,n_(t,t.P)}function n_(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=jw(Yy(t.Va,t),e)}function r_(t){t.o&&(By.clearTimeout(t.o),t.o=null)}function i_(t){0==t.g.v||t.A||_E(t.g,t)}function o_(t){r_(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,bw(t.R),Cw(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function s_(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||F_(n.b,t)))if(n.I=t.N,!t.C&&F_(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;wE(n),cE(n)}mE(n),Lw(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=jw(Yy(n.Sa,n),6e3));if(1>=V_(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else IE(n,11)}else if((t.C||n.a==t)&&wE(n),!ob(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ub(l,"spdy")||ub(l,"quic")||ub(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(U_(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,y_(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Zy()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=TE(u,u.C?u.ga:null,u.fa),d.C){q_(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(r_(p),e_(p)),u.a=d}else vE(u);0<n.g.length&&fE(n)}else"stop"!=i[0]&&"close"!=i[0]||IE(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?IE(n,7):uE(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Dw(4)}catch(v){}}function a_(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zy(t)||"string"==typeof t)nb(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(zy(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(zy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function u_(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof u_)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function c_(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];l_(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)l_(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function l_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Fy=Kw.prototype).setTimeout=function(t){this.P=t},Fy.Xa=function(t){t=t.target;var e=this.F;e&&3==iE(t)?e.f():this.Ca(t)},Fy.Ca=function(t){try{if(t==this.a)t:{var e=iE(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Eb&&!this.a.$())){this.A||4!=e||7==n||Dw(8==n||0>=r?3:2),r_(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ob(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Lw(12),o_(this),i_(this);break t}kw(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,s_(this,u)}this.I?(Jw(this,e,o),Eb&&this.b&&3==e&&(Tw(this.J,this.R,"tick",this.Wa),this.R.start())):(kw(this.c,this.f,o,null),s_(this,o)),4==e&&o_(this),this.b&&!this.A&&(4==e?_E(this.g,this):(this.b=!1,e_(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Lw(12)):(this.h=0,Lw(13)),o_(this),i_(this)}}}catch(c){}},Fy.Wa=function(){if(this.a){var t=iE(this.a),e=this.a.$();this.D<e.length&&(r_(this),Jw(this,t,e),this.b&&4!=t&&e_(this))}},Fy.cancel=function(){this.A=!0,o_(this)},Fy.Va=function(){this.o=null;var t=Zy();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Dw(3),Lw(17)),o_(this),this.h=2,i_(this)):n_(this,this.T-t)},(Fy=u_.prototype).K=function(){c_(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Fy.L=function(){return c_(this),this.a.concat()},Fy.get=function(t,e){return l_(this.b,t)?this.b[t]:e},Fy.set=function(t,e){l_(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Fy.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var h_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function f_(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof f_){this.a=void 0!==e?e:t.a,p_(this,t.f),this.j=t.j,g_(this,t.c),v_(this,t.h),this.g=t.g,e=t.b;var n=new k_;n.c=e.c,e.a&&(n.a=new u_(e.a),n.b=e.b),m_(this,n),this.i=t.i}else t&&(n=String(t).match(h_))?(this.a=!!e,p_(this,n[1]||"",!0),this.j=w_(n[2]||""),g_(this,n[3]||"",!0),v_(this,n[4]),this.g=w_(n[5]||"",!0),m_(this,n[6]||"",!0),this.i=w_(n[7]||"")):(this.a=!!e,this.b=new k_(null,this.a))}function d_(t){return new f_(t)}function p_(t,e,n){t.f=n?w_(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function g_(t,e,n){t.c=n?w_(e,!0):e}function v_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function m_(t,e,n){e instanceof k_?(t.b=e,function(t,e){e&&!t.f&&(x_(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(O_(this,e),P_(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=__(e,C_)),t.b=new k_(e,t.a))}function y_(t,e,n){t.b.set(e,n)}function b_(t){return y_(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Zy()).toString(36)),t}function w_(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function __(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,E_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function E_(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}f_.prototype.toString=function(){var t=[],e=this.f;e&&t.push(__(e,I_,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(__(e,I_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(__(n,"/"==n.charAt(0)?T_:S_,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",__(n,A_)),t.join("")};var I_=/[#\/\?@]/g,S_=/[#\?:]/g,T_=/[#\?]/g,C_=/[#\?@]/g,A_=/#/g;function k_(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function x_(t){t.a||(t.a=new u_,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function O_(t,e){x_(t),e=D_(t,e),l_(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,l_((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&c_(t)))}function N_(t,e){return x_(t),e=D_(t,e),l_(t.a.b,e)}function P_(t,e,n){O_(t,e),0<n.length&&(t.c=null,t.a.set(D_(t,e),ib(n)),t.b+=n.length)}function D_(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Fy=k_.prototype).add=function(t,e){x_(this),this.c=null,t=D_(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Fy.forEach=function(t,e){x_(this),this.a.forEach(function(n,r){nb(n,function(n){t.call(e,n,r,this)},this)},this)},Fy.L=function(){x_(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Fy.K=function(t){x_(this);var e=[];if("string"==typeof t)N_(this,t)&&(e=rb(e,this.a.get(D_(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=rb(e,t[n])}return e},Fy.set=function(t,e){return x_(this),this.c=null,N_(this,t=D_(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Fy.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Fy.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var R_=function(){return function(t,e){this.b=t,this.a=e}}();function L_(t){this.g=t||M_,t=By.PerformanceNavigationTiming?0<(t=By.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(By.ia&&By.ia.ya&&By.ia.ya()&&By.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var M_=10;function j_(t){return!!t.b||!!t.a&&t.a.size>=t.f}function V_(t){return t.b?1:t.a?t.a.size:0}function F_(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function U_(t,e){t.a?t.a.add(e):t.b=e}function q_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function B_(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Vy(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ib(t.c)}function H_(){}function z_(){this.a=new H_}function G_(t,e,n){var r=n||"";try{a_(t,function(t,n){var i=t;Gy(t)&&(i=aw(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(QP){throw e.push(r+"type="+encodeURIComponent("_badmap")),QP}}function $_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}L_.prototype.cancel=function(){var t,e;if(this.c=B_(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Vy(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},H_.prototype.stringify=function(t){return By.JSON.stringify(t,void 0)},H_.prototype.parse=function(t){return By.JSON.parse(t,void 0)};var K_=By.JSON.parse;function W_(t){iw.call(this),this.headers=new u_,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Q_,this.D=this.F=!1}Jy(W_,iw);var Q_="",Y_=/^https?$/i,X_=["POST","PUT"];function Z_(t){return"content-type"==t.toLowerCase()}function J_(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,tE(t),nE(t)}function tE(t){t.u||(t.u=!0,ow(t,"complete"),ow(t,"error"))}function eE(t){if(t.b&&void 0!==qy&&(!t.s[1]||4!=iE(t)||2!=t.W()))if(t.l&&4==iE(t))ww(t.za,0,t);else if(ow(t,"readystatechange"),4==iE(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(h_)[1]||null;if(!o&&By.self&&By.self.location){var s=By.self.location.protocol;o=s.substr(0,s.length-1)}i=!Y_.test(o?o.toLowerCase():"")}e=i}if(e)ow(t,"complete"),ow(t,"success");else{t.h=6;try{var a=2<iE(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",tE(t)}}finally{nE(t)}}}function nE(t,e){if(t.a){rE(t);var n=t.a,r=t.s[0]?Hy:null;t.a=null,t.s=null,e||ow(t,"ready");try{n.onreadystatechange=r}catch(QP){}}}function rE(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(By.clearTimeout(t.m),t.m=null)}function iE(t){return t.a?t.a.readyState:0}function oE(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return fb(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):y_(t,e,n))}function sE(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aE(t){this.pa=0,this.g=[],this.c=new Aw,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=sE("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=sE("baseRetryDelayMs",5e3,t),this.Ra=sE("retryDelaySeedMs",1e4,t),this.Ma=sE("forwardChannelMaxRetries",2,t),this.ma=sE("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new L_(t&&t.concurrentRequestLimit),this.ka=new z_,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function uE(t){if(lE(t),3==t.v){var e=t.R++,n=d_(t.B);y_(n,"SID",t.J),y_(n,"RID",e),y_(n,"TYPE","terminate"),pE(t,n),(e=new Kw(t,t.c,e,void 0)).H=2,e.i=b_(d_(n)),n=!1,By.navigator&&By.navigator.sendBeacon&&(n=By.navigator.sendBeacon(e.i.toString(),"")),!n&&By.Image&&((new Image).src=e.i,n=!0),n||(e.a=CE(e.g,null),e.a.ba(e.i)),e.u=Zy(),e_(e)}SE(t)}function cE(t){t.a&&(yE(t),t.a.cancel(),t.a=null)}function lE(t){cE(t),t.j&&(By.clearTimeout(t.j),t.j=null),wE(t),t.b.cancel(),t.h&&("number"==typeof t.h&&By.clearTimeout(t.h),t.h=null)}function hE(t,e){t.g.push(new R_(t.Oa++,e)),3==t.v&&fE(t)}function fE(t){j_(t.b)||t.h||(t.h=!0,pw(t.Ba,t),t.u=0)}function dE(t,e){var n;n=e?e.f:t.R++;var r=d_(t.B);y_(r,"SID",t.J),y_(r,"RID",n),y_(r,"AID",t.P),pE(t,r),t.i&&t.l&&oE(r,t.i,t.l),n=new Kw(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=gE(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),U_(t.b,n),Xw(n,r,e)}function pE(t,e){t.f&&a_({},function(t,n){y_(e,n,t)})}function gE(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Yy(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{G_(l,s,"req"+c+"_")}catch(aI){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vE(t){t.a||t.j||(t.T=1,pw(t.Aa,t),t.o=0)}function mE(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=jw(Yy(t.Aa,t),EE(t,t.o)),t.o++,0))}function yE(t){null!=t.s&&(By.clearTimeout(t.s),t.s=null)}function bE(t){t.a=new Kw(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=d_(t.la);y_(e,"RID","rpc"),y_(e,"SID",t.J),y_(e,"CI",t.H?"0":"1"),y_(e,"AID",t.P),pE(t,e),y_(e,"TYPE","xmlhttp"),t.i&&t.l&&oE(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=b_(d_(e)),n.j=null,n.I=!0,Zw(n,t)}function wE(t){null!=t.m&&(By.clearTimeout(t.m),t.m=null)}function _E(t,e){var n=null;if(t.a==e){wE(t),yE(t),t.a=null;var r=2}else{if(!F_(t.b,e))return;n=e.s,q_(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Zy()-e.u;var i=t.u;ow(r=Nw(),new Mw(r,n,e,i)),fE(t)}else vE(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(V_(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=jw(Yy(t.Ba,t,e),EE(t,t.u)),t.u++,0)))}(t,e)||2==r&&mE(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:IE(t,5);break;case 4:IE(t,10);break;case 3:IE(t,6);break;default:IE(t,2)}}function EE(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function IE(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Yy(t.Ya,t);n||(n=new f_("//www.google.com/images/cleardot.gif"),By.location&&"http"==By.location.protocol||p_(n,"https"),b_(n)),function(t,e){var n=new Aw;if(By.Image){var r=new Image;r.onload=Xy($_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xy($_,n,r,"TestLoadImage: error",!1,e),r.onabort=Xy($_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xy($_,n,r,"TestLoadImage: timeout",!1,e),By.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Lw(2);t.v=0,t.f&&t.f.ra(e),SE(t),lE(t)}function SE(t){t.v=0,t.I=-1,t.f&&(0==B_(t.b).length&&0==t.g.length||(t.b.c.length=0,ib(t.g),t.g.length=0),t.f.qa())}function TE(t,e,n){var r=function(t){return t instanceof f_?d_(t):new f_(t,void 0)}(n);if(""!=r.c)e&&g_(r,e+"."+r.c),v_(r,r.h);else{var i=By.location;r=function(t,e,n,r){var i=new f_(null,void 0);return t&&p_(i,t),e&&g_(i,e),n&&v_(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&fb(t.V,function(t,e){y_(r,e,t)}),n=t.na,(e=t.A)&&n&&y_(r,e,n),y_(r,"VER",t.ha),pE(t,r),r}function CE(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new W_(t.Na)).F=t.C,e}function AE(){}function kE(){if(wb&&!(10<=Number(Nb)))throw Error("Environmental error: no available transport.")}function xE(t,e){iw.call(this),this.a=new aE(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ob(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ob(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new PE(this)}function OE(t){zw.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function NE(){Gw.call(this),this.status=1}function PE(t){this.a=t}(Fy=W_.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Bw),this.a.onreadystatechange=Yy(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void J_(this,o)}t=n||"";var i=new u_(this.headers);r&&a_(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Z_,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=By.FormData&&t instanceof By.FormData,!(0<=eb(X_,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{rE(this),0<this.o&&((this.D=function(t){return wb&&Ob(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Yy(this.xa,this)):this.m=ww(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){J_(this,o)}},Fy.xa=function(){void 0!==qy&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ow(this,"timeout"),this.abort(8))},Fy.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ow(this,"complete"),ow(this,"abort"),nE(this))},Fy.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),nE(this,!0)),W_.X.G.call(this)},Fy.za=function(){this.j||(this.A||this.l||this.g?eE(this):this.Ua())},Fy.Ua=function(){eE(this)},Fy.W=function(){try{return 2<iE(this)?this.a.status:-1}catch(yb){return-1}},Fy.$=function(){try{return this.a?this.a.responseText:""}catch(yb){return""}},Fy.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),K_(e)}},Fy.ua=function(){return this.h},Fy.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Fy=aE.prototype).ha=8,Fy.v=1,Fy.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Kw(this,this.c,t,void 0),r=this.l;if(this.O&&(r?gb(r=db(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=gE(this,n,e),y_(i=d_(this.B),"RID",t),y_(i,"CVER",22),this.A&&y_(i,"X-HTTP-Session-Id",this.A),pE(this,i),this.i&&r&&oE(i,this.i,r),U_(this.b,n),this.Ia&&y_(i,"TYPE","init"),this.da?(y_(i,"$req",e),y_(i,"SID","null"),n.U=!0,Xw(n,i,null)):Xw(n,i,e),this.v=2}}else 3==this.v&&(t?dE(this,t):0==this.g.length||j_(this.b)||dE(this))},Fy.Aa=function(){if(this.j=null,bE(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=jw(Yy(this.Ta,this),t)}},Fy.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Lw(10),cE(this),bE(this))},Fy.Sa=function(){null!=this.m&&(this.m=null,cE(this),mE(this),Lw(19))},Fy.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Lw(2)):(this.c.info("Failed to ping google.com"),Lw(1))},(Fy=AE.prototype).ta=function(){},Fy.sa=function(){},Fy.ra=function(){},Fy.qa=function(){},Fy.Ja=function(){},kE.prototype.a=function(t,e){return new xE(t,e)},Jy(xE,iw),xE.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Lw(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=TE(t,null,t.fa),fE(t)},xE.prototype.close=function(){uE(this.a)},xE.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,hE(this.a,e)}else this.l?((e={}).__data__=aw(t),hE(this.a,e)):hE(this.a,t)},xE.prototype.G=function(){this.a.f=null,delete this.f,uE(this.a),delete this.a,xE.X.G.call(this)},Jy(OE,zw),Jy(NE,Gw),Jy(PE,AE),PE.prototype.ta=function(){ow(this.a,"a")},PE.prototype.sa=function(t){ow(this.a,new OE(t))},PE.prototype.ra=function(t){ow(this.a,new NE(t))},PE.prototype.qa=function(){ow(this.a,"b")},kE.prototype.createWebChannel=kE.prototype.a,xE.prototype.send=xE.prototype.h,xE.prototype.open=xE.prototype.g,xE.prototype.close=xE.prototype.close,Vw.NO_ERROR=0,Vw.TIMEOUT=8,Vw.HTTP_ERROR=6,Fw.COMPLETE="complete",qw.EventType=Hw,Hw.OPEN="a",Hw.CLOSE="b",Hw.ERROR="c",Hw.MESSAGE="d",iw.prototype.listen=iw.prototype.va,W_.prototype.listenOnce=W_.prototype.wa,W_.prototype.getLastError=W_.prototype.Qa,W_.prototype.getLastErrorCode=W_.prototype.ua,W_.prototype.getStatus=W_.prototype.W,W_.prototype.getResponseJson=W_.prototype.Pa,W_.prototype.getResponseText=W_.prototype.$,W_.prototype.send=W_.prototype.ba;var DE=Vw,RE=Fw,LE=xw,ME=qw,jE=W_,VE=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},FE=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),UE=new fm("@firebase/firestore");function qE(){return UE.logLevel}function BE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(UE.logLevel<=am.DEBUG){var r=e.map(GE);UE.debug.apply(UE,Mv(["Firestore (8.2.6): "+t],r))}}function HE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(UE.logLevel<=am.ERROR){var r=e.map(GE);UE.error.apply(UE,Mv(["Firestore (8.2.6): "+t],r))}}function zE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(UE.logLevel<=am.WARN){var r=e.map(GE);UE.warn.apply(UE,Mv(["Firestore (8.2.6): "+t],r))}}function GE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(QP){return t}}function $E(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw HE(e),new Error(e)}function KE(t,e){t||$E()}function WE(t,e){return t}function QE(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var YE=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=QE(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function XE(t,e){return t<e?-1:t>e?1:0}function ZE(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function JE(t){return t+"\0"}var tI=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return XE(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();tI.T=new tI("");var eI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return xv(e,t),e}(Error),rI=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(tI.fromBase64String(e))}catch(e){throw new nI(eI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tI.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),iI=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();iI.UNAUTHENTICATED=new iI(null),iI.R=new iI("google-credentials-uid"),iI.P=new iI("first-party-uid");var oI=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},sI=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(iI.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),aI=function(){function t(t){var e=this;this.D=null,this.currentUser=iI.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(BE("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(KE("string"==typeof n.accessToken),new oI(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return KE(null===t||"string"==typeof t),new iI(t)},t}(),uI=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=iI.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cI=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new uI(this.O,this.k))},t.prototype.v=function(t){t(iI.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),lI=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();lI.q=-1;var hI=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nI(eI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nI(eI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new nI(eI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nI(eI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?XE(this.nanoseconds,t.nanoseconds):XE(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fI=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new hI(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),dI=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&$E(),void 0===n?n=t.length-e:n>t.length-e&&$E(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),pI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new nI(eI.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(dI),gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return gI.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new nI(eI.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new nI(eI.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nI(eI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new nI(eI.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(dI),mI=function(){function t(t){this.path=t}return t._t=function(e){return new t(pI.ot(e))},t.ft=function(e){return new t(pI.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===pI.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return pI.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new pI(e.slice()))},t}();function yI(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bI(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wI(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _I=function(){function t(t){this.fields=t,t.sort(vI.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return ZE(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function II(t){if(KE(!!t),"string"==typeof t){var e=0,n=EI.exec(t);if(KE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:SI(t.seconds),nanos:SI(t.nanos)}}function SI(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function TI(t){return"string"==typeof t?tI.fromBase64String(t):tI.fromUint8Array(t)}function CI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function AI(t){var e=t.mapValue.fields.__previous_value__;return CI(e)?AI(e):e}function kI(t){var e=II(t.mapValue.fields.__local_write_time__.timestampValue);return new hI(e.seconds,e.nanos)}function xI(t){return null==t}function OI(t){return 0===t&&1/t==-1/0}function NI(t){return"number"==typeof t&&Number.isInteger(t)&&!OI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function PI(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CI(t)?4:10:$E()}function DI(t,e){var n=PI(t);if(n!==PI(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kI(t).isEqual(kI(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=II(t.timestampValue),r=II(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return TI(t.bytesValue).isEqual(TI(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return SI(t.geoPointValue.latitude)===SI(e.geoPointValue.latitude)&&SI(t.geoPointValue.longitude)===SI(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return SI(t.integerValue)===SI(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=SI(t.doubleValue),r=SI(e.doubleValue);return n===r?OI(n)===OI(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ZE(t.arrayValue.values||[],e.arrayValue.values||[],DI);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(yI(n)!==yI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!DI(n[i],r[i])))return!1;return!0}(t,e);default:return $E()}}function RI(t,e){return void 0!==(t.values||[]).find(function(t){return DI(t,e)})}function LI(t,e){var n=PI(t),r=PI(e);if(n!==r)return XE(n,r);switch(n){case 0:return 0;case 1:return XE(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=SI(t.integerValue||t.doubleValue),r=SI(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return MI(t.timestampValue,e.timestampValue);case 4:return MI(kI(t),kI(e));case 5:return XE(t.stringValue,e.stringValue);case 6:return function(t,e){var n=TI(t),r=TI(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=XE(n[i],r[i]);if(0!==o)return o}return XE(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=XE(SI(t.latitude),SI(e.latitude));return 0!==n?n:XE(SI(t.longitude),SI(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=LI(n[i],r[i]);if(o)return o}return XE(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=XE(r[s],o[s]);if(0!==a)return a;var u=LI(n[r[s]],i[o[s]]);if(0!==u)return u}return XE(r.length,o.length)}(t.mapValue,e.mapValue);default:throw $E()}}function MI(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return XE(t,e);var n=II(t),r=II(e),i=XE(n.seconds,r.seconds);return 0!==i?i:XE(n.nanos,r.nanos)}function jI(t){return VI(t)}function VI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=II(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?TI(t.bytesValue).toBase64():"referenceValue"in t?mI.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=VI(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+VI(t.fields[o])}return e+"}"}(t.mapValue):$E();var e}function FI(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function UI(t){return!!t&&"integerValue"in t}function qI(t){return!!t&&"arrayValue"in t}function BI(t){return!!t&&"nullValue"in t}function HI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zI(t){return!!t&&"mapValue"in t}var GI=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zI(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return DI(this.proto,t.proto)},t}(),$I=function(){function t(t){void 0===t&&(t=GI.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===PI(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(vI.ct(),this.At);return null!=t?new GI(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=zI(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function KI(t){var e=[];return bI(t.fields||{},function(t,n){var r=new vI([t]);if(zI(n)){var i=KI(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new _I(e)}var WI=function(t,e){this.key=t,this.version=e},QI=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return xv(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(WI),YI=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return xv(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(WI),XI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(WI),ZI=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function JI(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ZI(t,e,n,r,i,o,s)}function tS(t){var e=WE(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+jI(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),xI(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=dS(e.startAt)),e.endAt&&(n+="|ub:",n+=dS(e.endAt)),e.vt=n}return e.vt}function eS(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!gS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!DI(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mS(t.startAt,e.startAt)&&mS(t.endAt,e.endAt)}function nS(t){return mI.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return xv(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new iS(t,n,r):"array-contains"===n?new uS(t,r):"in"===n?new cS(t,r):"not-in"===n?new lS(t,r):"array-contains-any"===n?new hS(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new oS(t,n):new sS(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(LI(e,this.value)):null!==e&&PI(this.value)===PI(e)&&this.Dt(LI(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $E()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),iS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=mI.ft(r.referenceValue),i}return xv(e,t),e.prototype.matches=function(t){var e=mI.H(t.key,this.key);return this.Dt(e)},e}(rS),oS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=aS(0,n),r}return xv(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(rS),sS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=aS(0,n),r}return xv(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(rS);function aS(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return mI.ft(t.referenceValue)})}var uS=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return xv(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qI(e)&&RI(e.arrayValue,this.value)},e}(rS),cS=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return xv(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&RI(this.value.arrayValue,e)},e}(rS),lS=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return xv(e,t),e.prototype.matches=function(t){if(RI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!RI(this.value.arrayValue,e)},e}(rS),hS=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return xv(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return RI(e.value.arrayValue,t)})},e}(rS),fS=function(t,e){this.position=t,this.before=e};function dS(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return jI(t)}).join(",")}var pS=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function gS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vS(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?mI.H(mI.ft(s.referenceValue),n.key):LI(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mS(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!DI(t.position[n],e.position[n]))return!1;return!0}var yS=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.Ft=null};function bS(t,e,n,r,i,o,s,a){return new yS(t,e,n,r,i,o,s,a)}function wS(t){return new yS(t)}function _S(t){return!xI(t.limit)&&"F"===t.limitType}function ES(t){return!xI(t.limit)&&"L"===t.limitType}function IS(t){return t.xt.length>0?t.xt[0].field:null}function SS(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function TS(t){return null!==t.collectionGroup}function CS(t){var e=WE(t);if(null===e.Nt){e.Nt=[];var n=SS(e),r=IS(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new pS(n)),e.Nt.push(new pS(vI.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new pS(vI.ht(),u))}}}return e.Nt}function AS(t){var e=WE(t);if(!e.Ft)if("F"===e.limitType)e.Ft=JI(e.path,e.collectionGroup,CS(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=CS(e);r<i.length;r++){var o=i[r];n.push(new pS(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new fS(e.endAt.position,!e.endAt.before):null,a=e.startAt?new fS(e.startAt.position,!e.startAt.before):null;e.Ft=JI(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function kS(t,e,n){return new yS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xS(t,e){return eS(AS(t),AS(e))&&t.limitType===e.limitType}function OS(t){return tS(AS(t))+"|lt:"+t.limitType}function NS(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+jI(e.value);var e}).join(", ")+"]"),xI(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+dS(t.startAt)),t.endAt&&(e+=", endAt: "+dS(t.endAt)),"Target("+e+")"}(AS(t))+"; limitType="+t.limitType+")"}function PS(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):mI.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!vS(t.startAt,CS(t),e)||t.endAt&&vS(t.endAt,CS(t),e))}(t,e)}function DS(t){return function(e,n){for(var r=!1,i=0,o=CS(t);i<o.length;i++){var s=o[i],a=RS(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function RS(t,e,n){var r=t.field.ut()?mI.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?LI(r,i):$E()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $E()}}var LS=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=fI.min()),void 0===o&&(o=fI.min()),void 0===s&&(s=tI.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function MS(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:OI(e)?"-0":e}}function jS(t){return{integerValue:""+t}}function VS(t,e){return NI(e)?jS(e):MS(t,e)}var FS=function(){this.qt=void 0};function US(t,e,n){return t instanceof HS?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zS?GS(t,e):t instanceof $S?KS(t,e):function(t,e){var n=BS(t,e),r=QS(n)+QS(t.Ut);return UI(n)&&UI(t.Ut)?jS(r):MS(t.Qt,r)}(t,e)}function qS(t,e,n){return t instanceof zS?GS(t,e):t instanceof $S?KS(t,e):n}function BS(t,e){return t instanceof WS?UI(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var HS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e}(FS),zS=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return xv(e,t),e}(FS);function GS(t,e){for(var n=YS(e),r=function(t){n.some(function(e){return DI(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $S=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return xv(e,t),e}(FS);function KS(t,e){for(var n=YS(e),r=function(t){n=n.filter(function(e){return!DI(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var WS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return xv(e,t),e}(FS);function QS(t){return SI(t.integerValue||t.doubleValue)}function YS(t){return qI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var XS=function(t,e){this.field=t,this.transform=e},ZS=function(t,e){this.version=t,this.transformResults=e},JS=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function tT(t,e){return void 0!==t.updateTime?e instanceof QI&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof QI}var eT=function(){};function nT(t,e,n){return t instanceof aT?function(t,e,n){var r=t.value;if(n.transformResults){var i=lT(t.fieldTransforms,e,n.transformResults);r=fT(t.fieldTransforms,r,i)}return new QI(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof uT?function(t,e,n){if(!tT(t.jt,e))return new XI(t.key,n.version);var r=cT(t,e,n.transformResults?lT(t.fieldTransforms,e,n.transformResults):[]);return new QI(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new YI(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function rT(t,e,n){return t instanceof aT?function(t,e,n){if(!tT(t.jt,e))return e;var r=t.value,i=hT(t.fieldTransforms,n,e);r=fT(t.fieldTransforms,r,i);var o=sT(e);return new QI(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof uT?function(t,e,n){if(!tT(t.jt,e))return e;var r=sT(e),i=cT(t,e,hT(t.fieldTransforms,n,e));return new QI(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return tT(t.jt,e)?new YI(t.key,fI.min()):e}(t,e)}function iT(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof QI?e.field(o.field):void 0,a=BS(o.transform,s||null);null!=a&&(n=null==n?(new $I).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function oT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ZE(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof zS&&e instanceof zS||t instanceof $S&&e instanceof $S?ZE(t.elements,e.elements,DI):t instanceof WS&&e instanceof WS?DI(t.Ut,e.Ut):t instanceof HS&&e instanceof HS}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function sT(t){return t instanceof QI?t.version:fI.min()}var aT=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return xv(e,t),e}(eT),uT=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return xv(e,t),e}(eT);function cT(t,e,n){var r;return r=function(t,e){var n=new $I(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof QI?e.data():GI.empty()),fT(t.fieldTransforms,r,n)}function lT(t,e,n){var r=[];KE(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof QI&&(a=e.field(o.field)),r.push(qS(s,a,n[i]))}return r}function hT(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof QI&&(u=n.field(s.field)),r.push(US(a,u,e))}return r}function fT(t,e,n){for(var r=new $I(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var dT,pT,gT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return xv(e,t),e}(eT),vT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return xv(e,t),e}(eT),mT=function(t){this.count=t};function yT(t){switch(t){case eI.OK:return $E();case eI.CANCELLED:case eI.UNKNOWN:case eI.DEADLINE_EXCEEDED:case eI.RESOURCE_EXHAUSTED:case eI.INTERNAL:case eI.UNAVAILABLE:case eI.UNAUTHENTICATED:return!1;case eI.INVALID_ARGUMENT:case eI.NOT_FOUND:case eI.ALREADY_EXISTS:case eI.PERMISSION_DENIED:case eI.FAILED_PRECONDITION:case eI.ABORTED:case eI.OUT_OF_RANGE:case eI.UNIMPLEMENTED:case eI.DATA_LOSS:return!0;default:return $E()}}function bT(t){if(void 0===t)return HE("GRPC error has no .code"),eI.UNKNOWN;switch(t){case dT.OK:return eI.OK;case dT.CANCELLED:return eI.CANCELLED;case dT.UNKNOWN:return eI.UNKNOWN;case dT.DEADLINE_EXCEEDED:return eI.DEADLINE_EXCEEDED;case dT.RESOURCE_EXHAUSTED:return eI.RESOURCE_EXHAUSTED;case dT.INTERNAL:return eI.INTERNAL;case dT.UNAVAILABLE:return eI.UNAVAILABLE;case dT.UNAUTHENTICATED:return eI.UNAUTHENTICATED;case dT.INVALID_ARGUMENT:return eI.INVALID_ARGUMENT;case dT.NOT_FOUND:return eI.NOT_FOUND;case dT.ALREADY_EXISTS:return eI.ALREADY_EXISTS;case dT.PERMISSION_DENIED:return eI.PERMISSION_DENIED;case dT.FAILED_PRECONDITION:return eI.FAILED_PRECONDITION;case dT.ABORTED:return eI.ABORTED;case dT.OUT_OF_RANGE:return eI.OUT_OF_RANGE;case dT.UNIMPLEMENTED:return eI.UNIMPLEMENTED;case dT.DATA_LOSS:return eI.DATA_LOSS;default:return $E()}}(pT=dT||(dT={}))[pT.OK=0]="OK",pT[pT.CANCELLED=1]="CANCELLED",pT[pT.UNKNOWN=2]="UNKNOWN",pT[pT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pT[pT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pT[pT.NOT_FOUND=5]="NOT_FOUND",pT[pT.ALREADY_EXISTS=6]="ALREADY_EXISTS",pT[pT.PERMISSION_DENIED=7]="PERMISSION_DENIED",pT[pT.UNAUTHENTICATED=16]="UNAUTHENTICATED",pT[pT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pT[pT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pT[pT.ABORTED=10]="ABORTED",pT[pT.OUT_OF_RANGE=11]="OUT_OF_RANGE",pT[pT.UNIMPLEMENTED=12]="UNIMPLEMENTED",pT[pT.INTERNAL=13]="INTERNAL",pT[pT.UNAVAILABLE=14]="UNAVAILABLE",pT[pT.DATA_LOSS=15]="DATA_LOSS";var wT=function(){function t(t,e){this.H=t,this.root=e||ET.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ET.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ET.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new _T(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new _T(this.root,t,this.H,!1)},t.prototype.ne=function(){return new _T(this.root,null,this.H,!0)},t.prototype.se=function(t){return new _T(this.root,t,this.H,!0)},t}(),_T=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),ET=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw $E();if(this.right.le())throw $E();var t=this.left.Ie();if(t!==this.right.Ie())throw $E();return t+(this.le()?0:1)},t}();ET.EMPTY=null,ET.RED=!0,ET.Ht=!1,ET.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw $E()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw $E()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw $E()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw $E()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw $E()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new ET(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var IT=function(){function t(t){this.H=t,this.data=new wT(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new ST(this.data.te())},t.prototype.ee=function(t){return new ST(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),ST=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),TT=new wT(mI.H);function CT(){return TT}function AT(){return CT()}var kT=new wT(mI.H);function xT(){return kT}var OT=new wT(mI.H);function NT(){return OT}var PT=new IT(mI.H);function DT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=PT,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var RT=new IT(XE);function LT(){return RT}var MT=function(){function t(t){this.H=t?function(e,n){return t(e,n)||mI.H(e.key,n.key)}:function(t,e){return mI.H(t.key,e.key)},this.ge=xT(),this.Ve=new wT(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),jT=function(){function t(){this.be=new wT(mI.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):$E():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),VT=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,MT.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&xS(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),FT=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,UT.$e(e,n)),new t(fI.min(),r,LT(),CT(),DT())},t}(),UT=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(tI.T,n,DT(),DT(),DT())},t}(),qT=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},BT=function(t,e){this.targetId=t,this.je=e},HT=function(t,e,n,r){void 0===n&&(n=tI.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},zT=function(){function t(){this.Ge=0,this.ze=KT(),this.He=tI.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=DT(),e=DT(),n=DT();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$E()}}),new UT(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=KT()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),GT=function(){function t(t){this.un=t,this.hn=new Map,this.ln=CT(),this._n=$T(),this.fn=new IT(XE)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof QI?this.wn(r,t.We):t.We instanceof YI&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:$E()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(nS(i))if(0===n){var o=new mI(i.path);this.En(e,o,new YI(o,fI.min()))}else KE(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&nS(o.target)){var s=new mI(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new YI(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=DT();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)}),i&&(r=r.add(t))});var i=new FT(t,n,this.fn,this.ln,r);return this.ln=CT(),this._n=$T(),this.fn=new IT(XE),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new zT,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new IT(XE),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||BE("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new zT),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function $T(){return new wT(mI.H)}function KT(){return new wT(mI.H)}var WT={asc:"ASCENDING",desc:"DESCENDING"},QT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YT=function(t,e){this.t=t,this.Bt=e};function XT(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function JT(t,e){return XT(t,e.j())}function tC(t){return KE(!!t),fI.K(function(t){var e=II(t);return new hI(e.seconds,e.nanos)}(t))}function eC(t,e){return function(t){return new pI(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function nC(t){var e=pI.ot(t);return KE(CC(e)),e}function rC(t,e){return eC(t.t,e.path)}function iC(t,e){var n=nC(e);if(n.get(1)!==t.t.projectId)throw new nI(eI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new nI(eI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new mI(uC(n))}function oC(t,e){return eC(t.t,e)}function sC(t){var e=nC(t);return 4===e.length?pI.ct():uC(e)}function aC(t){return new pI(["projects",t.t.projectId,"databases",t.t.database]).rt()}function uC(t){return KE(t.length>4&&"documents"===t.get(4)),t.Y(5)}function cC(t,e,n){return{name:rC(t,e),fields:n.proto.mapValue.fields}}function lC(t,e,n){var r=iC(t,e.name),i=tC(e.updateTime),o=new GI({mapValue:{fields:e.fields}});return new QI(r,i,o,{hasCommittedMutations:!!n})}function hC(t,e){var n;if(e instanceof aT)n={update:cC(t,e.key,e.value)};else if(e instanceof gT)n={delete:rC(t,e.key)};else if(e instanceof uT)n={update:cC(t,e.key,e.data),updateMask:TC(e.Gt)};else{if(!(e instanceof vT))return $E();n={verify:rC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof HS)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof zS)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof $S)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof WS)return{fieldPath:e.field.rt(),increment:n.Ut};throw $E()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:JT(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:$E()}(t,e.jt)),n}function fC(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?JS.updateTime(tC(t.updateTime)):void 0!==t.exists?JS.exists(t.exists):JS.Kt()}(e.currentDocument):JS.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(KE("REQUEST_TIME"===e.setToServerValue),n=new HS):"appendMissingElements"in e?n=new zS(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new $S(e.removeAllFromArray.values||[]):"increment"in e?n=new WS(t,e.increment):$E();var r=vI.lt(e.fieldPath);return new XS(r,n)}(t,e)}):[];if(e.update){var i=iC(t,e.update.name),o=new GI({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new _I((t.fieldPaths||[]).map(function(t){return vI.lt(t)}))}(e.updateMask);return new uT(i,o,s,n,r)}return new aT(i,o,n,r)}if(e.delete){var a=iC(t,e.delete);return new gT(a,n)}if(e.verify){var u=iC(t,e.verify);return new vT(u,n)}return $E()}function dC(t,e){return{documents:[oC(t,e.path)]}}function pC(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oC(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(HI(t.value))return{unaryFilter:{field:_C(t.field),op:"IS_NAN"}};if(BI(t.value))return{unaryFilter:{field:_C(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(HI(t.value))return{unaryFilter:{field:_C(t.field),op:"IS_NOT_NAN"}};if(BI(t.value))return{unaryFilter:{field:_C(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_C(t.field),op:wC(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:_C(t.field),direction:bC(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||xI(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=mC(e.startAt)),e.endAt&&(n.structuredQuery.endAt=mC(e.endAt)),n}function gC(t){var e=sC(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){KE(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=vC(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new pS(EC(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return xI(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yC(n.startAt));var l=null;return n.endAt&&(l=yC(n.endAt)),bS(e,i,a,s,u,"F",c,l)}function vC(t){return t?void 0!==t.unaryFilter?[SC(t)]:void 0!==t.fieldFilter?[IC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return vC(t)}).reduce(function(t,e){return t.concat(e)}):$E():[]}function mC(t){return{before:t.before,values:t.position}}function yC(t){return new fS(t.values||[],!!t.before)}function bC(t){return WT[t]}function wC(t){return QT[t]}function _C(t){return{fieldPath:t.rt()}}function EC(t){return vI.lt(t.fieldPath)}function IC(t){return rS.create(EC(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return $E()}}(t.fieldFilter.op),t.fieldFilter.value)}function SC(t){switch(t.unaryFilter.op){case"IS_NAN":var e=EC(t.unaryFilter.field);return rS.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=EC(t.unaryFilter.field);return rS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=EC(t.unaryFilter.field);return rS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=EC(t.unaryFilter.field);return rS.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return $E()}}function TC(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function CC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var AC=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},kC=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&$E(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t(function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.kn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Ln=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Ln(r)},t}(),xC=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new AC,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new PC(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=jC(e.target.error);n.Bn.reject(new PC(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new PC(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(BE("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new RC(e)},t}(),OC=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Fv())&&HE("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return BE("SimpleDb","Removing database:",t),LC(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Fv(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Nv(this,void 0,void 0,function(){var e,n=this;return Pv(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(BE("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new PC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new nI(eI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new PC(t,n))},i.onupgradeneeded=function(t){BE("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){BE("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s,a,u;return Pv(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Pv(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=xC.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),kC.reject(t)}).kn(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return BE("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),NC=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return LC(this.Zn.delete())},t}(),PC=function(t){function e(e,n){var r=this;return(r=t.call(this,eI.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return xv(e,t),e}(nI);function DC(t){return"IndexedDbTransactionError"===t.name}var RC=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(BE("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(BE("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),LC(n)},t.prototype.add=function(t){return BE("SimpleDb","ADD",this.store.name,t,t),LC(this.store.add(t))},t.prototype.get=function(t){var e=this;return LC(this.store.get(t)).next(function(n){return void 0===n&&(n=null),BE("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return BE("SimpleDb","DELETE",this.store.name,t),LC(this.store.delete(t))},t.prototype.count=function(){return BE("SimpleDb","COUNT",this.store.name),LC(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){BE("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new kC(function(n,r){e.onerror=function(t){var e=jC(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new kC(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new NC(i),s=e(i.primaryKey,i.value,o);if(s instanceof kC){var a=s.catch(function(t){return o.done(),kC.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return kC.Ln(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function LC(t){return new kC(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jC(t.target.error);n(e)}})}var MC=!1;function jC(t){var e=OC.Qn(Fv());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new nI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return MC||(MC=!0,setTimeout(function(){throw r},0)),r}}return t}var VC=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new AC,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new nI(eI.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function FC(t,e){if(HE("AsyncQueue",e+": "+t),DC(t))return new nI(eI.UNAVAILABLE,e+": "+t);throw t}var UC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qC=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function BC(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zC(e)),e=HC(t.get(n),e);return zC(e)}function HC(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function zC(t){return t+"\x01\x01"}function GC(t){var e=t.length;if(KE(e>=2),2===e)return KE("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),pI.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&$E(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:$E()}o=s+2}return new pI(r)}var $C=function(t,e){this.seconds=t,this.nanoseconds=e},KC=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};KC.store="owner",KC.key="owner";var WC=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};WC.store="mutationQueues",WC.keyPath="userId";var QC=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};QC.store="mutations",QC.keyPath="batchId",QC.userMutationsIndex="userMutationsIndex",QC.userMutationsKeyPath=["userId","batchId"];var YC=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,BC(e)]},t.key=function(t,e,n){return[t,BC(e),n]},t}();YC.store="documentMutations",YC.PLACEHOLDER=new YC;var XC=function(t,e){this.path=t,this.readTime=e},ZC=function(t,e){this.path=t,this.version=e},JC=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};JC.store="remoteDocuments",JC.readTimeIndex="readTimeIndex",JC.readTimeIndexPath="readTime",JC.collectionReadTimeIndex="collectionReadTimeIndex",JC.collectionReadTimeIndexPath=["parentPath","readTime"];var tA=function(t){this.byteSize=t};tA.store="remoteDocumentGlobal",tA.key="remoteDocumentGlobalKey";var eA=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};eA.store="targets",eA.keyPath="targetId",eA.queryTargetsIndexName="queryTargetsIndex",eA.queryTargetsKeyPath=["canonicalId","targetId"];var nA=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};nA.store="targetDocuments",nA.keyPath=["targetId","path"],nA.documentTargetsIndex="documentTargetsIndex",nA.documentTargetsKeyPath=["path","targetId"];var rA=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};rA.key="targetGlobalKey",rA.store="targetGlobal";var iA=function(t,e){this.collectionId=t,this.parent=e};iA.store="collectionParents",iA.keyPath=["collectionId","parent"];var oA=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};oA.store="clientMetadata",oA.keyPath="clientId";var sA=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sA.store="bundles",sA.keyPath="bundleId";var aA=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};aA.store="namedQueries",aA.keyPath="name";var uA=Mv(Mv(Mv(Mv([WC.store,QC.store,YC.store,JC.store,eA.store,KC.store,rA.store,nA.store],[oA.store]),[tA.store]),[iA.store]),[sA.store,aA.store]),cA=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return xv(e,t),e}(qC);function lA(t,e){var n=WE(t);return OC.zn(n.ps,e)}var hA=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=nT(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=rT(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=rT(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},DT())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ZE(this.mutations,t.mutations,function(t,e){return oT(t,e)})&&ZE(this.baseMutations,t.baseMutations,function(t,e){return oT(t,e)})},t}(),fA=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){KE(e.mutations.length===r.length);for(var i=NT(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),dA=function(t){this.Os=t};function pA(t,e){if(e.document)return lC(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mI.Et(e.noDocument.path),r=bA(e.noDocument.readTime);return new YI(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=mI.Et(e.unknownDocument.path);return r=bA(e.unknownDocument.version),new XI(i,r)}return $E()}function gA(t,e,n){var r=vA(n),i=e.key.path.X().it();if(e instanceof QI){var o=function(t,e){return{name:rC(t,e.key),fields:e.bt().mapValue.fields,updateTime:XT(t,e.version.j())}}(t.Os,e),s=e.hasCommittedMutations;return new JC(null,null,o,s,r,i)}if(e instanceof YI){var a=e.key.path.it(),u=yA(e.version);return s=e.hasCommittedMutations,new JC(null,new XC(a,u),null,s,r,i)}if(e instanceof XI){var c=e.key.path.it(),l=yA(e.version);return new JC(new ZC(c,l),null,null,!0,r,i)}return $E()}function vA(t){var e=t.j();return[e.seconds,e.nanoseconds]}function mA(t){var e=new hI(t[0],t[1]);return fI.K(e)}function yA(t){var e=t.j();return new $C(e.seconds,e.nanoseconds)}function bA(t){var e=new hI(t.seconds,t.nanoseconds);return fI.K(e)}function wA(t,e){for(var n=(e.baseMutations||[]).map(function(e){return fC(t.Os,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return fC(t.Os,e)}),o=hI.fromMillis(e.localWriteTimeMs);return new hA(e.batchId,o,n,i)}function _A(t){var e,n,r=bA(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bA(t.lastLimboFreeSnapshotVersion):fI.min();return void 0!==t.query.documents?(KE(1===(n=t.query).documents.length),e=AS(wS(sC(n.documents[0])))):e=function(t){return AS(gC(t))}(t.query),new LS(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tI.fromBase64String(t.resumeToken))}function EA(t,e){var n,r=yA(e.kt),i=yA(e.lastLimboFreeSnapshotVersion);n=nS(e.target)?dC(t.Os,e.target):pC(t.Os,e.target);var o=e.resumeToken.toBase64();return new eA(e.targetId,tS(e.target),r,o,e.sequenceNumber,i,n)}function IA(t){var e=gC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kS(e,e.limit,"L"):e}var SA=function(){function t(){}return t.prototype.ks=function(t,e){return TA(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:bA(e.createTime),version:e.version};var e})},t.prototype.Ms=function(t,e){return TA(t).put({bundleId:(n=e).id,createTime:yA(tC(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return CA(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:IA(e.bundledQuery),readTime:bA(e.readTime)};var e})},t.prototype.$s=function(t,e){return CA(t).put(function(t){return{name:t.name,readTime:yA(tC(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function TA(t){return lA(t,sA.store)}function CA(t){return lA(t,aA.store)}var AA=function(){function t(){this.Bs=new kA}return t.prototype.qs=function(t,e){return this.Bs.add(e),kC.resolve()},t.prototype.Us=function(t,e){return kC.resolve(this.Bs.getEntries(e))},t}(),kA=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new IT(pI.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new IT(pI.H)).it()},t}(),xA=function(){function t(){this.Qs=new kA}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:BC(i)};return OA(t).put(o)}return kC.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[JE(e),""],!1,!0);return OA(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(GC(o.parent))}return n})},t}();function OA(t){return lA(t,iA.store)}var NA={Ks:!1,Ws:0,js:0,Gs:0},PA=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function DA(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){if(t.code!==eI.FAILED_PRECONDITION||t.message!==UC)throw t;return BE("LocalStore","Unexpectedly lost primary lease"),[2]})})}PA.Xs=10,PA.Zs=1e3,PA.ti=new PA(41943040,PA.Xs,PA.Zs),PA.ei=new PA(-1,0,0);var RA=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bI(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return wI(this.ii)},t}(),LA=function(){function t(){this.ri=new RA(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:fI.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?kC.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function MA(t,e,n){var r=t.store(QC.store),i=t.store(YC.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){KE(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=YC.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return kC.Ln(o).next(function(){return c})}function jA(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw $E();e=t.noDocument}return JSON.stringify(e).length}var VA=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return KE(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UA(t).hs({index:QC.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=qA(t),s=UA(t);return s.add({}).next(function(a){KE("number"==typeof a);for(var u=new hA(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return hC(t.Os,e)}),i=n.mutations.map(function(e){return hC(t.Os,e)});return new QC(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new IT(function(t,e){return XE(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=YC.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,YC.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),kC.Ln(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return UA(t).get(e).next(function(t){return t?(KE(t.userId===n.userId),wA(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?kC.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return UA(t).hs({index:QC.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(KE(e.batchId>=r),o=wA(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UA(t).hs({index:QC.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UA(t).rs(QC.userMutationsIndex,n).next(function(t){return t.map(function(t){return wA(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=YC.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return qA(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=GC(r[1]);if(a===n.userId&&e.path.isEqual(c))return UA(t).get(u).next(function(t){if(!t)throw $E();KE(t.userId===n.userId),o.push(wA(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new IT(XE),i=[];return e.forEach(function(e){var o=YC.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=qA(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=GC(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),kC.Ln(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=YC.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new IT(XE);return qA(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=GC(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(UA(t).get(e).next(function(t){if(null===t)throw $E();KE(t.userId===n.userId),r.push(wA(n.Qt,t))}))}),kC.Ln(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return MA(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),kC.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return kC.resolve();var r=IDBKeyRange.lowerBound(YC.prefixForUser(e.userId)),i=[];return qA(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=GC(t[1]);i.push(o)}else r.done()}).next(function(){KE(0===i.length)})})},t.prototype.Oi=function(t,e){return FA(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return BA(t).get(this.userId).next(function(t){return t||new WC(e.userId,-1,"")})},t}();function FA(t,e,n){var r=YC.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return qA(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function UA(t){return lA(t,QC.store)}function qA(t){return lA(t,YC.store)}function BA(t){return lA(t,WC.store)}var HA=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),zA=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new HA(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return fI.K(new hI(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return GA(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return KE(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return GA(t).hs(function(s,a){var u=_A(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return kC.Ln(o)}).next(function(){return i})},t.prototype.In=function(t,e){return GA(t).hs(function(t,n){var r=_A(n);e(r)})},t.prototype.qi=function(t){return $A(t).get(rA.key).next(function(t){return KE(null!==t),t})},t.prototype.Ui=function(t,e){return $A(t).put(rA.key,e)},t.prototype.Gi=function(t,e){return GA(t).put(EA(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=tS(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return GA(t).hs({range:r,index:eA.queryTargetsIndexName},function(t,n,r){var o=_A(n);eS(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=KA(t);return e.forEach(function(e){var s=BC(e.path);i.push(o.put(new nA(n,s))),i.push(r.Ti.nr(t,n,e))}),kC.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=KA(t);return kC.forEach(e,function(e){var o=BC(e.path);return kC.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=KA(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=KA(t),i=DT();return r.hs({range:n,us:!0},function(t,e,n){var r=GC(t[1]),o=new mI(r);i=i.add(o)}).next(function(){return i})},t.prototype.Oi=function(t,e){var n=BC(e.path),r=IDBKeyRange.bound([n],[JE(n)],!1,!0),i=0;return KA(t).hs({index:nA.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return GA(t).get(e).next(function(t){return t?_A(t):null})},t}();function GA(t){return lA(t,eA.store)}function $A(t){return lA(t,rA.store)}function KA(t){return lA(t,nA.store)}function WA(t,e){var n=t[1],r=e[1],i=XE(t[0],e[0]);return 0===i?XE(n,r):i}var QA=function(){function t(t){this.cr=t,this.buffer=new IT(WA),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();WA(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),YA=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;BE("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Nv(e,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return DC(e=n.sent())?(BE("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,DA(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),XA=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return kC.resolve(lI.q);var r=new QA(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(BE("LruGarbageCollector","Garbage collection skipped; disabled"),kC.resolve(NA)):this.pr(t).next(function(r){return r<n.params.zs?(BE("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),NA):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(BE("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),qE()<=am.DEBUG&&BE("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),kC.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),ZA=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new XA(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return JA(t,n)},t.prototype.ir=function(t,e,n){return JA(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return JA(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return BA(t).ls(function(r){return FA(t,r,e).next(function(t){return t&&(n=!0),kC.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),KA(t).delete([0,BC(s.path)])})});i.push(u)}}).next(function(){return kC.Ln(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return JA(t,e)},t.prototype.Dr=function(t,e){var n,r=KA(t),i=lI.q;return r.hs({index:nA.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==lI.q&&e(new mI(GC(n)),i),i=s,n=o):i=lI.q}).next(function(){i!==lI.q&&e(new mI(GC(n)),i)})},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function JA(t,e){return KA(t).put(function(t,e){return new nA(0,BC(t.path),e)}(e,t.bs))}var tk=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return rk(t).put(ik(e),n)},t.prototype.li=function(t,e){var n=rk(t),r=ik(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Mr(t,r)})},t.prototype._i=function(t,e){var n=this;return rk(t).get(ik(e)).next(function(t){return n.Lr(t)})},t.prototype.$r=function(t,e){var n=this;return rk(t).get(ik(e)).next(function(t){var e=n.Lr(t);return e?{hi:e,size:jA(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=AT();return this.Br(t,e,function(t,e){var i=n.Lr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=AT(),i=new wT(mI.H);return this.Br(t,e,function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,jA(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return kC.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return rk(t).hs({range:r},function(t,e,r){for(var s=mI.Et(t);o&&mI.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=xT(),o=e.path.length+1,s={};if(n.isEqual(fI.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=vA(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=JC.collectionReadTimeIndex}return rk(t).hs(s,function(t,n,s){if(t.length===o){var a=pA(r.Qt,n);e.path.nt(a.key.path)?a instanceof QI&&PS(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ek(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return nk(t).get(tA.key).next(function(t){return KE(!!t),t})},t.prototype.Mr=function(t,e){return nk(t).put(tA.key,e)},t.prototype.Lr=function(t){if(t){var e=pA(this.Qt,t);return e instanceof YI&&e.version.isEqual(fI.min())?null:e}return null},t}(),ek=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new RA(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return xv(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new IT(function(t,e){return XE(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=gA(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=jA(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=gA(e.jr.Qt,new YI(o,fI.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),kC.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(LA);function nk(t){return lA(t,tA.store)}function rk(t){return lA(t,JC.store)}function ik(t){return t.path.it()}var ok=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;KE(n<r&&n>=0&&r<=11);var o=new xC("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(KC.store)}(t),function(t){t.createObjectStore(WC.store,{keyPath:WC.keyPath}),t.createObjectStore(QC.store,{keyPath:QC.keyPath,autoIncrement:!0}).createIndex(QC.userMutationsIndex,QC.userMutationsKeyPath,{unique:!0}),t.createObjectStore(YC.store)}(t),sk(t),function(t){t.createObjectStore(JC.store)}(t));var s=kC.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(nA.store),t.deleteObjectStore(eA.store),t.deleteObjectStore(rA.store)}(t),sk(t)),s=s.next(function(){return function(t){var e=t.store(rA.store),n=new rA(0,0,fI.min().j(),0);return e.put(rA.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(QC.store).rs().next(function(n){t.deleteObjectStore(QC.store),t.createObjectStore(QC.store,{keyPath:QC.keyPath,autoIncrement:!0}).createIndex(QC.userMutationsIndex,QC.userMutationsKeyPath,{unique:!0});var r=e.store(QC.store),i=n.map(function(t){return r.put(t)});return kC.Ln(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(oA.store,{keyPath:oA.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(tA.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(JC.store);e.createIndex(JC.readTimeIndex,JC.readTimeIndexPath,{unique:!1}),e.createIndex(JC.collectionReadTimeIndex,JC.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(sA.store,{keyPath:sA.keyPath})}(t),function(t){t.createObjectStore(aA.store,{keyPath:aA.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(JC.store).hs(function(t,n){e+=jA(n)}).next(function(){var n=new tA(e);return t.store(tA.store).put(tA.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(WC.store),r=t.store(QC.store);return n.rs().next(function(n){return kC.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(QC.userMutationsIndex,i).next(function(r){return kC.forEach(r,function(r){KE(r.userId===n.userId);var i=wA(e.Qt,r);return MA(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(nA.store),n=t.store(JC.store);return t.store(rA.store).get(rA.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new pI(n),s=function(t){return[0,BC(t)]}(o);r.push(e.get(s).next(function(n){return n?kC.resolve():function(n){return e.put(new nA(0,BC(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return kC.Ln(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(iA.store,{keyPath:iA.keyPath});var n=e.store(iA.store),r=new kA,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:BC(i)})}};return e.store(JC.store).hs({us:!0},function(t,e){var n=new pI(t);return i(n.X())}).next(function(){return e.store(YC.store).hs({us:!0},function(t,e){var n=GC(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(eA.store);return n.hs(function(t,r){var i=_A(r),o=EA(e.Qt,i);return n.put(o)})},t}();function sk(t){t.createObjectStore(nA.store,{keyPath:nA.keyPath}).createIndex(nA.documentTargetsIndex,nA.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(eA.store,{keyPath:eA.keyPath}).createIndex(eA.queryTargetsIndexName,eA.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rA.store)}var ak="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uk=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new nI(eI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new ZA(this,i),this.ho=n+"main",this.Qt=new dA(u),this.lo=new OC(this.ho,11,new ok(this.Qt)),this._o=new zA(this.Ti,this.Qt),this.Ei=new xA,this.fo=function(t,e){return new tk(t,e)}(this.Qt,this.Ei),this.wo=new SA,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&HE("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new nI(eI.FAILED_PRECONDITION,ak);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new lI(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Nv(e,void 0,void 0,function(){return Pv(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Nv(e,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Nv(e,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return lk(e).put(new oA(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(DC(e))return BE("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return BE("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return ck(t).get(KC.key).next(function(t){return kC.resolve(e.Do(t))})},t.prototype.Co=function(t){return lk(t).delete(this.clientId)},t.prototype.xo=function(){return Nv(this,void 0,void 0,function(){var t,e,n,r=this;return Pv(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=lA(t,oA.store);return e.rs().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return kC.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Oo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?kC.resolve(!0):ck(t).get(KC.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new nI(eI.FAILED_PRECONDITION,ak);return!1}}return!(!e.networkEnabled||!e.inForeground)||lk(t).rs().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&BE("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Mo=function(){return Nv(this,void 0,void 0,function(){var t=this;return Pv(this,function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[KC.store,oA.store],function(e){var n=new cA(e,lI.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return lk(e).rs().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return VA.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return BE("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",uA,function(o){return r=new cA(o,i.so?i.so.next():lI.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw HE("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new nI(eI.FAILED_PRECONDITION,UC);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return ck(t).get(KC.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new nI(eI.FAILED_PRECONDITION,ak)})},t.prototype.So=function(t){var e=new KC(this.clientId,this.allowTabSynchronization,Date.now());return ck(t).put(KC.key,e)},t.Kn=function(){return OC.Kn()},t.prototype.vo=function(t){var e=this,n=ck(t);return n.get(KC.key).next(function(t){return e.Do(t)?(BE("IndexedDbPersistence","Releasing primary lease."),n.delete(KC.key)):kC.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(HE("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps(function(){return e.Mo()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return BE("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return HE("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){HE("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ck(t){return lA(t,KC.store)}function lk(t){return lA(t,oA.store)}function hk(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fk=function(t,e){this.progress=t,this.Go=e},dk=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=AT();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=CT();return i.forEach(function(t,e){e||(e=new YI(t,fI.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return mI.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):TS(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new mI(e)).next(function(t){var e=xT();return t instanceof QI&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=xT();return this.Ei.Us(t,i).next(function(s){return kC.forEach(s,function(s){var a=function(t,e){return new yS(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=rT(u,r.get(c),o.vs);r=l instanceof QI?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){PS(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=DT(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof uT&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof QI&&(c=c.zt(t,e))}),c})},t}(),pk=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=DT(),i=DT(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gk=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(fI.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(_S(e)||ES(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(qE()<=am.DEBUG&&BE("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),NS(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new IT(DS(t));return e.forEach(function(e,r){r instanceof QI&&PS(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return qE()<=am.DEBUG&&BE("QueryEngine","Using full collection scan to execute query:",NS(e)),this.ac.Kr(t,e,fI.min())},t}(),vk=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new wT(XE),this.dc=new RA(function(t){return tS(t)},eS),this.wc=fI.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new dk(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function mk(t,e,n,r){return new vk(t,e,n,r)}function yk(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o;return Pv(this,function(s){switch(s.label){case 0:return n=WE(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new dk(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=DT(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function bk(t,e){var n=WE(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=kC.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);KE(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}function wk(t){var e=WE(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function _k(t,e){var n=WE(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.Fe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Lt(u,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return KE(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=CT();if(e.ke.forEach(function(r,i){e.Me.has(r)&&s.push(n.persistence.Ti.Or(t,r))}),s.push(Ek(t,o,e.ke,r,void 0).next(function(t){a=t})),!r.isEqual(fI.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return kC.Ln(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function Ek(t,e,n,r,i){var o=DT();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=CT();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof YI&&s.version.isEqual(fI.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):BE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ik(t,e){var n=WE(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Sk(t,e){var n=WE(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?kC.resolve(r=i):n._o.Bi(t).next(function(i){return r=new LS(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Tk(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:r=WE(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!DC(s=a.sent()))throw s;return BE("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ck(t,e,n){var r=WE(t),i=fI.min(),o=DT();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=WE(t),i=r.dc.get(n);return void 0!==i?kC.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,AS(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:fI.min(),n?o:DT())}).next(function(t){return{documents:t,Rc:o}})})}function Ak(t,e){var n=WE(t),r=WE(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function kk(t){var e=WE(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=WE(t),i=CT(),o=vA(n),s=rk(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:JC.readTimeIndex,range:a},function(t,e){var n=pA(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:mA(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function xk(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){return[2,(e=WE(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=rk(t),n=fI.min();return e.hs({index:JC.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=mA(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Ok(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Pv(this,function(p){switch(p.label){case 0:for(i=WE(t),o=DT(),s=CT(),a=NT(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Sk(i,function(t){return AS(wS(pI.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Ek(t,f,s,fI.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Nk(t,e,n){return void 0===n&&(n=DT()),Nv(this,void 0,void 0,function(){var r,i;return Pv(this,function(o){switch(o.label){case 0:return[4,Sk(t,AS(IA(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=WE(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=tC(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var s=r.Lt(tI.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.$s(t,e)})})]}})})}var Pk=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return kC.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:tC(n.createTime)}),kC.resolve()},t.prototype.Ls=function(t,e){return kC.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:IA(t.bundledQuery),readTime:tC(t.readTime)}}(e)),kC.resolve()},t}(),Dk=function(){function t(){this.vc=new IT(Rk.Sc),this.Dc=new IT(Rk.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Rk(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Rk(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Oc=function(t){var e=this,n=new mI(new pI([])),r=new Rk(n,t),i=new Rk(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.kc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new mI(new pI([])),n=new Rk(e,t),r=new Rk(e,t+1),i=DT();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Oi=function(t){var e=new Rk(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Rk=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return mI.H(t.key,e.key)||XE(t.Lc,e.Lc)},t.Cc=function(t,e){return XE(t.Lc,e.Lc)||mI.H(t.key,e.key)},t}(),Lk=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new IT(Rk.Sc)}return t.prototype.Ai=function(t){return kC.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++;var o=new hA(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Rk(u.key,i)),this.Ei.qs(t,u.key.path.X())}return kC.resolve(o)},t.prototype.Pi=function(t,e){return kC.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return kC.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return kC.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return kC.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Rk(e,0),i=new Rk(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Lc);o.push(e)}),kC.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new IT(XE);return e.forEach(function(t){var e=new Rk(t,0),i=new Rk(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Lc)})}),kC.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;mI.wt(i)||(i=i.child(""));var o=new Rk(new mI(i),0),s=new IT(XE);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Lc)),!0)},o),kC.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;KE(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return kC.forEach(e.mutations,function(i){var o=new Rk(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new Rk(e,0),r=this.Bc.Re(n);return kC.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return kC.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Mk=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new wT(mI.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return kC.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=AT();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),kC.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=xT(),i=new mI(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof QI&&PS(e,u)&&(r=r.zt(u.key,u))}return kC.resolve(r)},t.prototype.jc=function(t,e){return kC.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new jk(this)},t.prototype.kr=function(t){return kC.resolve(this.size)},t}(),jk=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return xv(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),kC.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(LA),Vk=function(){function t(t){this.persistence=t,this.Gc=new RA(function(t){return tS(t)},eS),this.lastRemoteSnapshotVersion=fI.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Dk,this.targetCount=0,this.Jc=HA.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),kC.resolve()},t.prototype.Qi=function(t){return kC.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return kC.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),kC.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),kC.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new HA(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,kC.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),kC.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,kC.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),kC.Ln(o).next(function(){return i})},t.prototype.Zi=function(t){return kC.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return kC.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),kC.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),kC.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),kC.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return kC.resolve(n)},t.prototype.Oi=function(t,e){return kC.resolve(this.Hc.Oi(e))},t}(),Fk=function(){function t(t,e){var n=this;this.Yc={},this.so=new lI(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Vk(this),this.Ei=new AA,this.fo=function(t,e){return new Mk(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new dA(e),this.wo=new Pk(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Lk(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;BE("MemoryPersistence","Starting transaction:",t);var i=new Uk(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).kn().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return kC.$n(Object.values(this.Yc).map(function(n){return function(){return n.Oi(t,e)}}))},t}(),Uk=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return xv(e,t),e}(qC),qk=function(){function t(t){this.persistence=t,this.na=new Dk,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw $E()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),kC.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),kC.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),kC.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return kC.forEach(this.ra,function(r){var i=mI._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return kC.$n([function(){return kC.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Bk(t,e){return"firestore_clients_"+t+"_"+e}function Hk(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function zk(t,e){return"firestore_targets_"+t+"_"+e}var Gk=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new nI(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(HE("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$k=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new nI(r.error.code,r.error.message)),i?new t(e,r.state,o):(HE("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kk=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=LT(),s=0;i&&s<r.activeTargetIds.length;++s)i=NI(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(HE("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wk=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(HE("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qk=function(){function t(){this.activeTargetIds=LT()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Yk=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new wT(XE),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Bk(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Qk),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Nv(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Pv(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Bk(this.persistenceKey,r)))&&(o=Kk.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.Mo()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(zk(this.persistenceKey,t));if(n){var r=$k.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(zk(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return BE("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){BE("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){BE("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(BE("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void HE("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Nv(e,void 0,void 0,function(){var t,e,r,i,o,s;return Pv(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=lI.q;if(null!=t)try{var n=JSON.parse(t);KE("number"==typeof n),e=n}catch(t){HE("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==lI.q&&this.M(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new Gk(this.currentUser,t,e,n),i=Hk(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=Hk(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=zk(this.persistenceKey,t),i=new $k(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Kk.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Gk.ca(new iI(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return $k.ca(r,e)},t.prototype.pa=function(t){return Wk.ca(t)},t.prototype.Ya=function(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(BE("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=LT();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Xk=function(){function t(){this.iu=new Qk,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Qk,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Zk=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),Jk=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){BE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){BE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ex=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),nx=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return xv(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new jE;s.listenOnce(RE.COMPLETE,function(){try{switch(s.getLastErrorCode()){case DE.NO_ERROR:var e=s.getResponseJson();BE("Connection","XHR received:",JSON.stringify(e)),i(e);break;case DE.TIMEOUT:BE("Connection",'RPC "'+t+'" timed out'),o(new nI(eI.DEADLINE_EXCEEDED,"Request time out"));break;case DE.HTTP_ERROR:var n=s.getStatus();if(BE("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(eI).indexOf(e)>=0?e:eI.UNKNOWN}(r.status);o(new nI(a,r.message))}else o(new nI(eI.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new nI(eI.UNAVAILABLE,"Connection failed."));break;default:$E()}}finally{BE("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new kE,o=Nw(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fv())||"object"==typeof navigator&&"ReactNative"===navigator.product||Fv().indexOf("Electron/")>=0||(n=Fv()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0||Fv().indexOf("MSAppHost/")>=0||qv()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");BE("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new ex({fu:function(t){l?BE("Connection","Not sending because WebChannel is closed:",t):(c||(BE("Connection","Opening WebChannel transport."),u.open(),c=!0),BE("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,ME.EventType.OPEN,function(){l||BE("Connection","WebChannel transport opened.")}),f(u,ME.EventType.CLOSE,function(){l||(l=!0,BE("Connection","WebChannel transport closed"),h.Ru())}),f(u,ME.EventType.ERROR,function(t){l||(l=!0,zE("Connection","WebChannel transport errored:",t),h.Ru(new nI(eI.UNAVAILABLE,"The operation could not be completed")))}),f(u,ME.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];KE(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){BE("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=dT[t];if(void 0!==e)return bT(e)}(i),s=r.message;void 0===o&&(o=eI.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Ru(new nI(o,s)),u.close()}else BE("Connection","WebChannel received:",n),h.Pu(n)}}),f(o,LE.STAT_EVENT,function(t){10===t.stat?BE("Connection","Detected buffering proxy"):11===t.stat&&BE("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Au()},0),h},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);BE("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return BE("RestConnection","Received: ",t),t},function(e){throw zE("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+tx[t]},t}());function rx(){return"undefined"!=typeof window?window:null}function ix(){return"undefined"!=typeof document?document:null}function ox(t){return new YT(t,!0)}var sx=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&BE("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,function(){return e.Mu=Date.now(),t()}),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),ax=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new sx(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Nv(this,void 0,void 0,function(){return Pv(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===eI.RESOURCE_EXHAUSTED?(HE(e.toString()),HE("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===eI.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new nI(eI.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u(function(){return Nv(t,void 0,void 0,function(){return Pv(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return BE("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(BE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ux=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return xv(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:$E()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(KE(void 0===e||"string"==typeof e),tI.fromBase64String(e||"")):(KE(void 0===e||e instanceof Uint8Array),tI.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?eI.UNKNOWN:bT(t.code);return new nI(e,t.message||"")}(a);n=new HT(r,i,o,s||null)}else if("documentChange"in e){i=iC(t,(r=e.documentChange).document.name),o=tC(r.document.updateTime);var a=new GI({mapValue:{fields:r.document.fields}}),u=(s=new QI(i,o,a,{}),r.targetIds||[]);n=new qT(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=iC(t,(r=e.documentDelete).document),o=r.readTime?tC(r.readTime):fI.min(),a=new YI(i,o),n=new qT([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=iC(t,(r=e.documentRemove).document),n=new qT([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return $E();var c=e.filter;i=new mT(r=c.count||0),n=new BT(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return fI.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fI.min():e.readTime?tC(e.readTime):fI.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=aC(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=nS(r)?{documents:dC(t,r)}:{query:pC(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=ZT(t,e.resumeToken):e.kt._(fI.min())>0&&(n.readTime=XT(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $E()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=aC(this.Qt),e.removeTarget=t,this.th(e)},e}(ax),cx=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return xv(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(KE(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(KE(void 0!==e),t.map(function(t){return function(t,e){var n=tC(t.updateTime?t.updateTime:e);n.isEqual(fI.min())&&(n=tC(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ZS(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=tC(t.commitTime);return this.listener.dh(n,e)}return KE(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=aC(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return hC(e.Qt,t)})};this.th(n)},e}(ax),lx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return xv(e,t),e.prototype.Ih=function(){if(this.Th)throw new nI(eI.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===eI.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===eI.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),hx=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(HE(e),this.Rh=!1):BE("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),fx=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou(function(t){n.Ps(function(){return Nv(o,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return _x(this)?(BE("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return(e=WE(t)).Nh.add(4),[4,px(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,dx(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.kh=new hx(n,r)};function dx(t){return Nv(this,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:if(!_x(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function px(t){return Nv(this,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gx(t,e){var n=WE(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),wx(n)?bx(n):Mx(n).Hu()&&mx(n,e))}function vx(t,e){var n=WE(t),r=Mx(n);n.xh.delete(e),r.Hu()&&yx(n,e),0===n.xh.size&&(r.Hu()?r.Xu():_x(n)&&n.kh.set("Unknown"))}function mx(t,e){t.Mh.on(e.targetId),Mx(t).uh(e)}function yx(t,e){t.Mh.on(e),Mx(t).hh(e)}function bx(t){t.Mh=new GT({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Mx(t).start(),t.kh.Ph()}function wx(t){return _x(t)&&!Mx(t).zu()&&t.xh.size>0}function _x(t){return 0===WE(t).Nh.size}function Ex(t){t.Mh=void 0}function Ix(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){return t.xh.forEach(function(e,n){mx(t,e)}),[2]})})}function Sx(t,e){return Nv(this,void 0,void 0,function(){return Pv(this,function(n){return Ex(t),wx(t)?(t.kh.Vh(e),bx(t)):t.kh.set("Unknown"),[2]})})}function Tx(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o;return Pv(this,function(s){switch(s.label){case 0:if(t.kh.set("Online"),!(e instanceof HT&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o;return Pv(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Lh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.Mh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),BE("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cx(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qT?t.Mh.dn(e):e instanceof BT?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(fI.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,wk(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}}),n.Oe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(tI.T,n.kt)),yx(t,e);var r=new LS(n.target,e,1,n.sequenceNumber);mx(t,r)}}),t.Dh.$h(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return BE("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cx(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Cx(t,e,n){return Nv(this,void 0,void 0,function(){var r=this;return Pv(this,function(i){switch(i.label){case 0:if(!DC(e))throw e;return t.Nh.add(1),[4,px(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return wk(t.bh)}),t._s.po(function(){return Nv(r,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return BE("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,dx(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Ax(t,e){return e().catch(function(n){return Cx(t,n,e)})}function kx(t){return Nv(this,void 0,void 0,function(){var e,n,r,i,o;return Pv(this,function(s){switch(s.label){case 0:e=WE(t),n=jx(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return _x(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ik(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=jx(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cx(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return xx(e)&&Ox(e),[2]}})})}function xx(t){return _x(t)&&!jx(t).zu()&&t.Ch.length>0}function Ox(t){jx(t).start()}function Nx(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){return jx(t).Eh(),[2]})})}function Px(t){return Nv(this,void 0,void 0,function(){var e,n,r;return Pv(this,function(i){for(e=jx(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Dx(t,e,n){return Nv(this,void 0,void 0,function(){var r,i;return Pv(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=fA.from(r,e,n),[4,Ax(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,kx(t)];case 2:return o.sent(),[2]}})})}function Rx(t,e){return Nv(this,void 0,void 0,function(){return Pv(this,function(n){switch(n.label){case 0:return e&&jx(t)._h?[4,function(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return yT(r=e.code)&&r!==eI.ABORTED?(n=t.Ch.shift(),jx(t).Yu(),[4,Ax(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,kx(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xx(t)&&Ox(t),[2]}})})}function Lx(t,e){return Nv(this,void 0,void 0,function(){var n;return Pv(this,function(r){switch(r.label){case 0:return n=WE(t),e?(n.Nh.delete(2),[4,dx(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,px(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Mx(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=WE(t);return r.Ih(),new ux(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Ix.bind(null,t),Tu:Sx.bind(null,t),ah:Tx.bind(null,t)}),t.Fh.push(function(n){return Nv(e,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),wx(t)?bx(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Ex(t),e.label=3;case 3:return[2]}})})})),t.Uh}function jx(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=WE(t);return r.Ih(),new cx(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Nx.bind(null,t),Tu:Rx.bind(null,t),wh:Px.bind(null,t),dh:Dx.bind(null,t)}),t.Fh.push(function(n){return Nv(e,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,kx(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(BE("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Vx=function(){this.Kh=void 0,this.listeners=[]},Fx=function(){this.queries=new RA(function(t){return OS(t)},xS),this.onlineState="Unknown",this.Wh=new Set};function Ux(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Pv(this,function(c){switch(c.label){case 0:if(n=WE(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Vx),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=FC(a,"Initialization of query '"+NS(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&zx(n),[2]}})})}function qx(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s;return Pv(this,function(a){return n=WE(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Bx(t,e){for(var n=WE(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&zx(n)}function Hx(t,e,n){var r=WE(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function zx(t){t.Wh.forEach(function(t){t.next()})}var Gx=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new VT(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=VT.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),$x=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Kx=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return iC(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?lC(this.Qt,t.document,!1):new YI(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return tC(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Kx(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||DT()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Nv(this,void 0,void 0,function(){var t,e,n,r,i;return Pv(this,function(o){switch(o.label){case 0:return[4,Ok(this.bh,new Kx(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Nk(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new fk(Object.assign({},this.progress),t))]}})})}}();var Wx=function(t){this.key=t},Qx=function(t){this.key=t},Yx=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=DT(),this.De=DT(),this.hl=DS(t),this.ll=new MT(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new jT,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=_S(this.query)&&i.size===this.query.limit?i.last():null,c=ES(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof QI?e:null;h&&(h=PS(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),_S(this.query)||ES(this.query))for(;s.size>this.query.limit;){var l=_S(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $E()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new VT(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new jT,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=DT(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new Qx(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Wx(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=DT();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return VT.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Xx=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zx=function(t){this.key=t,this.Pl=!1},Jx=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new RA(function(t){return OS(t)},xS),this.Sl=new Map,this.Dl=[],this.Cl=new wT(mI.H),this.xl=new Map,this.Nl=new Dk,this.Fl={},this.Ol=new Map,this.kl=HA.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function tO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:return n=xO(t),(i=n.vl.get(e))?(n.Vl.Oa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Sk(n.bh,AS(e))];case 2:return o=a.sent(),s=n.Vl.Oa(o.targetId),[4,eO(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ll&&gx(n.yl,o),a.label=4;case 4:return[2,r]}})})}function eO(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s,a,u,c;return Pv(this,function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s;return Pv(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Ck(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.wi(i,t.Ll,o),[2,(pO(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Ck(t.bh,e,!0)];case 1:return i=l.sent(),o=new Yx(e,i.Rc),s=o.fl(i.documents),a=UT.$e(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ll,a),pO(t,n,u.Il),c=new Xx(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function nO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:return n=WE(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!xS(t,e)})),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Tk(n.bh,r.targetId,!1).then(function(){n.Vl.$a(r.targetId),vx(n.yl,r.targetId),fO(n,r.targetId)}).catch(DA)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return fO(n,r.targetId),[4,Tk(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function rO(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:r=OO(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=WE(t),i=hI.now(),o=e.reduce(function(t,e){return t.add(e.key)},DT());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=iT(c,n.get(c.key));null!=l&&s.push(new uT(c.key,l,KI(l.proto.mapValue),JS.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new wT(XE)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,mO(r,i.ri)];case 3:return a.sent(),[4,kx(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=FC(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function iO(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:n=WE(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,_k(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.xl.get(e);r&&(KE(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?KE(r.Pl):t.Qe.size>0&&(KE(r.Pl),r.Pl=!1))}),[4,mO(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,DA(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function oO(t,e,n){var r=WE(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=WE(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&zx(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function sO(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s,a,u;return Pv(this,function(c){switch(c.label){case 0:return(r=WE(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new wT(mI.H)).zt(o,new YI(o,fI.min())),a=DT().add(o),u=new FT(fI.min(),new Map,new IT(XE),s,a),[4,iO(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),vO(r),[3,4];case 2:return[4,Tk(r.bh,e,!1).then(function(){return fO(r,e,n)}).catch(DA)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function aO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:n=WE(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,bk(n.bh,e)];case 2:return i=o.sent(),hO(n,r,null),lO(n,r),n.Vl.Na(r,"acknowledged"),[4,mO(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,DA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uO(t,e,n){return Nv(this,void 0,void 0,function(){var r,i;return Pv(this,function(o){switch(o.label){case 0:r=WE(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=WE(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return KE(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),hO(r,e,n),lO(r,e),r.Vl.Na(e,"rejected",n),[4,mO(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,DA(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function cO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:_x((n=WE(t)).yl)||BE("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=WE(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=a.sent(),s=FC(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function lO(t,e){(t.Ol.get(e)||[]).forEach(function(t){t.resolve()}),t.Ol.delete(e)}function hO(t,e,n){var r=WE(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function fO(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach(function(e){t.Nl.Oi(e)||dO(t,e)})}function dO(t,e){var n=t.Cl.get(e);null!==n&&(vx(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),vO(t))}function pO(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wx?(t.Nl.nr(o.key,e),gO(t,o)):o instanceof Qx?(BE("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||dO(t,o.key)):$E()}}function gO(t,e){var n=e.key;t.Cl.get(n)||(BE("SyncEngine","New document in limbo: "+n),t.Dl.push(n),vO(t))}function vO(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Zx(e)),t.Cl=t.Cl.zt(e,n),gx(t.yl,new LS(AS(wS(e.path)),n,2,lI.q))}}function mO(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s;return Pv(this,function(a){switch(a.label){case 0:return r=WE(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.$l(a,e,n).then(function(t){if(t){r.Ll&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=pk.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Pv(this,function(l){switch(l.label){case 0:n=WE(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return kC.forEach(e,function(e){return kC.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return kC.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!DC(r=l.sent()))throw r;return BE("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.$t(u.kt),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function yO(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return(n=WE(t)).currentUser.isEqual(e)?[3,3]:(BE("SyncEngine","User change. New user:",e.A()),[4,yk(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach(function(t){t.forEach(function(t){t.reject(new nI(eI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,mO(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function bO(t,e){var n=WE(t),r=n.xl.get(e);if(r&&r.Pl)return DT().add(r.key);var i=DT(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function wO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:return[4,Ck((n=WE(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&pO(n,e.targetId,i.Il),i)]}})})}function _O(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){return[2,kk((e=WE(t)).bh).then(function(t){return mO(e,t)})]})})}function EO(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o;return Pv(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=WE(t),r=WE(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):kC.resolve(null)})})}((i=WE(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,kx(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hO(i,e,r||null),lO(i,e),function(t,e){WE(WE(t).zo).xi(e)}(i.bh,e)):$E(),s.label=4;case 4:return[4,mO(i,o)];case 5:return s.sent(),[3,7];case 6:BE("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function IO(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Pv(this,function(c){switch(c.label){case 0:return xO(n=WE(t)),OO(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,SO(n,r.it())]);case 1:return i=c.sent(),n.Ml=!0,[4,Lx(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)gx(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.La(e)?a.push(e):u=u.then(function(){return fO(n,e),Tk(n.bh,e,!0)}),vx(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,SO(n,a)];case 5:return c.sent(),function(t){var e=WE(t);e.xl.forEach(function(t,n){vx(e.yl,n)}),e.Nl.kc(),e.xl=new Map,e.Cl=new wT(mI.H)}(n),n.Ml=!1,[4,Lx(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function SO(t,e,n){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Pv(this,function(g){switch(g.label){case 0:n=WE(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,Sk(n.bh,AS(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,wO(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ak(n.bh,a)];case 8:return p=g.sent(),[4,Sk(n.bh,p)];case 9:return u=g.sent(),[4,eO(n,TO(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function TO(t){return bS(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function CO(t){var e=WE(t);return WE(WE(e.bh).persistence).Uo()}function AO(t,e,n,r){return Nv(this,void 0,void 0,function(){var i,o,s;return Pv(this,function(a){switch(a.label){case 0:return(i=WE(t)).Ml?(BE("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kk(i.bh)];case 3:return o=a.sent(),s=FT.Le(e,"current"===n),[4,mO(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Tk(i.bh,e,!0)];case 6:return a.sent(),fO(i,e,r),[3,8];case 7:$E(),a.label=8;case 8:return[2]}})})}function kO(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Pv(this,function(f){switch(f.label){case 0:if(!(r=xO(t)).Ml)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(BE("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ak(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,Sk(r.bh,a)];case 3:return u=f.sent(),[4,eO(r,TO(a),u.targetId,!1)];case 4:f.sent(),gx(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Pv(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Tk(r.bh,t,!1).then(function(){vx(r.yl,t),fO(r,t)}).catch(DA)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function xO(t){var e=WE(t);return e.yl.Dh.$h=iO.bind(null,e),e.yl.Dh.vn=bO.bind(null,e),e.yl.Dh.Lh=sO.bind(null,e),e.bl.ah=Bx.bind(null,e.gl),e.bl.Bl=Hx.bind(null,e.gl),e}function OO(t){var e=WE(t);return e.yl.Dh.Bh=aO.bind(null,e),e.yl.Dh.qh=uO.bind(null,e),e}var NO=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return this.Qt=ox(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return mk(this.persistence,new gk,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Fk(qk.ia,this.Qt)},t.prototype.Wl=function(t){return new Xk},t.prototype.terminate=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}})})},t}(),PO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return xv(e,t),e.prototype.initialize=function(e){return Nv(this,void 0,void 0,function(){return Pv(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,xk(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,OO(this.Yl._a)];case 4:return n.sent(),[4,kx(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return mk(this.persistence,new gk,t.Jl,this.Qt)},e.prototype.zl=function(t){return new YA(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=hk(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?PA.Ys(this.cacheSizeBytes):PA.ti;return new uk(this.synchronizeTabs,e,t.clientId,n,t._s,rx(),ix(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Xk},e}(NO),DO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return xv(e,t),e.prototype.initialize=function(e){return Nv(this,void 0,void 0,function(){var n,r=this;return Pv(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Yk?(this.Vl._a={eu:EO.bind(null,n),nu:AO.bind(null,n),su:kO.bind(null,n),Uo:CO.bind(null,n),tu:_O.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Nv(r,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return[4,IO(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=rx();if(!Yk.Kn(e))throw new nI(eI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hk(t.yu.t,t.yu.persistenceKey);return new Yk(e,t._s,n,t.clientId,t.Jl)},e}(PO),RO=function(){function t(){}return t.prototype.initialize=function(t,e){return Nv(this,void 0,void 0,function(){var n=this;return Pv(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return oO(n._a,t,1)},this.yl.Dh.n_=yO.bind(null,this._a),[4,Lx(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Fx},t.prototype.Xl=function(t){var e=ox(t.yu.t),n=new nx(t.yu);return function(t,e,n){return new lx(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return oO(s._a,t,0)},o=Jk.Kn()?new Jk:new Zk,new fx(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Jx(t,e,n,r,i,o);return s&&(a.Ml=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return e=WE(t),BE("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,px(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}})})}(this.yl)},t}(),LO=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),MO=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new AC,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Nv(this,void 0,void 0,function(){var t,e,n,r;return Pv(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new $x(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Nv(this,void 0,void 0,function(){var t,e;return Pv(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Nv(this,void 0,void 0,function(){var t,e;return Pv(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new nI(eI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new vI(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),jO=function(t){this._methodName=t},VO=function(t){this.d_=t};function FO(t,e,n){if(!n)throw new nI(eI.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function UO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nI(eI.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qO(t,e,n,r){if(!0===e&&!0===r)throw new nI(eI.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function BO(t){if(!mI.wt(t))throw new nI(eI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function HO(t){if(mI.wt(t))throw new nI(eI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":$E()}function GO(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new nI(eI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zO(t);throw new nI(eI.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $O(t,e){if(e<=0)throw new nI(eI.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var KO=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new nI(eI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nI(eI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),WO=new Map,QO=function(){function t(t,e){this.w_="(lite)",this.E_=new KO({}),this.T_=!1,t instanceof FE?(this.I_=t,this.m_=new sI):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nI(eI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new FE(t.options.projectId)}(t),this.m_=new aI(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new nI(eI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new nI(eI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new KO(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new sI;switch(t.type){case"gapi":var e=t.client;return KE(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cI(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new nI(eI.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=WO.get(this))&&(BE("ComponentProvider","Removing Datastore"),WO.delete(this),t.terminate()),Promise.resolve();var t},t}(),YO=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ZO(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),XO=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),ZO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wS(r))||this).firestore=e,i.D_=r,i.type="collection",i}return xv(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new YO(this.firestore,null,new mI(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(XO);function JO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof VO&&(t=t.d_),FO("collection","path",e),t instanceof QO)return HO(n=pI.ot.apply(pI,Mv([e],r))),new ZO(t,null,n);if(!(t instanceof YO||t instanceof ZO))throw new nI(eI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return HO(n=pI.ot.apply(pI,Mv([t.path],r)).child(pI.ot(e))),new ZO(t.firestore,null,n)}function tN(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof VO&&(t=t.d_),1===arguments.length&&(e=YE.u()),FO("doc","path",e),t instanceof QO)return BO(n=pI.ot.apply(pI,Mv([e],r))),new YO(t,null,new mI(n));if(!(t instanceof YO||t instanceof ZO))throw new nI(eI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return BO(n=t.D_.child(pI.ot.apply(pI,Mv([e],r)))),new YO(t.firestore,t instanceof ZO?t.v_:null,new mI(n))}function eN(t,e){return t instanceof VO&&(t=t.d_),e instanceof VO&&(e=e.d_),(t instanceof YO||t instanceof ZO)&&(e instanceof YO||e instanceof ZO)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function nN(t,e){return t instanceof VO&&(t=t.d_),e instanceof VO&&(e=e.d_),t instanceof XO&&e instanceof XO&&t.firestore===e.firestore&&xS(t.C_,e.C_)&&t.v_===e.v_}var rN=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new nI(eI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nI(eI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return XE(this.x_,t.x_)||XE(this.N_,t.N_)},t}(),iN=/^__.*__$/,oN=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new uT(t,this.data,this.Gt,e,this.fieldTransforms):new aT(t,this.data,e,this.fieldTransforms)},t}(),sN=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new uT(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function aN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $E()}}var uN=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return kN(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(aN(this.k_)&&iN.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),cN=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||ox(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new uN({k_:t,methodName:e,j_:n,path:vI.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function lN(t){var e=t.p_(),n=ox(t.I_);return new cN(t.I_,!!e.ignoreUndefinedProperties,n)}function hN(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);SN("Data must be an object, but it was:",s,r);var a,u,c=EN(r,s);if(o.merge)a=new _I(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=TN(e,f[h],n);if(!s.contains(d))throw new nI(eI.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xN(l,d)||l.push(d)}a=new _I(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new oN(new GI(c),a,u)}var fN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(jO);function dN(t,e,n){return new uN({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var pN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.z_=function(t){return new XS(t.path,new HS)},e.prototype.isEqual=function(t){return t instanceof e},e}(jO),gN=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return xv(e,t),e.prototype.z_=function(t){var e=dN(this,t,!0),n=this.H_.map(function(t){return _N(t,e)}),r=new zS(n);return new XS(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jO),vN=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return xv(e,t),e.prototype.z_=function(t){var e=dN(this,t,!0),n=this.H_.map(function(t){return _N(t,e)}),r=new $S(n);return new XS(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jO),mN=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return xv(e,t),e.prototype.z_=function(t){var e=new WS(t.Qt,VS(t.Qt,this.J_));return new XS(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(jO);function yN(t,e,n,r){var i=t.G_(1,e,n);SN("Data must be an object, but it was:",i,r);var o=[],s=new $I;bI(r,function(t,r){var a=AN(e,t,n);r instanceof VO&&(r=r.d_);var u=i.U_(a);if(r instanceof fN)o.push(a);else{var c=_N(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new _I(o);return new sN(s.Pt(),a,i.fieldTransforms)}function bN(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[TN(e,r,n)],u=[i];if(o.length%2!=0)throw new nI(eI.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(TN(e,o[c])),u.push(o[c+1]);for(var l=[],h=new $I,f=a.length-1;f>=0;--f)if(!xN(l,a[f])){var d=a[f],p=u[f];p instanceof VO&&(p=p.d_);var g=s.U_(d);if(p instanceof fN)l.push(d);else{var v=_N(p,g);null!=v&&(l.push(d),h.set(d,v))}}var m=new _I(l);return new sN(h.Pt(),m,s.fieldTransforms)}function wN(t,e,n,r){return void 0===r&&(r=!1),_N(n,t.G_(r?4:3,e))}function _N(t,e){if(t instanceof VO&&(t=t.d_),IN(t))return SN("Unsupported field value:",e,t),EN(t,e);if(t instanceof jO)return function(t,e){if(!aN(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=_N(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof VO&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return VS(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hI.fromDate(t);return{timestampValue:XT(e.Qt,n)}}if(t instanceof hI)return n=new hI(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:XT(e.Qt,n)};if(t instanceof rN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rI)return{bytesValue:ZT(e.Qt,t.I)};if(t instanceof YO){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:eC(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+zO(t))}(t,e)}function EN(t,e){var n={};return wI(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):bI(t,function(t,r){var i=_N(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function IN(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hI||t instanceof rN||t instanceof rI||t instanceof YO||t instanceof jO)}function SN(t,e,n){if(!IN(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zO(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function TN(t,e,n){if(e instanceof VO&&(e=e.d_),e instanceof MO)return e.f_;if("string"==typeof e)return AN(t,e);throw kN("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var CN=new RegExp("[~\\*/\\[\\]]");function AN(t,e,n){if(e.search(CN)>=0)throw kN("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(MO.bind.apply(MO,Mv([void 0],e.split("."))))).f_}catch(r){throw kN("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function kN(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new nI(eI.INVALID_ARGUMENT,(a+=". ")+t+u)}function xN(t,e){return t.some(function(t){return t.isEqual(e)})}var ON=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Nv(this,void 0,void 0,function(){var e,n=this;return Pv(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new nI(eI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Nv(this,void 0,void 0,function(){var n,r,i,o,s,a;return Pv(this,function(u){switch(u.label){case 0:return n=WE(t),r=aC(n.Qt)+"/documents",i={documents:e.map(function(t){return rC(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){KE(!!e.found);var n=iC(t,e.found.name),r=tC(e.found.updateTime),i=new GI({mapValue:{fields:e.found.fields}});return new QI(n,r,i,{})}(t,e):"missing"in e?function(t,e){KE(!!e.missing),KE(!!e.readTime);var n=iC(t,e.missing),r=tC(e.readTime);return new YI(n,r)}(t,e):$E()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());KE(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof YI||t instanceof QI?n.sf(t):$E()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new gT(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Nv(this,void 0,void 0,function(){var t,e=this;return Pv(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=mI._t(n);e.mutations.push(new vT(r,e.jt(r)))}),[4,function(t,e){return Nv(this,void 0,void 0,function(){var n,r,i;return Pv(this,function(o){switch(o.label){case 0:return n=WE(t),r=aC(n.Qt)+"/documents",i={writes:e.map(function(t){return hC(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof QI)e=t.version;else{if(!(t instanceof YI))throw $E();e=fI.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new nI(eI.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?JS.updateTime(e):JS.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(fI.min()))throw new nI(eI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return JS.updateTime(e)}return JS.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),NN=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new sx(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u(function(){return Nv(t,void 0,void 0,function(){var t,e,n=this;return Pv(this,function(r){return t=new ON(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!xI(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yT(e)}return!1},t}(),PN=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=iI.UNAUTHENTICATED,this.clientId=YE.u(),this._f=function(){},this.C=new AC,this.credentials.v(function(t){BE("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Nv(this,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new nI(eI.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new AC;return this._s.Tf(function(){return Nv(t,void 0,void 0,function(){var t,n;return Pv(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=FC(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function DN(t,e){return Nv(this,void 0,void 0,function(){var n,r,i=this;return Pv(this,function(o){switch(o.label){case 0:return t._s.Af(),BE("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Nv(i,void 0,void 0,function(){return Pv(this,function(t){switch(t.label){case 0:return[4,yk(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function RN(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,LN(t)];case 1:return n=i.sent(),BE("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Nv(this,void 0,void 0,function(){var n,r;return Pv(this,function(i){switch(i.label){case 0:return(n=WE(t))._s.Af(),BE("RemoteStore","RemoteStore received new credentials"),r=_x(n),n.Nh.add(3),[4,px(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,dx(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function LN(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(BE("FirestoreClient","Using default OfflineComponentProvider"),[4,DN(t,new NO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function MN(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(BE("FirestoreClient","Using default OnlineComponentProvider"),[4,RN(t,new RO)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function jN(t){return LN(t).then(function(t){return t.persistence})}function VN(t){return LN(t).then(function(t){return t.bh})}function FN(t){return MN(t).then(function(t){return t.yl})}function UN(t){return MN(t).then(function(t){return t._a})}function qN(t){return Nv(this,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:return[4,MN(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=tO.bind(null,e._a),n.Hh=nO.bind(null,e._a),n)]}})})}function BN(t,e,n){var r=this;void 0===n&&(n={});var i=new AC;return t._s.Ps(function(){return Nv(r,void 0,void 0,function(){var r;return Pv(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new LO({next:function(o){e.Ps(function(){return qx(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new nI(eI.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new nI(eI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Gx(wS(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ux(t,s)},[4,qN(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function HN(t,e,n){var r=this;void 0===n&&(n={});var i=new AC;return t._s.Ps(function(){return Nv(r,void 0,void 0,function(){var r;return Pv(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new LO({next:function(n){e.Ps(function(){return qx(t,s)}),n.fromCache&&"server"===r.source?i.reject(new nI(eI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Gx(n,o,{includeMetadataChanges:!0,nl:!0});return Ux(t,s)},[4,qN(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var zN=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new sx(this,"async_queue_retry"),this.vf=function(){var e=ix();e&&BE("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=ix();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ix();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Nv(this,void 0,void 0,function(){var t,e=this;return Pv(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!DC(t=n.sent()))throw t;return BE("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,HE("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=VC.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&$E()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Nv(this,void 0,void 0,function(){var t;return Pv(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function GN(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new AC,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var $N=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new zN,r.w_="name"in e?e.name:"[DEFAULT]",r}return xv(e,t),e.prototype.b_=function(){return this.qf||WN(this),this.qf.terminate()},e}(QO);function KN(t){return t.qf||WN(t),t.qf.df(),t.qf}function WN(t){var e=t.p_(),n=function(t,e,n){return new VE(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new PN(t.m_,t.Bf,n)}function QN(t,e,n){var r=this,i=new AC;return t._s.enqueue(function(){return Nv(r,void 0,void 0,function(){var r;return Pv(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,DN(t,n)];case 1:return o.sent(),[4,RN(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===eI.FAILED_PRECONDITION||t.code===eI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function YN(t){if(t.R_||t.P_)throw new nI(eI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var XN=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),PI(t)){case 0:return null;case 1:return t.booleanValue;case 2:return SI(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(TI(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw $E()}},t.prototype.Hf=function(t,e){var n=this,r={};return bI(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new rN(SI(t.latitude),SI(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=AI(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(kI(t));default:return null}},t.prototype.Qf=function(t){var e=II(t);return new hI(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=pI.ot(t);KE(CC(n));var r=new FE(n.get(1),n.get(3)),i=new mI(n.Y(5));return r.isEqual(e)||HE("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ZN=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new YO(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new JN(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(tP("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),JN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ZN);function tP(t,e){return"string"==typeof e?AN(t,e):e instanceof VO?e.d_.f_:e.f_}function eP(t){if(ES(t)&&0===t.xt.length)throw new nI(eI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nP=function(){};function rP(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var iP=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return xv(e,t),e.prototype.td=function(t){var e=lN(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new nI(eI.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hP(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(lP(r,t,l[c]));a={arrayValue:{values:u}}}else a=lP(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hP(s,o),a=wN(n,"where",s,"in"===o||"not-in"===o);var h=rS.create(i,o,a);return function(t,e){if(e.Ct()){var n=SS(t);if(null!==n&&!n.isEqual(e.field))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=IS(t);null!==r&&fP(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new nI(eI.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new XO(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new yS(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(nP),oP=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return xv(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new nI(eI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nI(eI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pS(e,n);return function(t,e){if(null===IS(t)){var n=SS(t);null!==n&&fP(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new XO(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new yS(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(nP),sP=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return xv(e,t),e.prototype.td=function(t){return new XO(t.firestore,t.v_,kS(t.C_,this.od,this.ad))},e}(nP),aP=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return xv(e,t),e.prototype.td=function(t){var e=cP(t,this.type,this.ud,this.hd);return new XO(t.firestore,t.v_,function(t,e){return new yS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(nP),uP=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return xv(e,t),e.prototype.td=function(t){var e=cP(t,this.type,this.ud,this.hd);return new XO(t.firestore,t.v_,function(t,e){return new yS(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(nP);function cP(t,e,n,r){if(n[0]instanceof VO&&(n[0]=n[0].d_),n[0]instanceof ZN)return function(t,e,n,r,i){if(!r)throw new nI(eI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=CS(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(FI(e,r.key));else{var c=r.field(u.field);if(CI(c))throw new nI(eI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new nI(eI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new fS(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=lN(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new nI(eI.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new nI(eI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!TS(t)&&-1!==c.indexOf("/"))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(pI.ot(c));if(!mI.wt(l))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new mI(l);a.push(FI(e,h))}else{var f=wN(n,r,c);a.push(f)}}return new fS(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function lP(t,e,n){if(n instanceof VO&&(n=n.d_),"string"==typeof n){if(""===n)throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&-1!==n.indexOf("/"))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(pI.ot(n));if(!mI.wt(r))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return FI(t,new mI(r))}if(n instanceof YO)return FI(t,n.S_);throw new nI(eI.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zO(n)+".")}function hP(t,e){if(!Array.isArray(t)||0===t.length)throw new nI(eI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new nI(eI.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function fP(t,e,n){if(!n.isEqual(e))throw new nI(eI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function dP(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pP=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xv(e,t),e.prototype.Wf=function(t){return new rI(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new YO(this.firestore,null,e)},e}(XN),gP=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),vP=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return xv(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new mP(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(tP("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(ZN),mP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(vP),yP=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new gP(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new mP(n.Yf,n.Xf,r.key,r,new gP(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new nI(eI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new mP(t.Yf,t.Xf,e.doc.key,e.doc,new gP(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new mP(t.Yf,t.Xf,e.doc.key,e.doc,new gP(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:bP(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function bP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $E()}}function wP(t,e){return t instanceof vP&&e instanceof vP?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof yP&&e instanceof yP&&t.Yf===e.Yf&&nN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var _P=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xv(e,t),e.prototype.Wf=function(t){return new rI(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new YO(this.firestore,null,e)},e}(XN);function EP(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=GO(t,YO);var o=GO(t.firestore,$N),s=lN(o);return e instanceof VO&&(e=e.d_),SP(o,[("string"==typeof e||e instanceof MO?bN(s,"updateDoc",t.S_,e,n,r):yN(s,"updateDoc",t.S_,e)).F_(t.S_,JS.exists(!0))])}function IP(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof VO&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||GN(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(GN(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof YO)c=GO(t.firestore,$N),l=wS(t.S_.path),u={next:function(e){i[a]&&i[a](TP(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=GO(t,XO);c=GO(d.firestore,$N),l=d.C_;var p=new _P(c);u={next:function(t){i[a]&&i[a](new yP(c,p,d,t))},error:i[a+1],complete:i[a+2]},eP(t.C_)}return function(t,e,n,r){var i=this,o=new LO(r),s=new Gx(e,o,n);return t._s.Ps(function(){return Nv(i,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return e=Ux,[4,qN(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Nv(i,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return e=qx,[4,qN(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(KN(c),l,h,u)}function SP(t,e){return function(t,e){var n=this,r=new AC;return t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var n;return Pv(this,function(i){switch(i.label){case 0:return n=rO,[4,UN(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(KN(t),e)}function TP(t,e,n){var r=n.docs.get(e.S_),i=new _P(t);return new vP(t,i,e.S_,r,new gP(n.hasPendingWrites,n.fromCache),e.v_)}var CP=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=lN(t)}return t.prototype.set=function(t,e,n){this.md();var r=AP(t,this.Yf),i=dP(r.v_,e,n),o=hN(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,JS.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=AP(t,this.Yf);return e instanceof VO&&(e=e.d_),o="string"==typeof e||e instanceof MO?bN(this.Id,"WriteBatch.update",s.S_,e,n,r):yN(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,JS.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=AP(t,this.Yf);return this.Ed=this.Ed.concat(new gT(e.S_,JS.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new nI(eI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function AP(t,e){if(t instanceof VO&&(t=t.d_),t.firestore!==e)throw new nI(eI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var kP=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return xv(e,t),e.prototype.get=function(e){var n=this,r=AP(e,this.Yf),i=new _P(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new vP(n.Yf,i,r.S_,t.Zf,new gP(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=lN(t)}return t.prototype.get=function(t){var e=this,n=AP(t,this.Yf),r=new pP(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return $E();var i=t[0];if(i instanceof YI)return new ZN(e.Yf,r,n.S_,null,n.v_);if(i instanceof QI)return new ZN(e.Yf,r,i.key,i,n.v_);throw $E()})},t.prototype.set=function(t,e,n){var r=AP(t,this.Yf),i=dP(r.v_,e,n),o=hN(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=AP(t,this.Yf);return e instanceof VO&&(e=e.d_),o="string"==typeof e||e instanceof MO?bN(this.Id,"Transaction.update",s.S_,e,n,r):yN(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=AP(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function xP(){if("undefined"==typeof Uint8Array)throw new nI(eI.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function OP(){if("undefined"==typeof atob)throw new nI(eI.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var NP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.fromBase64String=function(t){return OP(),new e(rI.fromBase64String(t))},e.fromUint8Array=function(t){return xP(),new e(rI.fromUint8Array(t))},e.prototype.toBase64=function(){return OP(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return xP(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(VO),PP=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){YN(t=GO(t,$N));var n=KN(t),r=t.p_(),i=new RO;return QN(n,i,new PO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){YN(t=GO(t,$N));var e=KN(t),n=t.p_(),r=new RO;return QN(e,r,new DO(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new nI(eI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new AC;return t.Bf.Tf(function(){return Nv(e,void 0,void 0,function(){var e;return Pv(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Nv(this,void 0,void 0,function(){return Pv(this,function(e){switch(e.label){case 0:return OC.Kn()?[4,OC.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(hk(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),DP=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof FE||(i.Pd=e),i}return xv(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=GO(t,QO)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&zE("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Nv(e,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:return[4,jN(t)];case 1:return e=r.sent(),[4,FN(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=WE(t);return e.Nh.delete(0),dx(e)}(n))]}})})})}(KN(GO(this.d_,$N)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Nv(e,void 0,void 0,function(){var e,n;return Pv(this,function(r){switch(r.label){case 0:return[4,jN(t)];case 1:return e=r.sent(),[4,FN(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Nv(this,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return(e=WE(t)).Nh.add(0),[4,px(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}})})}(n))]}})})})}(KN(GO(this.d_,$N)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new AC;return t._s.Ps(function(){return Nv(e,void 0,void 0,function(){var e;return Pv(this,function(r){switch(r.label){case 0:return e=cO,[4,UN(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(KN(GO(this.d_,$N)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new LO(e);return t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return e=function(t,e){WE(t).Wh.add(e),e.next()},[4,qN(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var e;return Pv(this,function(n){switch(n.label){case 0:return e=function(t,e){WE(t).Wh.delete(e)},[4,qN(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(KN(t=GO(t,$N)),GN(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new nI(eI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new KP(this,JO(this.d_,t))}catch(t){throw FP(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new VP(this,tN(this.d_,t))}catch(t){throw FP(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zP(this,function(t,e){if(t=GO(t,QO),FO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nI(eI.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new XO(t,null,function(t){return new yS(pI.ct(),t)}(e))}(this.d_,t))}catch(t){throw FP(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new AC;return t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var n;return Pv(this,function(i){switch(i.label){case 0:return[4,function(t){return MN(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new NN(t._s,n,e,r).run(),[2]}})})}),r.promise}(KN(t),function(n){return e(new kP(t,n))})}(this.d_,function(n){return t(new LP(e,n))})},e.prototype.batch=function(){var t=this;return KN(this.d_),new MP(new CP(this.d_,function(e){return SP(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new nI(eI.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new nI(eI.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(VO),RP=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return xv(e,t),e.prototype.Wf=function(t){return new NP(new rI(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return VP.yd(e,this.firestore,null)},e}(XN),LP=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new RP(e),r}return xv(e,t),e.prototype.get=function(t){var e=this,n=WP(t);return this.d_.get(n).then(function(t){return new BP(e.Yf,new vP(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=WP(t);return n?(UO("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=WP(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Mv([s,e,n],i)),this},e.prototype.delete=function(t){var e=WP(t);return this.d_.delete(e),this},e}(VO),MP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.set=function(t,e,n){var r=WP(t);return n?(UO("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=WP(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Mv([s,e,n],i)),this},e.prototype.delete=function(t){var e=WP(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(VO),jP=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return xv(e,t),e.prototype.fromFirestore=function(t,e){var n=new mP(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new HP(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new RP(t),n),i.set(n,o)),o},e}(VO);jP.Vd=new WeakMap;var VP=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new RP(e),r}return xv(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new nI(eI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new YO(n.d_,r,new mI(t)))},e.yd=function(t,n,r){return new e(n,new YO(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new KP(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new KP(this.firestore,JO(this.d_,t))}catch(t){throw FP(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof VO&&(t=t.d_),t instanceof YO&&eN(this.d_,t)},e.prototype.set=function(t,e){e=UO("DocumentReference.set",e);try{return function(t,e,n){t=GO(t,YO);var r=GO(t.firestore,$N),i=dP(t.v_,e,n);return SP(r,[hN(lN(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,JS.Kt())])}(this.d_,t,e)}catch(t){throw FP(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?EP(this.d_,t):EP.apply(void 0,Mv([this.d_,t,e],n))}catch(t){throw FP(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return SP(GO((t=this.d_).firestore,$N),[new gT(t.S_,JS.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=UP(e),i=qP(e,function(e){return new BP(t.firestore,new vP(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return IP(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=GO(t,YO);var e=GO(t.firestore,$N),n=KN(e),r=new _P(e);return function(t,e){var n=this,r=new AC;return t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var n;return Pv(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Nv(this,void 0,void 0,function(){var r,i;return Pv(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=WE(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof QI?n.resolve(i):i instanceof YI?n.resolve(null):n.reject(new nI(eI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=FC(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,VN(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new vP(e,r,t.S_,n,new gP(n instanceof QI&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=GO(t,YO);var e=GO(t.firestore,$N);return BN(KN(e),t.S_,{source:"server"}).then(function(n){return TP(e,t,n)})}(this.d_):function(t){t=GO(t,YO);var e=GO(t.firestore,$N);return BN(KN(e),t.S_).then(function(n){return TP(e,t,n)})}(this.d_)).then(function(t){return new BP(e.firestore,new vP(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jP.gd(this.firestore,t)))},e}(VO);function FP(t,e,n){return t.message=t.message.replace(e,n),t}function UP(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!GN(r))return r}return{}}function qP(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=GN(t[0])?t[0]:GN(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var BP=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return xv(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new VP(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return wP(this.d_,t.d_)},e}(VO),HP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(BP),zP=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new RP(e),r}return xv(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,rP(this.d_,function(t,e,n){var r=e,i=tP("where",t);return new iP(i,r,n)}(t,n,r)))}catch(t){throw FP(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,rP(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=tP("orderBy",t);return new oP(r,n)}(t,n)))}catch(t){throw FP(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,rP(this.d_,function(t){return $O("limit",t),new sP("limit",t,"F")}(t)))}catch(t){throw FP(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,rP(this.d_,function(t){return $O("limitToLast",t),new sP("limitToLast",t,"L")}(t)))}catch(t){throw FP(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rP(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new aP("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw FP(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rP(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new aP("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw FP(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rP(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uP("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw FP(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rP(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uP("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw FP(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return nN(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=GO(t,XO);var e=GO(t.firestore,$N),n=KN(e),r=new _P(e);return function(t,e){var n=this,r=new AC;return t._s.Ps(function(){return Nv(n,void 0,void 0,function(){var n;return Pv(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Nv(this,void 0,void 0,function(){var r,i,o,s,a;return Pv(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ck(t,e,!0)];case 1:return a=u.sent(),r=new Yx(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=FC(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,VN(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new yP(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=GO(t,XO);var e=GO(t.firestore,$N),n=KN(e),r=new _P(e);return HN(n,t.C_,{source:"server"}).then(function(n){return new yP(e,r,t,n)})}(this.d_):function(t){t=GO(t,XO);var e=GO(t.firestore,$N),n=KN(e),r=new _P(e);return eP(t.C_),HN(n,t.C_).then(function(n){return new yP(e,r,t,n)})}(this.d_)).then(function(t){return new $P(e.firestore,new yP(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=UP(e),i=qP(e,function(e){return new $P(t.firestore,new yP(t.firestore.d_,t.Xf,t.d_,e._d))});return IP(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jP.gd(this.firestore,t)))},e}(VO),GP=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return xv(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new HP(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(VO),$P=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return xv(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zP(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new HP(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new GP(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new HP(n.Yf,r))})},e.prototype.isEqual=function(t){return wP(this.d_,t.d_)},e}(VO),KP=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return xv(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new VP(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new VP(this.firestore,void 0===t?tN(this.d_):tN(this.d_,t))}catch(t){throw FP(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=GO(t.firestore,$N),r=tN(t),i=dP(t.v_,e);return SP(n,[hN(lN(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,JS.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new VP(e.firestore,t)})},e.prototype.isEqual=function(t){return eN(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jP.gd(this.firestore,t)))},e}(zP);function WP(t){return t instanceof VO&&(t=t.d_),GO(t,YO)}var QP,YP=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(MO.bind.apply(MO,Mv([void 0],e))))||this}return xv(e,t),e.documentId=function(){return new e(vI.ht().rt())},e.prototype.isEqual=function(t){return t instanceof VO&&(t=t.d_),t instanceof MO&&this.d_.f_.isEqual(t.f_)},e}(VO),XP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xv(e,t),e.serverTimestamp=function(){var t=new pN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new fN("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gN("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vN("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new mN("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(VO),ZP={Firestore:DP,GeoPoint:rN,Timestamp:hI,Blob:NP,Transaction:LP,WriteBatch:MP,DocumentReference:VP,DocumentSnapshot:BP,Query:zP,QueryDocumentSnapshot:HP,QuerySnapshot:$P,CollectionReference:KP,FieldPath:YP,FieldValue:XP,setLogLevel:function(t){UE.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new em("firestore",function(t){return function(t,e){return new DP(t,new $N(t,e),new PP)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ZP)))})(QP=Am),QP.registerVersion("@firebase/firestore","2.1.5");let JP=(()=>{class t{signIn(t,e){return Av(this,void 0,void 0,function*(){return Am.auth().signInWithEmailAndPassword(t,e).then(()=>({status:"logged in"})).catch(t=>({status:"error",errorMessage:t.message}))})}signOut(){Am.auth().signOut().then(()=>{console.log("Signed Out")}).catch(t=>{console.error(t)})}getSignInStatus(){return new y(t=>{const e=Am.auth().onAuthStateChanged(e=>{t.next(e)});return()=>e()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();Am.initializeApp({apiKey:"AIzaSyA-VnpxuMGw5OAb71i-9SrZdLXJsho8D6o",authDomain:"star-wars-all-stars.firebaseapp.com",databaseURL:"https://star-wars-all-stars-default-rtdb.firebaseio.com",projectId:"star-wars-all-stars",storageBucket:"star-wars-all-stars.appspot.com",messagingSenderId:"775785381521",appId:"1:775785381521:web:08cd5039529aac26704930",measurementId:"G-T7RS5XF38F"});const tD=Am.firestore();let eD=(()=>{class t{returnMovieDomainModel(t,e){return{director:t.fields.director,docId:e,openingCrawl:this.getRidOfLineBreaks(t.fields.opening_crawl),pk:t.pk,producer:t.fields.producer,releaseDate:t.fields.release_date,title:t.fields.title,characters:t.fields.characters,created:t.fields.created,edited:t.fields.edited,episodeId:t.fields.episode_id,planets:t.fields.planets,species:t.fields.species,starships:t.fields.starships,vehicles:t.fields.vehicles,model:t.model}}returnMovieDTO(t,e){var n;return{fields:{director:t.director,opening_crawl:this.getRidOfLineBreaks(t.openingCrawl),producer:t.producer,release_date:t.releaseDate,title:t.title,created:null!==(n=t.created)&&void 0!==n?n:(new Date).toISOString(),edited:(new Date).toISOString(),episode_id:"",characters:[],planets:[],species:[],starships:[],vehicles:[]},pk:e+1,model:""}}getRidOfLineBreaks(t){if(t)return t.replace(/[\n\r]+/gm," ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nD=(()=>{class t{constructor(t){this.mapper=t}add(t){return Av(this,void 0,void 0,function*(){try{return yield tD.collection("films").get().then(t=>t.docs.length).then(e=>tD.collection("films").add(Object.assign({},this.mapper.returnMovieDTO(t,e))))}catch(e){return console.error("Error adding document: ",e),e}})}delete(t){return Av(this,void 0,void 0,function*(){try{yield tD.collection("films").doc(t).delete(),console.log("Document successfully deleted!")}catch(e){console.error("Error removing document: ",e)}})}saveChangesMovie(t,e){var n;return Av(this,void 0,void 0,function*(){try{yield tD.collection("films").doc(e.docId).update({"fields.title":t.title,"fields.opening_crawl":t.openingCrawl,"fields.producer":t.producer,"fields.release_date":t.releaseDate,"fields.director":t.director,"fields.created":null!==(n=e.created)&&void 0!==n?n:new Date,"fields.edited":new Date}),console.log("Document successfully updated!")}catch(r){return console.error(r)}})}returnMovieDataObserver(){const t=tD.collection("films");return new y(e=>{const n=t.onSnapshot(t=>{const n=[];t.forEach(t=>{n.push(this.mapper.returnMovieDomainModel(t.data(),t.id))}),e.next(n)});return()=>n()})}getRelevantPeople(t){return new y(e=>{if(!(t.length<1)){t=t.splice(0,10);const n=tD.collection("people").where("pk","in",t).onSnapshot(t=>{const n=[];t.forEach(t=>{const e=t.data();n.push(e)}),e.next(n)});return()=>n()}e.next(null)})}getRelevantPlanets(t){return new y(e=>{if(!(t.length<1)){t=t.splice(0,10);const n=tD.collection("planets").where("pk","in",t).onSnapshot(t=>{const n=[];t.forEach(t=>{const e=t.data();n.push(e)}),e.next(n)});return()=>n()}e.next(null)})}findMovie(t){return new y(e=>{const n=tD.collection("films").where("fields.title","==",t).onSnapshot(t=>{const n=[];t.forEach(t=>{n.push(this.mapper.returnMovieDomainModel(t.data(),t.id))}),e.next(n)});return()=>n()})}}return t.\u0275fac=function(e){return new(e||t)(rr(eD))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rD=(()=>{class t{constructor(){this.movieItem=null,this.movieItemSubject=new Hf(this.movieItem)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iD=["loginForm"],oD=["email_ref"];function sD(t,e){1&t&&(Mo(0,"span",4),rs(1,"Please enter a valid e-mail"),jo())}function aD(t,e){1&t&&(Mo(0,"span",4),rs(1,"Please enter your e-mail"),jo())}function uD(t,e){1&t&&(Mo(0,"span",4),rs(1,"Please enter your password"),jo())}function cD(t,e){1&t&&(Mo(0,"span",4),rs(1,"Please enter a password"),jo())}let lD=(()=>{class t{constructor(t,e){this.loginStateService=t,this.auth=e}ngAfterViewInit(){this.loginFormElement.nativeElement.focus()}closeLoginModal(){this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1}submitForm(){this.loginFormCredentials.valid&&this.auth.signIn(this.loginFormCredentials.value.email,this.loginFormCredentials.value.password).then(t=>{"error"===t.status?this.statusMessage=t.errorMessage:(this.loginFormCredentials.reset(),this.closeLoginModal())})}}return t.\u0275fac=function(e){return new(e||t)(Do(Cv),Do(JP))},t.\u0275cmp=Ft({type:t,selectors:[["app-login"]],viewQuery:function(t,e){if(1&t&&(Ya(iD,1),Ya(oD,1)),2&t){let t;Qa(t=Za())&&(e.loginFormCredentials=t.first),Qa(t=Za())&&(e.loginFormElement=t.first)}},inputs:{isLoginModalVisible:"isLoginModalVisible"},decls:28,vars:5,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group","align-right"],["type","button",1,"bi","bi-x-circle",3,"click"],[1,"help-block"],[1,"form-group"],[1,"label-w-100"],["name","email","type","email","id","inputEmail","placeholder","Email","ngModel","","required","","email","",1,"form-control"],["email","ngModel","email_ref",""],["class","help-block",4,"ngIf"],["name","password","type","password","placeholder","Password","ngModel","","required","","password","",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-default","align-center"]],template:function(t,e){if(1&t&&(Mo(0,"form",0,1),Go("ngSubmit",function(){return e.submitForm()}),Mo(2,"div",2),Mo(3,"button",3),Go("click",function(){return e.closeLoginModal()}),jo(),jo(),Mo(4,"span",4),rs(5),jo(),Mo(6,"div",5),Mo(7,"h2"),rs(8,"Login"),jo(),Mo(9,"label",6),Mo(10,"span"),rs(11,"Email address"),jo(),Vo(12,"input",7,8),jo(),No(15,sD,2,0,"span",9),No(16,aD,2,0,"span",9),jo(),Mo(17,"div",5),Mo(18,"label",6),Mo(19,"span"),rs(20,"Password"),jo(),Vo(21,"input",10,11),jo(),No(23,uD,2,0,"span",9),No(24,cD,2,0,"span",9),jo(),Mo(25,"div",5),Mo(26,"button",12),rs(27,"Submit"),jo(),jo(),jo()),2&t){const t=Po(1),n=Po(13),r=Po(22);ii(5),is(e.statusMessage),ii(10),Ro("ngIf",!n.valid&&n.touched),ii(1),Ro("ngIf",!n.valid&&!n.touched&&t.submitted),ii(7),Ro("ngIf",!r.valid&&r.touched),ii(1),Ro("ngIf",!r.valid&&!r.touched&&t.submitted)}},directives:[Zh,bh,Wh,Zl,yh,Xh,tf,nf,il],styles:["form[_ngcontent-%COMP%]{min-width:337px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;background:#fff;z-index:100;padding:15px;border-radius:15px;left:35%;top:15%}@media screen and (max-width:414px){form[_ngcontent-%COMP%]{left:2%;top:15%;width:95%}}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.bi[_ngcontent-%COMP%]{cursor:pointer}.align-right[_ngcontent-%COMP%]{text-align:right}.align-center[_ngcontent-%COMP%]{text-align:center}.label-w-100[_ngcontent-%COMP%]{width:100%}.bi-x-circle[_ngcontent-%COMP%]{background-color:transparent;border:none}"]}),t})(),hD=(()=>{class t{constructor(){this.response=new ja}emitTrue(){this.response.emit(!0)}emitFalse(){this.response.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["app-confirmation"]],outputs:{response:"response"},decls:13,vars:0,consts:[[1,"container-fluid","absolute-popup-window","background-white"],[1,"row"],[1,"col-md-6","align-center"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(Mo(0,"div",0),Mo(1,"p"),rs(2,"You've unsaved changes."),jo(),Mo(3,"p"),Mo(4,"strong"),rs(5,"Are you sure you want to cancel?"),jo(),jo(),Mo(6,"div",1),Mo(7,"div",2),Mo(8,"button",3),Go("click",function(){return e.emitTrue()}),rs(9,"Yes"),jo(),jo(),Mo(10,"div",2),Mo(11,"button",3),Go("click",function(){return e.emitFalse()}),rs(12,"No"),jo(),jo(),jo(),jo())},styles:[".absolute-popup-window[_ngcontent-%COMP%]{padding:15px;border-radius:15px;width:30%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;z-index:100;left:35%;top:35%}.background-white[_ngcontent-%COMP%]{background:#fff}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),t})();const fD=["editMovieForm"];function dD(t,e){if(1&t){const t=qo();Mo(0,"div",3),Go("click",function(){return Ne(t),Wo().closePopUp()}),jo()}}const pD=function(t){return{absolute:t}};function gD(t,e){if(1&t){const t=qo();Mo(0,"div",4),Mo(1,"form",5,6),Go("ngSubmit",function(){return Ne(t),Wo().closeAndSave()}),Mo(3,"dl",7),Mo(4,"h1"),rs(5),jo(),Mo(6,"dt"),rs(7,"Movie title:"),jo(),Mo(8,"dd"),Vo(9,"input",8),jo(),Mo(10,"dt"),rs(11,"Producers:"),jo(),Mo(12,"dd"),Vo(13,"input",9),jo(),Mo(14,"dt"),rs(15,"Release date:"),jo(),Mo(16,"dd"),Vo(17,"input",10),jo(),Mo(18,"dt"),rs(19,"Director:"),jo(),Mo(20,"dd"),Vo(21,"input",11),jo(),Mo(22,"dt"),rs(23,"Opening crawl:"),jo(),Mo(24,"dd"),Vo(25,"textarea",12),jo(),Mo(26,"div",13),Mo(27,"button",14),Go("click",function(){return Ne(t),Wo().confirmYourDecision()}),Vo(28,"i",15),rs(29," Cancel "),jo(),Mo(30,"button",16),rs(31," Save "),Vo(32,"i",17),jo(),jo(),jo(),jo(),jo()}if(2&t){const t=Po(2),e=Wo();ii(1),Ro("ngClass",ka(8,pD,!0===e.isPopUp)),ii(4),is(e.moviePayload.title),ii(4),Ro("ngModel",e.moviePayload.title),ii(4),Ro("ngModel",e.moviePayload.producer),ii(4),Ro("ngModel",e.moviePayload.releaseDate),ii(4),Ro("ngModel",e.moviePayload.director),ii(4),Ro("ngModel",e.moviePayload.openingCrawl),ii(5),Ro("disabled",!t.valid)}}function vD(t,e){if(1&t){const t=qo();Mo(0,"app-confirmation",18),Go("response",function(e){return Ne(t),Wo().handleConfirmationResponse(e)}),jo()}}let mD=(()=>{class t{constructor(t,e,n){this.moviesService=t,this.router=e,this.toggleService=n,this.isVisible=new ja,this.isConfirmationOpen=!1}handleConfirmationResponse(t){!0===t&&this.isPopUp?this.closePopUp():!0!==t||this.isPopUp?this.closeConfirmation():this.router.navigate(["../"])}closePopUp(){this.toggleService.movieItemSubject.next(null)}confirmYourDecision(){this.editMovieForm.dirty?this.isConfirmationOpen=!0:this.isPopUp?this.closePopUp():this.router.navigate(["../"])}closeConfirmation(){this.isConfirmationOpen=!1}closeAndSave(){this.editMovieForm.valid&&(this.isConfirmationOpen=!1,this.router.navigate(["movies"]),this.moviesService.saveChangesMovie(this.editMovieForm.value,this.moviePayload).then(()=>{this.closePopUp()}))}}return t.\u0275fac=function(e){return new(e||t)(Do(nD),Do(tv),Do(rD))},t.\u0275cmp=Ft({type:t,selectors:[["app-movies-edition"]],viewQuery:function(t,e){if(1&t&&Ya(fD,1),2&t){let t;Qa(t=Za())&&(e.editMovieForm=t.first)}},inputs:{moviePayload:"moviePayload",isPopUp:"isPopUp"},outputs:{isVisible:"isVisible"},decls:3,vars:3,consts:[["class","shadow",3,"click",4,"ngIf"],["class","container-fluid",4,"ngIf"],[3,"response",4,"ngIf"],[1,"shadow",3,"click"],[1,"container-fluid"],[3,"ngClass","ngSubmit"],["editMovieForm","ngForm"],[1,"dl-horizontal"],["type","text","name","title","required","",1,"form-control",3,"ngModel"],["type","text","name","producer","required","",1,"form-control",3,"ngModel"],["type","date","name","releaseDate","required","",1,"form-control",3,"ngModel"],["type","text","name","director","required","",1,"form-control",3,"ngModel"],["name","openingCrawl","required","",1,"form-control",3,"ngModel"],[1,"button-container"],["type","button",1,"btn","btn-info",3,"click"],[1,"bi","bi-chevron-left"],["type","submit",1,"btn","btn-info",3,"disabled"],[1,"bi","bi-check2"],[3,"response"]],template:function(t,e){1&t&&(No(0,dD,1,0,"div",0),No(1,gD,33,10,"div",1),No(2,vD,1,0,"app-confirmation",2)),2&t&&(Ro("ngIf",e.isPopUp&&e.moviePayload),ii(1),Ro("ngIf",e.moviePayload),ii(1),Ro("ngIf",e.isConfirmationOpen))},directives:[il,Zh,bh,Wh,tl,Zl,tf,yh,Xh,hD],styles:['form[_ngcontent-%COMP%]{background:#fff}.absolute[_ngcontent-%COMP%]{padding:15px;border-radius:15px;width:80%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);position:absolute;z-index:100;left:10%;top:15%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0 0 10px}@media screen and (max-width:414px){.absolute[_ngcontent-%COMP%]{width:95%;min-height:650px;left:2%;top:5%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px 0 0}}.shadow[_ngcontent-%COMP%]{content:"";position:absolute;background:rgba(0,0,0,.2);top:0;left:0;width:100vw;height:100vh;z-index:99}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.bi[_ngcontent-%COMP%]{cursor:pointer}.align-right[_ngcontent-%COMP%]{text-align:right}.col-md-4[_ngcontent-%COMP%]{padding:0;margin-top:15px}.align-center[_ngcontent-%COMP%]{text-align:center}textarea[_ngcontent-%COMP%]{min-height:200px;resize:vertical}']}),t})();const yD=["searchMovieForm"],bD=["navbar_brand"],wD=["navbar_mobile_menu"];function _D(t,e){1&t&&Vo(0,"app-login",29)}function ED(t,e){1&t&&(Vo(0,"app-movies-edition",30),Da(1,"async")),2&t&&Ro("moviePayload",Ra(1,2,Wo().movieToDisplay$))("isPopUp",!0)}function ID(t,e){if(1&t){const t=qo();Mo(0,"div",31),Go("click",function(){return Ne(t),Wo().hideLoginModal()}),jo()}}function SD(t,e){if(1&t){const t=qo();Mo(0,"button",32),Go("click",function(){return Ne(t),Wo().makeLoginModalVisible()}),rs(1," Login "),jo()}}function TD(t,e){if(1&t){const t=qo();Mo(0,"button",33),Go("click",function(){return Ne(t),Wo().signOut()}),rs(1," Logout "),jo()}}const CD=function(){return{exact:!0}},AD=function(t){return{active:t}};let kD=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.loginStateService=e,this.auth=n,this.moviesService=r,this.togglerService=i,this.title="StarWars",this.loginModalVisibility=!1,this.signInStatus$=this.auth.getSignInStatus(),this.movieToDisplay$=i.movieItemSubject}onDocumentKeydown(t){"Escape"===t.key&&(this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1)}ngDoCheck(){this.loginModalVisibility=this.loginStateService.loginModalVisibility,this.isPeopleActive=!!this.router.url.includes("people"),this.isPlanetsActive=!!this.router.url.includes("planets")}ngAfterViewInit(){this.navbarBrand.nativeElement.onfocus=()=>{this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1}}makeLoginModalVisible(){this.loginStateService.noKeyboardPagination=!0,this.loginStateService.loginModalVisibility=!0}hideLoginModal(){this.loginStateService.noKeyboardPagination=!1,this.loginStateService.loginModalVisibility=!1}findMovie(){this.movieTitleToSearch=this.searchForm.value.searchInput,this.searchForm.reset(),this.moviesService.findMovie(this.movieTitleToSearch).pipe(Sd(),C(t=>{if(t.length>0){const e=t.find(t=>t.title===this.movieTitleToSearch).docId;this.router.navigate(["movies",this.movieTitleToSearch,e])}else this.router.navigate(["not-found"])})).subscribe()}signOut(){this.auth.signOut()}disableOnKeyDownPagination(t){this.loginStateService.noKeyboardPagination="focus"===t}toggleNavbarMenuVisibility(){this.navbarMenuMobile.nativeElement.classList.toggle("collapse")}}return t.\u0275fac=function(e){return new(e||t)(Do(tv),Do(Cv),Do(JP),Do(nD),Do(rD))},t.\u0275cmp=Ft({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&(Ya(yD,1),Ya(bD,1),Ya(wD,1)),2&t){let t;Qa(t=Za())&&(e.searchForm=t.first),Qa(t=Za())&&(e.navbarBrand=t.first),Qa(t=Za())&&(e.navbarMenuMobile=t.first)}},hostBindings:function(t,e){1&t&&Go("keydown",function(t){return e.onDocumentKeydown(t)},!1,_r)},decls:43,vars:20,consts:[["role","dialog","class","login-modal",4,"ngIf"],[3,"moviePayload","isPopUp",4,"ngIf"],["class","shadow",3,"click",4,"ngIf"],[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["type","button","data-toggle","collapsed","data-target","#navbar-options","aria-expanded","false",1,"navbar-toggle","collapsed",3,"click"],[1,"sr-only"],[1,"icon-bar"],["routerLink","/movies",1,"navbar-brand"],["navbar_brand",""],["id","navbar-options",1,"navbar-collapse","collapse"],["navbar_mobile_menu",""],["role","search",1,"navbar-form","navbar-left",3,"ngSubmit"],["searchMovieForm","ngForm"],[1,"form-group"],["type","text","placeholder","Search a movie","ngModel","","name","searchInput","required","",1,"form-control",3,"focus","blur"],["type","submit",1,"btn","btn-default",3,"disabled"],[1,"navbar-form","navbar-right"],["type","button","class","btn btn-default",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-8","col-md-offset-2"],[1,"nav","nav-tabs"],["role","presentation","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/movies"],["role","presentation",3,"ngClass"],["routerLink","/planets/1"],["routerLink","/people/1"],["role","dialog",1,"login-modal"],[3,"moviePayload","isPopUp"],[1,"shadow",3,"click"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t&&(No(0,_D,1,0,"app-login",0),No(1,ED,2,4,"app-movies-edition",1),Da(2,"async"),No(3,ID,1,0,"div",2),Mo(4,"nav",3),Mo(5,"div",4),Mo(6,"div",5),Mo(7,"button",6),Go("click",function(){return e.toggleNavbarMenuVisibility()}),Mo(8,"span",7),rs(9,"Toggle navigation"),jo(),Vo(10,"span",8),Vo(11,"span",8),Vo(12,"span",8),jo(),Mo(13,"a",9,10),rs(15,"StarWars"),jo(),jo(),Mo(16,"div",11,12),Mo(18,"form",13,14),Go("ngSubmit",function(){return e.findMovie()}),Mo(20,"div",15),Mo(21,"input",16),Go("focus",function(){return e.disableOnKeyDownPagination("focus")})("blur",function(){return e.disableOnKeyDownPagination("blur")}),jo(),jo(),Mo(22,"button",17),rs(23," Search "),jo(),jo(),Mo(24,"form",18),No(25,SD,2,0,"button",19),Da(26,"async"),No(27,TD,2,0,"button",20),Da(28,"async"),jo(),jo(),jo(),jo(),Mo(29,"div",4),Mo(30,"div",21),Mo(31,"div",22),Mo(32,"ul",23),Mo(33,"li",24),Mo(34,"a",25),rs(35,"Movies"),jo(),jo(),Mo(36,"li",26),Mo(37,"a",27),rs(38,"Planets"),jo(),jo(),Mo(39,"li",26),Mo(40,"a",28),rs(41,"People"),jo(),jo(),jo(),Vo(42,"router-outlet"),jo(),jo(),jo()),2&t){const t=Po(19);Ro("ngIf",e.loginModalVisibility),ii(1),Ro("ngIf",Ra(2,9,e.movieToDisplay$)),ii(2),Ro("ngIf",e.loginModalVisibility),ii(19),Ro("disabled",!t.valid),ii(3),Ro("ngIf",!Ra(26,11,e.signInStatus$)),ii(2),Ro("ngIf",Ra(28,13,e.signInStatus$)),ii(6),Ro("routerLinkActiveOptions",function(t,e,n){const r=Fe()+15,i=xe();return i[r]===ri?ko(i,r,e()):function(t,e){return t[e]}(i,r)}(0,CD)),ii(3),Ro("ngClass",ka(16,AD,e.isPlanetsActive)),ii(3),Ro("ngClass",ka(18,AD,e.isPeopleActive))}},directives:[il,nv,Zh,bh,Wh,Zl,yh,Xh,tf,iv,tl,ov,lD,mD],pipes:[fl],styles:['*[_ngcontent-%COMP%]{--grey-border-1px:1px solid #c7c7c7;--light-grey-bg:#f5f5f5}.content-table[_ngcontent-%COMP%]{width:100%}.display_none[_ngcontent-%COMP%]{display:none}.shadow[_ngcontent-%COMP%]{content:"";position:absolute;background:rgba(0,0,0,.2);top:0;left:0;width:100%;height:100%;z-index:99}']}),t})(),xD=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"loader"]],template:function(t,e){1&t&&(Mo(0,"div",0),rs(1,"Loading..."),jo())},styles:['.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{border-radius:50%;width:2.5em;height:2.5em;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation:load7 1.8s ease-in-out infinite;animation:load7 1.8s ease-in-out infinite}.loader[_ngcontent-%COMP%]{color:#000;font-size:10px;margin:80px auto;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0}.loader[_ngcontent-%COMP%]:before{left:-3.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader[_ngcontent-%COMP%]:after{left:3.5em}@-webkit-keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}']}),t})(),OD=(()=>{class t{constructor(t){this.el=t,this.isOpen=!1}toggleOpen(){this.isOpen=!this.isOpen}onDocumentClick(t){const e=t.target;e&&!this.el.nativeElement.contains(e)&&this.isOpen&&(this.isOpen=!this.isOpen)}}return t.\u0275fac=function(e){return new(e||t)(Do(ks))},t.\u0275dir=Gt({type:t,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(t,e){1&t&&Go("click",function(t){return e.toggleOpen(t)})("click",function(t){return e.onDocumentClick(t)},!1,_r),2&t&&Zo("open",e.isOpen)}}),t})();var ND=n("LvDl");let PD=(()=>{class t{transform(t,e="",n=""){const r=t.slice(0);if(!r||""===e||!e)return r;if(r.length<=1)return r;if(!n||""===n){if("asc"===e)return r.sort((t,e)=>new Date(t.releaseDate).valueOf()-new Date(e.releaseDate).valueOf());if("desc"===e)return r.sort((t,e)=>new Date(e.releaseDate).valueOf()-new Date(t.releaseDate).valueOf())}return Object(ND.orderBy)(r,[n],[e])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=$t({name:"sort",type:t,pure:!0}),t})();function DD(t,e){1&t&&Vo(0,"app-spinner")}function RD(t,e){if(1&t){const t=qo();Mo(0,"i",7),Go("click",function(){return Ne(t),Wo(2).switchSortingMethod()}),jo()}}function LD(t,e){if(1&t){const t=qo();Mo(0,"i",8),Go("click",function(){return Ne(t),Wo(2).switchSortingMethod()}),jo()}}function MD(t,e){if(1&t){const t=qo();Mo(0,"li"),Mo(1,"button",13),Go("click",function(){Ne(t);const e=Wo().$implicit,n=Wo().ngIf;return Wo().toggleEditionModal(n,e.docId)}),rs(2,"Edit"),jo(),jo()}}const jD=function(t,e){return["/movies/",t,e]};function VD(t,e){if(1&t&&(Mo(0,"tr"),Mo(1,"td"),Mo(2,"div",9),Vo(3,"span",10),Mo(4,"span"),rs(5),jo(),Mo(6,"ul",11),Mo(7,"li"),Mo(8,"a",12),rs(9,"View Details"),jo(),jo(),No(10,MD,3,0,"li",1),Da(11,"async"),jo(),jo(),jo(),Mo(12,"td"),rs(13),Da(14,"date"),jo(),jo()),2&t){const t=e.$implicit,n=Wo(2);ii(5),os(" ",t.title,""),ii(3),Ro("routerLink",xa(8,jD,t.title,t.docId)),ii(2),Ro("ngIf",Ra(11,4,n.signInStatus$)),ii(3),os(" ",Ra(14,6,t.releaseDate)," ")}}function FD(t,e){if(1&t&&(Mo(0,"tbody"),Mo(1,"tr"),Mo(2,"th"),rs(3,"Title"),jo(),Mo(4,"th"),rs(5," Premiere "),No(6,RD,1,0,"i",4),No(7,LD,1,0,"i",5),jo(),jo(),No(8,VD,15,11,"tr",6),Da(9,"sort"),jo()),2&t){const t=e.ngIf,n=Wo();ii(6),Ro("ngIf","asc"===n.sortingMethod),ii(1),Ro("ngIf","desc"===n.sortingMethod),ii(1),Ro("ngForOf",function(t,e,n,r){const i=xe(),o=be(i,29);return Ma(i,La(i,29)?Pa(i,Fe(),4,o.transform,n,r,o):o.transform(n,r))}(0,0,t,n.sortingMethod))("ngForTrackBy",n.trackByFn)}}function UD(t,e){1&t&&(Mo(0,"button",14),rs(1," Create a new entry "),jo())}let qD=(()=>{class t{constructor(t,e,n){this.moviesService=t,this.auth=e,this.togglerService=n,this.sortingMethod=BD.ascending,this.myMovies$=this.moviesService.returnMovieDataObserver(),this.signInStatus$=this.auth.getSignInStatus()}toggleEditionModal(t,e){const n=t.find(t=>e===t.docId);this.togglerService.movieItemSubject.next(n)}switchSortingMethod(){this.sortingMethod=this.sortingMethod===BD.ascending?BD.descending:BD.ascending}}return t.\u0275fac=function(e){return new(e||t)(Do(nD),Do(JP),Do(rD))},t.\u0275cmp=Ft({type:t,selectors:[["app-movies-table"]],decls:9,vars:9,consts:[[1,"table","table-bordered"],[4,"ngIf"],[1,"container-fluid","align-left"],["type","button","class","btn btn-primary","routerLink","create",4,"ngIf"],["class","bi bi-sort-numeric-down",3,"click",4,"ngIf"],["class","bi bi-sort-numeric-up-alt",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"bi","bi-sort-numeric-down",3,"click"],[1,"bi","bi-sort-numeric-up-alt",3,"click"],["appDropdown","",1,"dropdown"],[1,"caret"],["aria-labelledby","dropdownMenu1",1,"dropdown-menu"],[3,"routerLink"],["type","button",1,"edit-button",3,"click"],["type","button","routerLink","create",1,"btn","btn-primary"]],template:function(t,e){1&t&&(Fo(0),Mo(1,"table",0),No(2,DD,1,0,"app-spinner",1),Da(3,"async"),No(4,FD,10,7,"tbody",1),Da(5,"async"),jo(),Mo(6,"div",2),No(7,UD,2,0,"button",3),Da(8,"async"),jo(),Uo()),2&t&&(ii(2),Ro("ngIf",Ra(3,3,!e.myMovies$)),ii(2),Ro("ngIf",Ra(5,5,e.myMovies$)),ii(3),Ro("ngIf",Ra(8,7,e.signInStatus$)))},directives:[il,xD,nl,OD,nv,ev],pipes:[fl,PD,dl],styles:[".caret[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{cursor:pointer}.align-left[_ngcontent-%COMP%]{text-align:start}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.edit-button[_ngcontent-%COMP%]{border:none;background-color:transparent;width:100%;text-align:left;padding-left:13%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#f5f4f4}"]}),t})();var BD=function(t){return t.ascending="asc",t.descending="desc",t}({});let HD=(()=>{class t{constructor(){}personMapper(t,e){return{birthYear:t.fields.birth_year,created:t.fields.created,edited:t.fields.edited,eyeColor:t.fields.eye_color,gender:t.fields.gender,hairColor:t.fields.hair_color,height:t.fields.height,homeworld:t.fields.homeworld,image:t.fields.image,mass:t.fields.mass,name:t.fields.name,skinColor:t.fields.skin_color,pk:t.pk,model:t.model,docId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zD=(()=>{class t{constructor(t){this.mapper=t}subscribeToPeopleData(t){return new y(e=>{const n=tD.collection("people").where("pk",">",t-10).limit(10).onSnapshot(t=>{const n=[];t.forEach(t=>{const e=t.data();n.push(this.mapper.personMapper(e,e.id))}),e.next(n)});return()=>n()})}}return t.\u0275fac=function(e){return new(e||t)(rr(HD))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function GD(t,e){1&t&&Vo(0,"app-spinner")}function $D(t,e){if(1&t&&(Fo(0),Mo(1,"tr"),Mo(2,"td"),rs(3),jo(),Mo(4,"td"),rs(5),jo(),jo(),Uo()),2&t){const t=e.$implicit;ii(3),is(t.name),ii(2),is(t.birthYear)}}const KD=function(t){return{active:t}},WD=function(t){return["/people",t]};function QD(t,e){if(1&t&&(Mo(0,"li",6),Mo(1,"a",7),rs(2),jo(),jo()),2&t){const t=e.$implicit,n=Wo(2);Ro("ngClass",ka(3,KD,n.matchButtonAndPagenumber(t))),ii(1),Ro("routerLink",ka(5,WD,t)),ii(1),is(t)}}function YD(t,e){if(1&t&&(Fo(0),Mo(1,"table",1),Mo(2,"tbody"),Mo(3,"tr"),Mo(4,"th"),rs(5,"Name"),jo(),Mo(6,"th"),rs(7,"Date of birf"),jo(),jo(),No(8,$D,6,2,"ng-container",2),jo(),jo(),Mo(9,"nav",3),Mo(10,"ul",4),No(11,QD,3,7,"li",5),jo(),jo(),Uo()),2&t){const t=e.ngIf,n=Wo();ii(8),Ro("ngForOf",t)("ngForTrackBy",n.trackByFn),ii(3),Ro("ngForOf",n.pages)("ngForTrackBy",n.trackByFn)}}let XD=(()=>{class t{constructor(t,e,n,r){this.getPeopleService=t,this.router=e,this.route=n,this.loginStateService=r,this.pages=[1,2,3,4,5,6,7,8,9],this.itemsToDisplayPerPage=10,this.myPeople$=this.route.params.pipe(C(t=>t.pageNumber),ed(t=>this.getPeopleService.subscribeToPeopleData(10*Number.parseInt(t))))}onDocumentKeydown(t){const e=Number(this.route.snapshot.params.pageNumber);"ArrowLeft"!==t.key||this.loginStateService.noKeyboardPagination||e>1&&this.router.navigate(["people",e-1]),"ArrowRight"!==t.key||this.loginStateService.noKeyboardPagination||e<9&&this.router.navigate(["people",e+1])}matchButtonAndPagenumber(t){if(t===Number(this.route.snapshot.params.pageNumber))return!0}}return t.\u0275fac=function(e){return new(e||t)(Do(zD),Do(tv),Do(Lp),Do(Cv))},t.\u0275cmp=Ft({type:t,selectors:[["app-people-table"]],hostBindings:function(t,e){1&t&&Go("keydown",function(t){return e.onDocumentKeydown(t)},!1,_r)},decls:3,vars:4,consts:[[4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"routerLink"]],template:function(t,e){1&t&&(No(0,GD,1,0,"app-spinner",0),No(1,YD,12,4,"ng-container",0),Da(2,"async")),2&t&&(Ro("ngIf",!e.myPeople$),ii(1),Ro("ngIf",Ra(2,2,e.myPeople$)))},directives:[il,xD,nl,tl,nv],pipes:[fl],styles:["table[_ngcontent-%COMP%]{width:100%}.pagination[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),ZD=(()=>{class t{constructor(){}planetMapper(t,e){return{climate:t.fields.climate,created:t.fields.created,diameter:t.fields.diameter,edited:t.fields.edited,gravity:t.fields.gravity,name:t.fields.name,orbitalPeriod:t.fields.orbital_period,population:t.fields.population,rotationPeriod:t.fields.rotation_period,surfaceWater:t.fields.surface_water,terrain:t.fields.terrain,pk:t.pk,model:t.model,docId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JD=(()=>{class t{constructor(t){this.mapper=t}subscribeToPlanetsData(t){return new y(e=>{const n=tD.collection("planets").where("pk",">",t-10).limit(10).onSnapshot(t=>{const n=[];t.forEach(t=>{const e=t.data();n.push(this.mapper.planetMapper(e,e.id))}),e.next(n)});return()=>n()})}}return t.\u0275fac=function(e){return new(e||t)(rr(ZD))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tR(t,e){1&t&&Vo(0,"app-spinner")}function eR(t,e){if(1&t&&(Fo(0),Mo(1,"tr"),Mo(2,"td"),rs(3),jo(),Mo(4,"td"),rs(5),jo(),jo(),Uo()),2&t){const t=e.$implicit;ii(3),is(t.name),ii(2),is(t.population)}}const nR=function(t){return{active:t}},rR=function(t){return["/planets",t]};function iR(t,e){if(1&t&&(Mo(0,"li",6),Mo(1,"a",7),rs(2),jo(),jo()),2&t){const t=e.$implicit,n=Wo(2);Ro("ngClass",ka(3,nR,n.matchButtonAndPagenumber(t))),ii(1),Ro("routerLink",ka(5,rR,t)),ii(1),is(t)}}function oR(t,e){if(1&t&&(Fo(0),Mo(1,"table",1),Mo(2,"tbody"),Mo(3,"tr"),Mo(4,"th"),rs(5,"Planet name"),jo(),Mo(6,"th"),rs(7,"Population"),jo(),jo(),No(8,eR,6,2,"ng-container",2),jo(),jo(),Mo(9,"nav",3),Mo(10,"ul",4),No(11,iR,3,7,"li",5),jo(),jo(),Uo()),2&t){const t=e.ngIf,n=Wo();ii(8),Ro("ngForOf",t)("ngForTrackBy",n.trackByFn),ii(3),Ro("ngForOf",n.pages)("ngForTrackBy",n.trackByFn)}}let sR=(()=>{class t{constructor(t,e,n,r){this.getPlanetsService=t,this.router=e,this.route=n,this.loginStateService=r,this.pages=[1,2,3,4,5,6],this.itemsToDisplayPerPage=10,this.myPlanets$=this.route.params.pipe(C(t=>t.pageNumber),ed(t=>this.getPlanetsService.subscribeToPlanetsData(10*Number(t))))}onDocumentKeydown(t){const e=Number(this.route.snapshot.params.pageNumber);"ArrowLeft"!==t.key||this.loginStateService.noKeyboardPagination||e>1&&this.router.navigate(["planets",e-1]),"ArrowRight"!==t.key||this.loginStateService.noKeyboardPagination||e<6&&this.router.navigate(["planets",e+1])}matchButtonAndPagenumber(t){if(t===Number(this.route.snapshot.params.pageNumber))return!0}}return t.\u0275fac=function(e){return new(e||t)(Do(JD),Do(tv),Do(Lp),Do(Cv))},t.\u0275cmp=Ft({type:t,selectors:[["app-planets-table"]],hostBindings:function(t,e){1&t&&Go("keydown",function(t){return e.onDocumentKeydown(t)},!1,_r)},decls:3,vars:4,consts:[[4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Page navigation"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"routerLink"]],template:function(t,e){1&t&&(No(0,tR,1,0,"app-spinner",0),No(1,oR,12,4,"ng-container",0),Da(2,"async")),2&t&&(Ro("ngIf",!e.myPlanets$),ii(1),Ro("ngIf",Ra(2,2,e.myPlanets$)))},directives:[il,xD,nl,tl,nv],pipes:[fl],styles:[".pagination[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),aR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["app-page-not-found"]],decls:4,vars:0,consts:[["routerLink","/movies"]],template:function(t,e){1&t&&(Mo(0,"h1"),rs(1,"Page not found!"),jo(),Mo(2,"a",0),rs(3,"Refresh"),jo())},directives:[nv],styles:[""]}),t})();class uR extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class cR extends uR{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(QP){r=!0,n=!!QP&&QP||new Error(QP)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class lR extends cR{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let hR=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class fR extends hR{constructor(t,e=hR.now){super(t,()=>fR.delegate&&fR.delegate!==this?fR.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return fR.delegate&&fR.delegate!==this?fR.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class dR extends fR{}const pR=new dR(lR);let gR=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return sf(this.value);case"E":return t=this.error,new y(e=>e.error(t));case"C":return Jf()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class vR extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(vR.dispatch,this.delay,new mR(t,this.destination)))}_next(t){this.scheduleMessage(gR.createNext(t))}_error(t){this.scheduleMessage(gR.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(gR.createComplete()),this.unsubscribe()}}class mR{constructor(t,e){this.notification=t,this.destination=e}}class yR extends I{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new bR(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new w;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new _(this,t)),r&&t.add(t=new vR(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||pR).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class bR{constructor(t,e){this.time=t,this.value=e}}const wR=["editMovieForm"];function _R(t,e){1&t&&Vo(0,"app-spinner")}function ER(t,e){if(1&t&&(Mo(0,"dl",14),Mo(1,"h1"),rs(2),jo(),Mo(3,"dt"),rs(4,"Movie title:"),jo(),Mo(5,"dd"),rs(6),jo(),Mo(7,"dt"),rs(8,"Producers:"),jo(),Mo(9,"dd"),rs(10),jo(),Mo(11,"dt"),rs(12,"Release date:"),jo(),Mo(13,"dd"),rs(14),Da(15,"date"),jo(),Mo(16,"dt"),rs(17,"Director:"),jo(),Mo(18,"dd"),rs(19),jo(),Mo(20,"dt"),rs(21,"Opening crawl:"),jo(),Mo(22,"dd",15),rs(23),jo(),jo()),2&t){const t=e.ngIf;ii(2),is(t.title),ii(4),is(t.title),ii(4),is(t.producer),ii(4),is(Ra(15,6,t.releaseDate)),ii(5),is(t.director),ii(4),is(t.openingCrawl)}}function IR(t,e){if(1&t){const t=qo();Mo(0,"button",16),Go("click",function(){Ne(t);const e=Wo(2);return e.isElementHidden=!e.isElementHidden}),rs(1," Edit "),jo()}}function SR(t,e){if(1&t){const t=qo();Mo(0,"button",17),Go("click",function(){return Ne(t),Wo(2).deleteMovie()}),rs(1," Delete "),jo()}}const TR=function(t,e){return["/movies/",t,e]};function CR(t,e){if(1&t&&(Mo(0,"li"),Mo(1,"a",23),rs(2),Mo(3,"span",24),rs(4),jo(),jo(),jo()),2&t){const t=e.$implicit;ii(1),Ro("routerLink",xa(3,TR,t.title,t.docId)),ii(1),os("",t.title," "),ii(2),is(t.director)}}function AR(t,e){if(1&t&&(Mo(0,"div",12),Mo(1,"div",18),Mo(2,"button",19),rs(3," Movies with the same title: "),Vo(4,"span",20),jo(),Mo(5,"ul",21),No(6,CR,5,6,"li",22),jo(),jo(),jo()),2&t){const t=Wo(2);ii(6),Ro("ngForOf",t.moviesWithTheSameTitles)}}function kR(t,e){if(1&t&&(Mo(0,"li"),Mo(1,"a"),rs(2),jo(),jo()),2&t){const t=e.$implicit;ii(2),is(t.fields.name)}}function xR(t,e){if(1&t&&(Mo(0,"div",18),Mo(1,"button",19),rs(2," Show relevant characters "),Vo(3,"span",20),jo(),Mo(4,"ul",21),No(5,kR,3,1,"li",22),jo(),jo()),2&t){const t=e.ngIf;ii(5),Ro("ngForOf",t)}}function OR(t,e){if(1&t&&(Mo(0,"li"),Mo(1,"a"),rs(2),jo(),jo()),2&t){const t=e.$implicit;ii(2),is(t.fields.name)}}function NR(t,e){if(1&t&&(Mo(0,"div",18),Mo(1,"button",19),rs(2," Show relevant planets "),Vo(3,"span",20),jo(),Mo(4,"ul",21),No(5,OR,3,1,"li",22),jo(),jo()),2&t){const t=e.ngIf;ii(5),Ro("ngForOf",t)}}function PR(t,e){if(1&t&&(Mo(0,"div",3),No(1,ER,24,8,"dl",4),Da(2,"async"),Mo(3,"div",5),Mo(4,"div"),Mo(5,"button",6),Vo(6,"i",7),rs(7," Back "),jo(),jo(),Mo(8,"div"),No(9,IR,2,0,"button",8),Da(10,"async"),No(11,SR,2,0,"button",9),Da(12,"async"),jo(),jo(),Mo(13,"div",10),No(14,AR,7,1,"div",11),Mo(15,"div",12),No(16,xR,6,1,"div",13),Da(17,"async"),jo(),Mo(18,"div",12),No(19,NR,6,1,"div",13),Da(20,"async"),jo(),jo(),jo()),2&t){const t=Wo();ii(1),Ro("ngIf",Ra(2,6,t.displayFormVisibility$)),ii(8),Ro("ngIf",Ra(10,8,t.signInStatus$)),ii(2),Ro("ngIf",Ra(12,10,t.signInStatus$)),ii(3),Ro("ngIf",t.moviesWithTheSameTitles[0]),ii(2),Ro("ngIf",Ra(17,12,t.myPeople$)),ii(3),Ro("ngIf",Ra(20,14,t.myPlanet$))}}function DR(t,e){if(1&t&&(Vo(0,"app-movies-edition",25),Da(1,"async")),2&t){const t=Wo();Ro("isPopUp",!1)("moviePayload",Ra(1,2,t.editFormVisibility$))}}let RR=(()=>{class t{constructor(t,e,n,r){this.route=t,this.moviesService=e,this.router=n,this.auth=r,this.isElementHidden=!0,this.moviesWithTheSameTitles=[],this.foundInfo$=this.route.params.pipe(C(t=>t.details),ed(t=>this.moviesService.findMovie(t).pipe(function(t,e,n,r){const i=new yR(void 0,void 0,void 0);return t=>X(()=>i,void 0)(t)}(),G(),C(t=>{let e;const n=this.route.snapshot.params.movieID;return 0===t.length?this.router.navigate(["not-found"]):e=t.length>1?t.find(t=>t.docId===n):t[0],this.moviesWithTheSameTitles=t.filter(t=>t.docId!==n),this.myPeople$=this.moviesService.getRelevantPeople(e.characters),this.myPlanet$=this.moviesService.getRelevantPlanets(e.planets),e})))),this.spinnerVisibility$=this.foundInfo$,this.displayFormVisibility$=this.foundInfo$,this.editFormVisibility$=this.foundInfo$,this.signInStatus$=this.auth.getSignInStatus()}ngOnInit(){this.route.toString().includes("edit")&&(this.isElementHidden=!this.isElementHidden)}saveMovie(){const t=this.route.snapshot.params.movieID;this.router.navigate(["movies"]),this.moviesService.saveChangesMovie(this.movieInformation.value,t)}deleteMovie(){this.moviesService.delete(this.route.snapshot.params.movieID).then(()=>{this.router.navigate(["movies"])})}}return t.\u0275fac=function(e){return new(e||t)(Do(Lp),Do(nD),Do(tv),Do(JP))},t.\u0275cmp=Ft({type:t,selectors:[["app-movies-display"]],viewQuery:function(t,e){if(1&t&&Ya(wR,1),2&t){let t;Qa(t=Za())&&(e.movieInformation=t.first)}},decls:4,vars:5,consts:[[4,"ngIf"],["class","container-fluid",4,"ngIf"],[3,"isPopUp","moviePayload",4,"ngIf"],[1,"container-fluid"],["class","dl-horizontal",4,"ngIf"],[1,"button-container"],["type","button","routerLink","../../",1,"btn","btn-info"],[1,"bi","bi-chevron-left"],["type","button","class","btn btn-default","routerLink","edit",3,"click",4,"ngIf"],["type","button","class","btn btn-default margin-left-5px","routerLink","/movies",3,"click",4,"ngIf"],[1,"relevant-entities-block"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["class","dropdown","appDropdown","",4,"ngIf"],[1,"dl-horizontal"],[1,"crawl"],["type","button","routerLink","edit",1,"btn","btn-default",3,"click"],["type","button","routerLink","/movies",1,"btn","btn-default","margin-left-5px",3,"click"],["appDropdown","",1,"dropdown"],["type","button","id","dropdownMenu1","data-toggle","dropdown","aria-haspopup","true","aria-expanded","true",1,"btn","btn-default","dropdown-toggle"],[1,"caret"],["aria-labelledby","dropdownMenu1",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"help-block"],[3,"isPopUp","moviePayload"]],template:function(t,e){1&t&&(No(0,_R,1,0,"app-spinner",0),Da(1,"async"),No(2,PR,21,16,"div",1),No(3,DR,2,4,"app-movies-edition",2)),2&t&&(Ro("ngIf",!Ra(1,3,e.spinnerVisibility$)),ii(2),Ro("ngIf",e.isElementHidden),ii(1),Ro("ngIf",!e.isElementHidden))},directives:[il,xD,ev,OD,nl,nv,mD],pipes:[fl,dl],styles:["input[_ngcontent-%COMP%]{margin:0;line-height:.9;border:var(--grey-border-1px);border-bottom:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:4px;width:100%;background-color:var(--light-grey-bg)}textarea[_ngcontent-%COMP%]{min-height:120px;resize:none;border:none;border:var(--grey-border-1px)}.crawl[_ngcontent-%COMP%]{word-wrap:break-word}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{background-color:#fff}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#ffe1e1}.align-right[_ngcontent-%COMP%]{text-align:end;padding:0}.dropdown-menu[_ngcontent-%COMP%]{max-height:250px;cursor:pointer;overflow-y:auto}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.relevant-entities-block[_ngcontent-%COMP%]{margin-top:15px;display:flex;flex-direction:row;justify-content:flex-start;align-content:space-between}.col-md-3[_ngcontent-%COMP%]{padding-left:0}@media screen and (max-width:414px){.relevant-entities-block[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.col-md-3[_ngcontent-%COMP%]{padding-left:15px}}.dropdown-toggle[_ngcontent-%COMP%]{margin-bottom:5px;width:100%}"]}),t})();class LR{}function MR(t,e=null){return{type:2,steps:t,options:e}}function jR(t){return{type:6,styles:t,offset:null}}function VR(t){Promise.resolve(null).then(t)}class FR{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){VR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class UR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?VR(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function qR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function BR(t){switch(t.length){case 0:return new FR;case 1:return t[0];default:return new UR(t)}}function HR(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function zR(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&GR(n,"start",t)));break;case"done":t.onDone(()=>r(n&&GR(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&GR(n,"destroy",t)))}}function GR(t,e,n){const r=n.totalTime,i=$R(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function $R(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function KR(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function WR(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let QR=(t,e)=>!1,YR=(t,e)=>!1,XR=(t,e,n)=>[];const ZR=qR();(ZR||"undefined"!=typeof Element)&&(QR=(t,e)=>t.contains(e),YR=(()=>{if(ZR||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):YR}})(),XR=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let JR=null,tL=!1;const eL=YR,nL=QR,rL=XR;let iL=(()=>{class t{validateStyleProperty(t){return function(t){JR||(JR=("undefined"!=typeof document?document.body:null)||{},tL=!!JR.style&&"WebkitAppearance"in JR.style);let e=!0;return JR.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in JR.style,!e&&tL)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in JR.style),e}(t)}matchesElement(t,e){return eL(t,e)}containsElement(t,e){return nL(t,e)}query(t,e,n){return rL(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new FR(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),oL=(()=>{class t{}return t.NOOP=new iL,t})();function sL(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aL(parseFloat(e[1]),e[2])}function aL(t,e){switch(e){case"s":return 1e3*t;default:return t}}function uL(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=aL(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=aL(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function cL(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function lL(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else cL(t,n);return n}function hL(t,e,n){return n?e+":"+n+";":""}function fL(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=hL(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=hL(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function dL(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=_L(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),qR()&&fL(t))}function pL(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=_L(e);t.style[n]=""}),qR()&&fL(t))}function gL(t){return Array.isArray(t)?1==t.length?t[0]:MR(t):t}const vL=new RegExp("{{\\s*(.+?)\\s*}}","g");function mL(t){let e=[];if("string"==typeof t){let n;for(;n=vL.exec(t);)e.push(n[1]);vL.lastIndex=0}return e}function yL(t,e,n){const r=t.toString(),i=r.replace(vL,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function bL(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const wL=/-+([a-z0-9])/g;function _L(t){return t.replace(wL,(...t)=>t[1].toUpperCase())}function EL(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function IL(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(CL(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(CL(s,i))}(t,n,e)):n.push(t),n}const SL=new Set(["true","1"]),TL=new Set(["false","0"]);function CL(t,e){const n=SL.has(t)||TL.has(t),r=SL.has(e)||TL.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?SL.has(t):TL.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?SL.has(e):TL.has(e)),s&&a}}const AL=new RegExp("s*:selfs*,?","g");function kL(t,e,n){return new xL(t).build(e,n)}class xL{constructor(t){this._driver=t}build(t,e){const n=new OL(e);return this._resetContextStyleTimingState(n),EL(this,gL(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(NL(t)){const e=t;Object.keys(e).forEach(t=>{mL(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=bL(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=EL(this,gL(t.animation),e);return{type:1,matchers:IL(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:PL(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>EL(this,t,e)),options:PL(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=EL(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:PL(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return DL(uL(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=DL(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||uL(r,e),DL(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:jR({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=jR(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(NL(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=mL(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(NL(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(NL(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:EL(this,gL(t.animation),e),options:PL(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:PL(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:PL(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(AL,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,KR(e.collectedStyles,e.currentQuerySelector,{});const s=EL(this,gL(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:PL(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:uL(t.timings,e.errors,!0);return{type:12,animation:EL(this,gL(t.animation),e),timings:n,options:null}}}class OL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function NL(t){return!Array.isArray(t)&&"object"==typeof t}function PL(t){var e;return t?(t=cL(t)).params&&(t.params=(e=t.params)?cL(e):null):t={},t}function DL(t,e,n){return{duration:t,delay:e,easing:n}}function RL(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class LL{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ML=new RegExp(":enter","g"),jL=new RegExp(":leave","g");function VL(t,e,n,r,i,o={},s={},a,u,c=[]){return(new FL).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class FL{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new LL;const l=new qL(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),EL(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[RL(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?sL(n.duration):null,o=null!=n.delay?sL(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),EL(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UL);const t=sL(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>EL(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?sL(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),EL(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return uL(e.params?yL(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?sL(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=UL);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),EL(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;EL(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const UL={};class qL{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new BL(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=sL(n.duration)),null!=n.delay&&(r.delay=sL(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=yL(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new qL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=UL,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new HL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ML,"."+this._enterClassName)).replace(jL,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class BL{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new BL(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):lL(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=yL(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=lL(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?bL(t.values()):[],o=e.size?bL(e.values()):[];if(n){const t=r[0],e=cL(t);t.offset=0,e.offset=1,r=[t,e]}return RL(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class HL extends BL{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=lL(t[0],!1);a.offset=0,i.push(a);const u=lL(t[0],!1);u.offset=zL(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=lL(t[r],!1);s.offset=zL((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return RL(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function zL(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class GL{}class $L extends GL{normalizePropertyName(t,e){return _L(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(KL[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const KL=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WL(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const QL={};class YL{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||QL,f=this.buildStyles(n,s&&s.params||QL,l),d=a&&a.params||QL,p=this.buildStyles(r,d,l),g=new Set,v=new Map,m=new Map,y="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:VL(t,e,this.ast.animation,i,o,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return WL(e,this._triggerName,n,r,y,f,p,[],[],v,m,_,l);w.forEach(t=>{const n=t.element,r=KR(v,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=KR(m,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=bL(g.values());return WL(e,this._triggerName,n,r,y,f,p,w,E,v,m,_)}}class XL{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=cL(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=yL(o,r,e)),n[t]=o})}}),n}}class ZL{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new XL(t.style,t.options&&t.options.params||{})}),JL(this.states,"true","1"),JL(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new YL(t,e,this.states))}),this.fallbackTransition=new YL(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function JL(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const tM=new LL;class eM{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=kL(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=HR(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=VL(this._driver,e,i,"ng-enter","ng-leave",{},{},n,tM,r),o.forEach(t=>{const e=KR(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=BR(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=$R(e,"","","");return zR(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const nM=[],rM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class oM{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=cL(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const sM=new oM("void");class aM{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pM(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=KR(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=KR(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(pM(t,"ng-trigger"),pM(t,"ng-trigger-"+e),a[e]=sM),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new cM(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(pM(t,"ng-trigger"),pM(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new oM(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=sM),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{pL(t,n),dL(t,r)})}return}const c=KR(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(pM(t,"ng-animate-queued"),o.onStart(()=>{gM(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&BR(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||sM,s=new oM("void"),a=new cM(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==rM||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){pM(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=$R(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,zR(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class uM{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new aM(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(lM(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!lM(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pM(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gM(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(lM(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return lM(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return BR(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=rM,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)pM(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?BR(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new LL,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=dM(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>pM(t,n))});const g=[],v=new Set,m=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),v.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>v.add(t)):m.add(t))}const y=new Map,b=dM(h,Array.from(v));b.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>pM(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>gM(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>gM(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=y.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>pL(i,p.fromStyles)),e.onDestroy(()=>dL(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>pL(i,p.fromStyles)),e.onDestroy(()=>dL(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>KR(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,I=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(I.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{KR(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>yM(t,a,u)),T=new Map;fM(T,this.driver,m,u,"*").forEach(t=>{yM(t,a,u)&&S.push(t)});const C=new Map;f.forEach((t,e)=>{fM(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const A=[],k=[],x={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>dL(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=x;if(I.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=I.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>I.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,C,T);if(o.setRealPlayer(n),t===x)A.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=BR(e)),r.push(o)}}else pL(e,s.fromStyles),o.onDestroy(()=>dL(e,s.toStyles)),k.push(o),c.has(e)&&r.push(o)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=BR(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t.__ng_removed;if(gM(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?vM(this,t,r):this.processLeaveNode(t)}return g.length=0,A.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),A}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=KR(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}pL(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new FR(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return mM(t,e),e}((n.get(h)||nM).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),v=o.get(h),m=HR(0,this._normalizer,0,e.keyframes,g,v),y=this._buildPlayer(e,m,p);if(e.subTimeline&&r&&l.add(h),d){const e=new cM(t,s,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{KR(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>pM(t,"ng-animating"));const f=BR(h);return f.onDestroy(()=>{c.forEach(t=>gM(t,"ng-animating")),dL(a,e.toStyles)}),l.forEach(t=>{KR(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new FR(t.duration,t.delay)}}class cM{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new FR,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>zR(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){KR(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function lM(t){return t&&1===t.nodeType}function hM(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function fM(t,e,n,r,i){const o=[];n.forEach(t=>o.push(hM(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=iM,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>hM(t,o[a++])),s}function dM(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function pM(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function gM(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function vM(t,e,n){BR(n).onDone(()=>t.processLeaveNode(e))}function mM(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof UR?mM(r.players,e):e.push(r)}}function yM(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class bM{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new uM(t,e,n),this._timelineEngine=new eM(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=kL(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new ZL(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=WR(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=WR(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wM=(()=>{class t extends LR{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:It.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?MR(t):t;return IM(this._renderer,null,e,"register",[n]),new _M(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(rr(Os),rr(nc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class _M extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new EM(this._id,t,e||{},this._renderer)}}class EM{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return IM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function IM(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let SM=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new TM("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new CM(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(rr(Os),rr(bM),rr(Iu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class TM{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class CM extends TM{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let AM=(()=>{class t extends bM{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(rr(nc),rr(oL),rr(GL))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const kM=[{provide:oL,useClass:iL},{provide:new qn("AnimationModuleType"),useValue:"NoopAnimations"},{provide:LR,useClass:wM},{provide:GL,useFactory:function(){return new $L}},{provide:bM,useClass:AM},{provide:Os,useFactory:function(t,e,n){return new SM(t,e,n)},deps:[Dl,bM,Iu]}];let xM=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:kM,imports:[Gl]}),t})(),OM=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.getSignInStatus().pipe(Sd(),C(t=>!!t||this.router.createUrlTree(["/movies"])))}}return t.\u0275fac=function(e){return new(e||t)(rr(JP),rr(tv))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NM=["createMovieForm"];function PM(t,e){if(1&t){const t=qo();Mo(0,"app-confirmation",17),Go("response",function(e){return Ne(t),Wo().handleConfirmationResponse(e)}),jo()}}const DM=[{path:"movies",component:qD},{path:"movies/create",component:(()=>{class t{constructor(t,e){this.movieService=t,this.router=e,this.isConfirmationOpen=!1}handleConfirmationResponse(t){!0===t?this.router.navigate(["../"]):this.closeConfirmation()}confirmYourDecision(){this.createMovieForm.touched?this.isConfirmationOpen=!0:this.router.navigate(["../"])}closeConfirmation(){this.isConfirmationOpen=!1}saveMovie(){this.movieService.add(this.createMovieForm.value).then(()=>{this.router.navigate(["../movies"])})}}return t.\u0275fac=function(e){return new(e||t)(Do(nD),Do(tv))},t.\u0275cmp=Ft({type:t,selectors:[["app-movies-create"]],viewQuery:function(t,e){if(1&t&&Ya(NM,1),2&t){let t;Qa(t=Za())&&(e.createMovieForm=t.first)}},decls:37,vars:2,consts:[[1,"container-fluid"],[3,"ngSubmit"],["createMovieForm","ngForm"],[1,"dl-horizontal"],["type","text","ngModel","","name","title","required","",1,"form-control"],["type","text","ngModel","","name","producer","required","",1,"form-control"],["type","date","ngModel","","name","releaseDate","required","",1,"form-control"],["type","text","ngModel","","name","director","required","",1,"form-control"],["ngModel","","name","openingCrawl","required","",1,"form-control"],[1,"row"],[1,"col-md-4"],["type","button",1,"btn","btn-info",3,"click"],[1,"bi","bi-chevron-left"],[1,"col-md-4","col-md-offset-4","align-right"],["type","submit",1,"btn","btn-info",3,"disabled"],[1,"bi","bi-check2"],[3,"response",4,"ngIf"],[3,"response"]],template:function(t,e){if(1&t&&(Mo(0,"div",0),Mo(1,"form",1,2),Go("ngSubmit",function(){return e.saveMovie()}),Mo(3,"dl",3),Mo(4,"h1"),rs(5,"Add a new entry"),jo(),Mo(6,"dt"),rs(7,"Movie title:"),jo(),Mo(8,"dd"),Vo(9,"input",4),jo(),Mo(10,"dt"),rs(11,"Producers:"),jo(),Mo(12,"dd"),Vo(13,"input",5),jo(),Mo(14,"dt"),rs(15,"Release date:"),jo(),Mo(16,"dd"),Vo(17,"input",6),jo(),Mo(18,"dt"),rs(19,"Director:"),jo(),Mo(20,"dd"),Vo(21,"input",7),jo(),Mo(22,"dt"),rs(23,"Opening crawl:"),jo(),Mo(24,"dd"),Vo(25,"textarea",8),jo(),Mo(26,"div",0),Mo(27,"div",9),Mo(28,"div",10),Mo(29,"button",11),Go("click",function(){return e.confirmYourDecision()}),Vo(30,"i",12),rs(31," Cancel "),jo(),jo(),Mo(32,"div",13),Mo(33,"button",14),rs(34," Save "),Vo(35,"i",15),jo(),jo(),jo(),jo(),jo(),jo(),jo(),No(36,PM,1,0,"app-confirmation",16)),2&t){const t=Po(2);ii(33),Ro("disabled",!t.valid),ii(3),Ro("ngIf",e.isConfirmationOpen)}},directives:[Zh,bh,Wh,Zl,yh,Xh,tf,il,hD],styles:["textarea[_ngcontent-%COMP%]{resize:vertical;margin-bottom:15px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#ffe1e1}.align-right[_ngcontent-%COMP%]{text-align:end;padding:0}"]}),t})(),canActivate:[OM],pathMatch:"full"},{path:"movies/:details/:movieID",component:RR},{path:"movies/:details/:movieID/edit",component:RR,canActivate:[OM]},{path:"people",component:XD},{path:"people/:pageNumber",component:XD},{path:"planets",component:sR},{path:"planets/:pageNumber",component:sR},{path:"not-found",component:aR},{path:"",redirectTo:"/movies",pathMatch:"full"},{path:"**",redirectTo:"/not-found"}];let RM=(()=>{class t{}return t.\u0275mod=Ht({type:t,bootstrap:[kD]}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[],imports:[[Gl,Tv,of,Bf,gv.forRoot(DM),xM]]}),t})();(function(){if(Mu)throw new Error("Cannot enable prod mode after platform setup.");Lu=!1})(),Hl().bootstrapModule(RM).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);